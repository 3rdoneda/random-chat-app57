var wC=Object.defineProperty;var bC=(t,e,n)=>e in t?wC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var se=(t,e,n)=>bC(t,typeof e!="symbol"?e+"":e,n);function _C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var I1={exports:{}},tf={},A1={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),NC=Symbol.for("react.portal"),kC=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),TC=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),IC=Symbol.for("react.forward_ref"),AC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),Rv=Symbol.iterator;function OC(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var P1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R1=Object.assign,O1={};function ul(t,e,n){this.props=t,this.context=e,this.refs=O1,this.updater=n||P1}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M1(){}M1.prototype=ul.prototype;function b0(t,e,n){this.props=t,this.context=e,this.refs=O1,this.updater=n||P1}var _0=b0.prototype=new M1;_0.constructor=b0;R1(_0,ul.prototype);_0.isPureReactComponent=!0;var Ov=Array.isArray,D1=Object.prototype.hasOwnProperty,j0={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,s={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)D1.call(e,r)&&!L1.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:xu,type:t,key:a,ref:o,props:s,_owner:j0.current}}function MC(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function N0(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function DC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mv=/\/+/g;function _m(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DC(""+t.key):e.toString(36)}function Ad(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case NC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_m(o,0):r,Ov(s)?(n="",t!=null&&(n=t.replace(Mv,"$&/")+"/"),Ad(s,e,n,"",function(d){return d})):s!=null&&(N0(s)&&(s=MC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ov(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+_m(a,l);o+=Ad(a,e,n,c,s)}else if(c=OC(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+_m(a,l++),o+=Ad(a,e,n,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nd(t,e,n){if(t==null)return t;var r=[],s=0;return Ad(t,r,"","",function(a){return e.call(n,a,s++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},Pd={transition:null},UC={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:j0};function F1(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:nd,forEach:function(t,e,n){nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nd(t,function(){e++}),e},toArray:function(t){return nd(t,function(e){return e})||[]},only:function(t){if(!N0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=ul;ve.Fragment=kC;ve.Profiler=TC;ve.PureComponent=b0;ve.StrictMode=EC;ve.Suspense=AC;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;ve.act=F1;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R1({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=j0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)D1.call(e,c)&&!L1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:xu,type:t.type,key:s,ref:a,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:CC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SC,_context:t},t.Consumer=t};ve.createElement=U1;ve.createFactory=function(t){var e=U1.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:IC,render:t}};ve.isValidElement=N0;ve.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:LC}};ve.memo=function(t,e){return{$$typeof:PC,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};ve.unstable_act=F1;ve.useCallback=function(t,e){return fn.current.useCallback(t,e)};ve.useContext=function(t){return fn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return fn.current.useEffect(t,e)};ve.useId=function(){return fn.current.useId()};ve.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return fn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};ve.useRef=function(t){return fn.current.useRef(t)};ve.useState=function(t){return fn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return fn.current.useTransition()};ve.version="18.3.1";A1.exports=ve;var y=A1.exports;const ss=gu(y),FC=_C({__proto__:null,default:ss},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=y,$C=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),BC=Object.prototype.hasOwnProperty,HC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qC={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BC.call(e,r)&&!qC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$C,type:t,key:a,ref:o,props:s,_owner:HC.current}}tf.Fragment=zC;tf.jsx=V1;tf.jsxs=V1;I1.exports=tf;var i=I1.exports,$1={exports:{}},Gn={},z1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var ne=B.length;B.push(Q);e:for(;0<ne;){var ge=ne-1>>>1,Ne=B[ge];if(0<s(Ne,Q))B[ge]=Q,B[ne]=Ne,ne=ge;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],ne=B.pop();if(ne!==Q){B[0]=ne;e:for(var ge=0,Ne=B.length,Ae=Ne>>>1;ge<Ae;){var St=2*(ge+1)-1,Yn=B[St],tt=St+1,Ct=B[tt];if(0>s(Yn,ne))tt<Ne&&0>s(Ct,Yn)?(B[ge]=Ct,B[tt]=ne,ge=tt):(B[ge]=Yn,B[St]=ne,ge=St);else if(tt<Ne&&0>s(Ct,ne))B[ge]=Ct,B[tt]=ne,ge=tt;else break e}}return Q}function s(B,Q){var ne=B.sortIndex-Q.sortIndex;return ne!==0?ne:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,g=!1,w=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=B)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function R(B){if(j=!1,k(B),!w)if(n(c)!==null)w=!0,je(D);else{var Q=n(d);Q!==null&&le(R,Q.startTime-B)}}function D(B,Q){w=!1,j&&(j=!1,b(N),N=-1),g=!0;var ne=p;try{for(k(Q),f=n(c);f!==null&&(!(f.expirationTime>Q)||B&&!P());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var Ne=ge(f.expirationTime<=Q);Q=t.unstable_now(),typeof Ne=="function"?f.callback=Ne:f===n(c)&&r(c),k(Q)}else r(c);f=n(c)}if(f!==null)var Ae=!0;else{var St=n(d);St!==null&&le(R,St.startTime-Q),Ae=!1}return Ae}finally{f=null,p=ne,g=!1}}var O=!1,A=null,N=-1,I=5,_=-1;function P(){return!(t.unstable_now()-_<I)}function S(){if(A!==null){var B=t.unstable_now();_=B;var Q=!0;try{Q=A(!0,B)}finally{Q?C():(O=!1,A=null)}}else O=!1}var C;if(typeof v=="function")C=function(){v(S)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=S,C=function(){de.postMessage(null)}}else C=function(){T(S,0)};function je(B){A=B,O||(O=!0,C())}function le(B,Q){N=T(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,je(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ne=p;p=Q;try{return B()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=p;p=B;try{return Q()}finally{p=ne}},t.unstable_scheduleCallback=function(B,Q,ne){var ge=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,B){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ne+Ne,B={id:h++,callback:Q,priorityLevel:B,startTime:ne,expirationTime:Ne,sortIndex:-1},ne>ge?(B.sortIndex=ne,e(d,B),n(c)===null&&B===n(d)&&(j?(b(N),N=-1):j=!0,le(R,ne-ge))):(B.sortIndex=Ne,e(c,B),w||g||(w=!0,je(D))),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var Q=p;return function(){var ne=p;p=Q;try{return B.apply(this,arguments)}finally{p=ne}}}})(B1);z1.exports=B1;var WC=z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=y,qn=WC;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H1=new Set,Oc={};function Ra(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(Oc[t]=e,t=0;t<e.length;t++)H1.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dv={},Lv={};function YC(t){return Tp.call(Lv,t)?!0:Tp.call(Dv,t)?!1:KC.test(t)?Lv[t]=!0:(Dv[t]=!0,!1)}function QC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XC(t,e,n,r){if(e===null||typeof e>"u"||QC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var k0=/[\-:]([a-z])/g;function E0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k0,E0);Bt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k0,E0);Bt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k0,E0);Bt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,n,r){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XC(e,n,s,r)&&(n=null),r||s===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ks=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),bo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),q1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),I0=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),G1=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=Uv&&t[Uv]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,jm;function ac(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||""}return`
`+jm+t}var Nm=!1;function km(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ac(t):""}function JC(t){switch(t.tag){case 5:return ac(t.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function Ap(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case bo:return"Portal";case Sp:return"Profiler";case S0:return"StrictMode";case Cp:return"Suspense";case Ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W1:return(t.displayName||"Context")+".Consumer";case q1:return(t._context.displayName||"Context")+".Provider";case C0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I0:return e=t.displayName||null,e!==null?e:Ap(t.type)||"Memo";case Us:e=t._payload,t=t._init;try{return Ap(t(e))}catch{}}return null}function ZC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(e);case 8:return e===S0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eI(t){var e=K1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=eI(t))}function Y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pp(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q1(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function Rp(t,e){Q1(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Op(t,e.type,n):e.hasOwnProperty("defaultValue")&&Op(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Op(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oc=Array.isArray;function Oo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(oc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function X1(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var id,Z1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tI=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){tI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gc[e]=gc[t]})});function ej(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gc.hasOwnProperty(t)&&gc[t]?(""+e).trim():e+"px"}function tj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ej(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nI=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(nI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function A0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vp=null,Mo=null,Do=null;function Bv(t){if(t=wu(t)){if(typeof Vp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=of(e),Vp(t.stateNode,t.type,e))}}function nj(t){Mo?Do?Do.push(t):Do=[t]:Mo=t}function rj(){if(Mo){var t=Mo,e=Do;if(Do=Mo=null,Bv(t),e)for(t=0;t<e.length;t++)Bv(e[t])}}function sj(t,e){return t(e)}function ij(){}var Em=!1;function aj(t,e,n){if(Em)return t(e,n);Em=!0;try{return sj(t,e,n)}finally{Em=!1,(Mo!==null||Do!==null)&&(ij(),rj())}}function Dc(t,e){var n=t.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var $p=!1;if(fs)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){$p=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{$p=!1}function rI(t,e,n,r,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var xc=!1,ah=null,oh=!1,zp=null,sI={onError:function(t){xc=!0,ah=t}};function iI(t,e,n,r,s,a,o,l,c){xc=!1,ah=null,rI.apply(sI,arguments)}function aI(t,e,n,r,s,a,o,l,c){if(iI.apply(this,arguments),xc){if(xc){var d=ah;xc=!1,ah=null}else throw Error(H(198));oh||(oh=!0,zp=d)}}function Oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hv(t){if(Oa(t)!==t)throw Error(H(188))}function oI(t){var e=t.alternate;if(!e){if(e=Oa(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Hv(s),t;if(a===r)return Hv(s),e;a=a.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function lj(t){return t=oI(t),t!==null?cj(t):null}function cj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cj(t);if(e!==null)return e;t=t.sibling}return null}var uj=qn.unstable_scheduleCallback,qv=qn.unstable_cancelCallback,lI=qn.unstable_shouldYield,cI=qn.unstable_requestPaint,ut=qn.unstable_now,uI=qn.unstable_getCurrentPriorityLevel,P0=qn.unstable_ImmediatePriority,dj=qn.unstable_UserBlockingPriority,lh=qn.unstable_NormalPriority,dI=qn.unstable_LowPriority,hj=qn.unstable_IdlePriority,nf=null,Ur=null;function hI(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(nf,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:pI,fI=Math.log,mI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(fI(t)/mI|0)|0}var ad=64,od=4194304;function lc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ch(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=lc(l):(a&=o,a!==0&&(r=lc(a)))}else o=n&~s,o!==0?r=lc(o):a!==0&&(r=lc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),s=1<<n,r|=t[n],e&=~s;return r}function gI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-_r(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=gI(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fj(){var t=ad;return ad<<=1,!(ad&4194240)&&(ad=64),t}function Tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function yI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_r(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function R0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ie=0;function mj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pj,O0,gj,xj,yj,Hp=!1,ld=[],Js=null,Zs=null,ei=null,Lc=new Map,Uc=new Map,Vs=[],vI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wv(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(e.pointerId)}}function Wl(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=wu(e),e!==null&&O0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wI(t,e,n,r,s){switch(e){case"focusin":return Js=Wl(Js,t,e,n,r,s),!0;case"dragenter":return Zs=Wl(Zs,t,e,n,r,s),!0;case"mouseover":return ei=Wl(ei,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Lc.set(a,Wl(Lc.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Uc.set(a,Wl(Uc.get(a)||null,t,e,n,r,s)),!0}return!1}function vj(t){var e=aa(t.target);if(e!==null){var n=Oa(e);if(n!==null){if(e=n.tag,e===13){if(e=oj(n),e!==null){t.blockedOn=e,yj(t.priority,function(){gj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fp=r,n.target.dispatchEvent(r),Fp=null}else return e=wu(n),e!==null&&O0(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){Rd(t)&&n.delete(e)}function bI(){Hp=!1,Js!==null&&Rd(Js)&&(Js=null),Zs!==null&&Rd(Zs)&&(Zs=null),ei!==null&&Rd(ei)&&(ei=null),Lc.forEach(Gv),Uc.forEach(Gv)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hp||(Hp=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,bI)))}function Fc(t){function e(s){return Gl(s,t)}if(0<ld.length){Gl(ld[0],t);for(var n=1;n<ld.length;n++){var r=ld[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Js!==null&&Gl(Js,t),Zs!==null&&Gl(Zs,t),ei!==null&&Gl(ei,t),Lc.forEach(e),Uc.forEach(e),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)vj(n),n.blockedOn===null&&Vs.shift()}var Lo=ks.ReactCurrentBatchConfig,uh=!0;function _I(t,e,n,r){var s=Ie,a=Lo.transition;Lo.transition=null;try{Ie=1,M0(t,e,n,r)}finally{Ie=s,Lo.transition=a}}function jI(t,e,n,r){var s=Ie,a=Lo.transition;Lo.transition=null;try{Ie=4,M0(t,e,n,r)}finally{Ie=s,Lo.transition=a}}function M0(t,e,n,r){if(uh){var s=qp(t,e,n,r);if(s===null)Lm(t,e,r,dh,n),Wv(t,r);else if(wI(s,t,e,n,r))r.stopPropagation();else if(Wv(t,r),e&4&&-1<vI.indexOf(t)){for(;s!==null;){var a=wu(s);if(a!==null&&pj(a),a=qp(t,e,n,r),a===null&&Lm(t,e,r,dh,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Lm(t,e,r,null,n)}}var dh=null;function qp(t,e,n,r){if(dh=null,t=A0(r),t=aa(t),t!==null)if(e=Oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dh=t,null}function wj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uI()){case P0:return 1;case dj:return 4;case lh:case dI:return 16;case hj:return 536870912;default:return 16}default:return 16}}var Gs=null,D0=null,Od=null;function bj(){if(Od)return Od;var t,e=D0,n=e.length,r,s="value"in Gs?Gs.value:Gs.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[a-r];r++);return Od=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cd(){return!0}function Kv(){return!1}function Kn(t){function e(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cd:Kv,this.isPropagationStopped=Kv,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),e}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=Kn(dl),vu=Je({},dl,{view:0,detail:0}),NI=Kn(vu),Sm,Cm,Kl,rf=Je({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(Sm=t.screenX-Kl.screenX,Cm=t.screenY-Kl.screenY):Cm=Sm=0,Kl=t),Sm)},movementY:function(t){return"movementY"in t?t.movementY:Cm}}),Yv=Kn(rf),kI=Je({},rf,{dataTransfer:0}),EI=Kn(kI),TI=Je({},vu,{relatedTarget:0}),Im=Kn(TI),SI=Je({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),CI=Kn(SI),II=Je({},dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AI=Kn(II),PI=Je({},dl,{data:0}),Qv=Kn(PI),RI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MI[t])?!!e[t]:!1}function U0(){return DI}var LI=Je({},vu,{key:function(t){if(t.key){var e=RI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U0,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UI=Kn(LI),FI=Je({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=Kn(FI),VI=Je({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U0}),$I=Kn(VI),zI=Je({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),BI=Kn(zI),HI=Je({},rf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=Kn(HI),WI=[9,13,27,32],F0=fs&&"CompositionEvent"in window,yc=null;fs&&"documentMode"in document&&(yc=document.documentMode);var GI=fs&&"TextEvent"in window&&!yc,_j=fs&&(!F0||yc&&8<yc&&11>=yc),Jv=" ",Zv=!1;function jj(t,e){switch(t){case"keyup":return WI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function KI(t,e){switch(t){case"compositionend":return Nj(e);case"keypress":return e.which!==32?null:(Zv=!0,Jv);case"textInput":return t=e.data,t===Jv&&Zv?null:t;default:return null}}function YI(t,e){if(jo)return t==="compositionend"||!F0&&jj(t,e)?(t=bj(),Od=D0=Gs=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _j&&e.locale!=="ko"?null:e.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QI[t.type]:e==="textarea"}function kj(t,e,n,r){nj(r),e=hh(e,"onChange"),0<e.length&&(n=new L0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vc=null,Vc=null;function XI(t){Dj(t,0)}function sf(t){var e=Eo(t);if(Y1(e))return t}function JI(t,e){if(t==="change")return e}var Ej=!1;if(fs){var Am;if(fs){var Pm="oninput"in document;if(!Pm){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),Pm=typeof tw.oninput=="function"}Am=Pm}else Am=!1;Ej=Am&&(!document.documentMode||9<document.documentMode)}function nw(){vc&&(vc.detachEvent("onpropertychange",Tj),Vc=vc=null)}function Tj(t){if(t.propertyName==="value"&&sf(Vc)){var e=[];kj(e,Vc,t,A0(t)),aj(XI,e)}}function ZI(t,e,n){t==="focusin"?(nw(),vc=e,Vc=n,vc.attachEvent("onpropertychange",Tj)):t==="focusout"&&nw()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sf(Vc)}function tA(t,e){if(t==="click")return sf(e)}function nA(t,e){if(t==="input"||t==="change")return sf(e)}function rA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:rA;function $c(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tp.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function Sj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cj(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sA(t){var e=Cj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sj(n.ownerDocument.documentElement,n)){if(r!==null&&V0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=sw(n,a);var o=sw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iA=fs&&"documentMode"in document&&11>=document.documentMode,No=null,Wp=null,wc=null,Gp=!1;function iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||No==null||No!==ih(r)||(r=No,"selectionStart"in r&&V0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&$c(wc,r)||(wc=r,r=hh(Wp,"onSelect"),0<r.length&&(e=new L0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function ud(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionend:ud("Transition","TransitionEnd")},Rm={},Ij={};fs&&(Ij=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function af(t){if(Rm[t])return Rm[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ij)return Rm[t]=e[n];return t}var Aj=af("animationend"),Pj=af("animationiteration"),Rj=af("animationstart"),Oj=af("transitionend"),Mj=new Map,aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){Mj.set(t,e),Ra(e,[t])}for(var Om=0;Om<aw.length;Om++){var Mm=aw[Om],aA=Mm.toLowerCase(),oA=Mm[0].toUpperCase()+Mm.slice(1);Pi(aA,"on"+oA)}Pi(Aj,"onAnimationEnd");Pi(Pj,"onAnimationIteration");Pi(Rj,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(Oj,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aI(r,e,void 0,t),t.currentTarget=null}function Dj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ow(s,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ow(s,l,d),a=c}}}if(oh)throw t=zp,oh=!1,zp=null,t}function ze(t,e){var n=e[Jp];n===void 0&&(n=e[Jp]=new Set);var r=t+"__bubble";n.has(r)||(Lj(e,t,2,!1),n.add(r))}function Dm(t,e,n){var r=0;e&&(r|=4),Lj(n,t,r,e)}var dd="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[dd]){t[dd]=!0,H1.forEach(function(n){n!=="selectionchange"&&(lA.has(n)||Dm(n,!1,t),Dm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dd]||(e[dd]=!0,Dm("selectionchange",!1,e))}}function Lj(t,e,n,r){switch(wj(e)){case 1:var s=_I;break;case 4:s=jI;break;default:s=M0}n=s.bind(null,e,n,t),s=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lm(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}aj(function(){var d=a,h=A0(n),f=[];e:{var p=Mj.get(t);if(p!==void 0){var g=L0,w=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":g=UI;break;case"focusin":w="focus",g=Im;break;case"focusout":w="blur",g=Im;break;case"beforeblur":case"afterblur":g=Im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$I;break;case Aj:case Pj:case Rj:g=CI;break;case Oj:g=BI;break;case"scroll":g=NI;break;case"wheel":g=qI;break;case"copy":case"cut":case"paste":g=AI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xv}var j=(e&4)!==0,T=!j&&t==="scroll",b=j?p!==null?p+"Capture":null:p;j=[];for(var v=d,k;v!==null;){k=v;var R=k.stateNode;if(k.tag===5&&R!==null&&(k=R,b!==null&&(R=Dc(v,b),R!=null&&j.push(Bc(v,R,k)))),T)break;v=v.return}0<j.length&&(p=new g(p,w,null,n,h),f.push({event:p,listeners:j}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Fp&&(w=n.relatedTarget||n.fromElement)&&(aa(w)||w[ms]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=d,w=w?aa(w):null,w!==null&&(T=Oa(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=d),g!==w)){if(j=Yv,R="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(j=Xv,R="onPointerLeave",b="onPointerEnter",v="pointer"),T=g==null?p:Eo(g),k=w==null?p:Eo(w),p=new j(R,v+"leave",g,n,h),p.target=T,p.relatedTarget=k,R=null,aa(h)===d&&(j=new j(b,v+"enter",w,n,h),j.target=k,j.relatedTarget=T,R=j),T=R,g&&w)t:{for(j=g,b=w,v=0,k=j;k;k=uo(k))v++;for(k=0,R=b;R;R=uo(R))k++;for(;0<v-k;)j=uo(j),v--;for(;0<k-v;)b=uo(b),k--;for(;v--;){if(j===b||b!==null&&j===b.alternate)break t;j=uo(j),b=uo(b)}j=null}else j=null;g!==null&&lw(f,p,g,j,!1),w!==null&&T!==null&&lw(f,T,w,j,!0)}}e:{if(p=d?Eo(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=JI;else if(ew(p))if(Ej)D=nA;else{D=eA;var O=ZI}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=tA);if(D&&(D=D(t,d))){kj(f,D,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Op(p,"number",p.value)}switch(O=d?Eo(d):window,t){case"focusin":(ew(O)||O.contentEditable==="true")&&(No=O,Wp=d,wc=null);break;case"focusout":wc=Wp=No=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,iw(f,n,h);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":iw(f,n,h)}var A;if(F0)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else jo?jj(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(_j&&n.locale!=="ko"&&(jo||N!=="onCompositionStart"?N==="onCompositionEnd"&&jo&&(A=bj()):(Gs=h,D0="value"in Gs?Gs.value:Gs.textContent,jo=!0)),O=hh(d,N),0<O.length&&(N=new Qv(N,t,null,n,h),f.push({event:N,listeners:O}),A?N.data=A:(A=Nj(n),A!==null&&(N.data=A)))),(A=GI?KI(t,n):YI(t,n))&&(d=hh(d,"onBeforeInput"),0<d.length&&(h=new Qv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=A))}Dj(f,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Dc(t,n),a!=null&&r.unshift(Bc(t,a,s)),a=Dc(t,e),a!=null&&r.push(Bc(t,a,s))),t=t.return}return r}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,s){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Dc(n,a),c!=null&&o.unshift(Bc(n,c,l))):s||(c=Dc(n,a),c!=null&&o.push(Bc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function cw(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(uA,"")}function hd(t,e,n){if(e=cw(e),cw(t)!==e&&n)throw Error(H(425))}function fh(){}var Kp=null,Yp=null;function Qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(fA)}:Xp;function fA(t){setTimeout(function(){throw t})}function Um(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fc(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+hl,Hc="__reactProps$"+hl,ms="__reactContainer$"+hl,Jp="__reactEvents$"+hl,mA="__reactListeners$"+hl,pA="__reactHandles$"+hl;function aa(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ms]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[Mr])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[Mr]||t[ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function of(t){return t[Hc]||null}var Zp=[],To=-1;function Ri(t){return{current:t}}function He(t){0>To||(t.current=Zp[To],Zp[To]=null,To--)}function Ue(t,e){To++,Zp[To]=t.current,t.current=e}var pi={},nn=Ri(pi),_n=Ri(!1),va=pi;function Qo(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jn(t){return t=t.childContextTypes,t!=null}function mh(){He(_n),He(nn)}function hw(t,e,n){if(nn.current!==pi)throw Error(H(168));Ue(nn,e),Ue(_n,n)}function Uj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,ZC(t)||"Unknown",s));return Je({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,va=nn.current,Ue(nn,t),Ue(_n,_n.current),!0}function fw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Uj(t,e,va),r.__reactInternalMemoizedMergedChildContext=t,He(_n),He(nn),Ue(nn,t)):He(_n),Ue(_n,n)}var ns=null,lf=!1,Fm=!1;function Fj(t){ns===null?ns=[t]:ns.push(t)}function gA(t){lf=!0,Fj(t)}function Oi(){if(!Fm&&ns!==null){Fm=!0;var t=0,e=Ie;try{var n=ns;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,lf=!1}catch(s){throw ns!==null&&(ns=ns.slice(t+1)),uj(P0,Oi),s}finally{Ie=e,Fm=!1}}return null}var So=[],Co=0,gh=null,xh=0,Zn=[],er=0,wa=null,is=1,as="";function Xi(t,e){So[Co++]=xh,So[Co++]=gh,gh=t,xh=e}function Vj(t,e,n){Zn[er++]=is,Zn[er++]=as,Zn[er++]=wa,wa=t;var r=is;t=as;var s=32-_r(r)-1;r&=~(1<<s),n+=1;var a=32-_r(e)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,is=1<<32-_r(e)+s|n<<s|r,as=a+t}else is=1<<a|n<<s|r,as=t}function $0(t){t.return!==null&&(Xi(t,1),Vj(t,1,0))}function z0(t){for(;t===gh;)gh=So[--Co],So[Co]=null,xh=So[--Co],So[Co]=null;for(;t===wa;)wa=Zn[--er],Zn[er]=null,as=Zn[--er],Zn[er]=null,is=Zn[--er],Zn[er]=null}var Bn=null,Fn=null,Ke=!1,yr=null;function $j(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wa!==null?{id:is,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Fn=null,!0):!1;default:return!1}}function eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tg(t){if(Ke){var e=Fn;if(e){var n=e;if(!mw(t,e)){if(eg(t))throw Error(H(418));e=ti(n.nextSibling);var r=Bn;e&&mw(t,e)?$j(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Bn=t)}}else{if(eg(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ke=!1,Bn=t}}}function pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function fd(t){if(t!==Bn)return!1;if(!Ke)return pw(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qp(t.type,t.memoizedProps)),e&&(e=Fn)){if(eg(t))throw zj(),Error(H(418));for(;e;)$j(t,e),e=ti(e.nextSibling)}if(pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Bn?ti(t.stateNode.nextSibling):null;return!0}function zj(){for(var t=Fn;t;)t=ti(t.nextSibling)}function Xo(){Fn=Bn=null,Ke=!1}function B0(t){yr===null?yr=[t]:yr.push(t)}var xA=ks.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function md(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gw(t){var e=t._init;return e(t._payload)}function Bj(t){function e(b,v){if(t){var k=b.deletions;k===null?(b.deletions=[v],b.flags|=16):k.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=ii(b,v),b.index=0,b.sibling=null,b}function a(b,v,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<v?(b.flags|=2,v):k):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,v,k,R){return v===null||v.tag!==6?(v=Wm(k,b.mode,R),v.return=b,v):(v=s(v,k),v.return=b,v)}function c(b,v,k,R){var D=k.type;return D===_o?h(b,v,k.props.children,R,k.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Us&&gw(D)===v.type)?(R=s(v,k.props),R.ref=Yl(b,v,k),R.return=b,R):(R=zd(k.type,k.key,k.props,null,b.mode,R),R.ref=Yl(b,v,k),R.return=b,R)}function d(b,v,k,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Gm(k,b.mode,R),v.return=b,v):(v=s(v,k.children||[]),v.return=b,v)}function h(b,v,k,R,D){return v===null||v.tag!==7?(v=fa(k,b.mode,R,D),v.return=b,v):(v=s(v,k),v.return=b,v)}function f(b,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wm(""+v,b.mode,k),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rd:return k=zd(v.type,v.key,v.props,null,b.mode,k),k.ref=Yl(b,null,v),k.return=b,k;case bo:return v=Gm(v,b.mode,k),v.return=b,v;case Us:var R=v._init;return f(b,R(v._payload),k)}if(oc(v)||Hl(v))return v=fa(v,b.mode,k,null),v.return=b,v;md(b,v)}return null}function p(b,v,k,R){var D=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return D!==null?null:l(b,v,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rd:return k.key===D?c(b,v,k,R):null;case bo:return k.key===D?d(b,v,k,R):null;case Us:return D=k._init,p(b,v,D(k._payload),R)}if(oc(k)||Hl(k))return D!==null?null:h(b,v,k,R,null);md(b,k)}return null}function g(b,v,k,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(k)||null,l(v,b,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case rd:return b=b.get(R.key===null?k:R.key)||null,c(v,b,R,D);case bo:return b=b.get(R.key===null?k:R.key)||null,d(v,b,R,D);case Us:var O=R._init;return g(b,v,k,O(R._payload),D)}if(oc(R)||Hl(R))return b=b.get(k)||null,h(v,b,R,D,null);md(v,R)}return null}function w(b,v,k,R){for(var D=null,O=null,A=v,N=v=0,I=null;A!==null&&N<k.length;N++){A.index>N?(I=A,A=null):I=A.sibling;var _=p(b,A,k[N],R);if(_===null){A===null&&(A=I);break}t&&A&&_.alternate===null&&e(b,A),v=a(_,v,N),O===null?D=_:O.sibling=_,O=_,A=I}if(N===k.length)return n(b,A),Ke&&Xi(b,N),D;if(A===null){for(;N<k.length;N++)A=f(b,k[N],R),A!==null&&(v=a(A,v,N),O===null?D=A:O.sibling=A,O=A);return Ke&&Xi(b,N),D}for(A=r(b,A);N<k.length;N++)I=g(A,b,N,k[N],R),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?N:I.key),v=a(I,v,N),O===null?D=I:O.sibling=I,O=I);return t&&A.forEach(function(P){return e(b,P)}),Ke&&Xi(b,N),D}function j(b,v,k,R){var D=Hl(k);if(typeof D!="function")throw Error(H(150));if(k=D.call(k),k==null)throw Error(H(151));for(var O=D=null,A=v,N=v=0,I=null,_=k.next();A!==null&&!_.done;N++,_=k.next()){A.index>N?(I=A,A=null):I=A.sibling;var P=p(b,A,_.value,R);if(P===null){A===null&&(A=I);break}t&&A&&P.alternate===null&&e(b,A),v=a(P,v,N),O===null?D=P:O.sibling=P,O=P,A=I}if(_.done)return n(b,A),Ke&&Xi(b,N),D;if(A===null){for(;!_.done;N++,_=k.next())_=f(b,_.value,R),_!==null&&(v=a(_,v,N),O===null?D=_:O.sibling=_,O=_);return Ke&&Xi(b,N),D}for(A=r(b,A);!_.done;N++,_=k.next())_=g(A,b,N,_.value,R),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?N:_.key),v=a(_,v,N),O===null?D=_:O.sibling=_,O=_);return t&&A.forEach(function(S){return e(b,S)}),Ke&&Xi(b,N),D}function T(b,v,k,R){if(typeof k=="object"&&k!==null&&k.type===_o&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case rd:e:{for(var D=k.key,O=v;O!==null;){if(O.key===D){if(D=k.type,D===_o){if(O.tag===7){n(b,O.sibling),v=s(O,k.props.children),v.return=b,b=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Us&&gw(D)===O.type){n(b,O.sibling),v=s(O,k.props),v.ref=Yl(b,O,k),v.return=b,b=v;break e}n(b,O);break}else e(b,O);O=O.sibling}k.type===_o?(v=fa(k.props.children,b.mode,R,k.key),v.return=b,b=v):(R=zd(k.type,k.key,k.props,null,b.mode,R),R.ref=Yl(b,v,k),R.return=b,b=R)}return o(b);case bo:e:{for(O=k.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){n(b,v.sibling),v=s(v,k.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=Gm(k,b.mode,R),v.return=b,b=v}return o(b);case Us:return O=k._init,T(b,v,O(k._payload),R)}if(oc(k))return w(b,v,k,R);if(Hl(k))return j(b,v,k,R);md(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(n(b,v.sibling),v=s(v,k),v.return=b,b=v):(n(b,v),v=Wm(k,b.mode,R),v.return=b,b=v),o(b)):n(b,v)}return T}var Jo=Bj(!0),Hj=Bj(!1),yh=Ri(null),vh=null,Io=null,H0=null;function q0(){H0=Io=vh=null}function W0(t){var e=yh.current;He(yh),t._currentValue=e}function ng(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Uo(t,e){vh=t,H0=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(H0!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(vh===null)throw Error(H(308));Io=t,vh.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var oa=null;function G0(t){oa===null?oa=[t]:oa.push(t)}function qj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,G0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ps(t,r)}function ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fs=!1;function K0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ps(t,n)}return s=r.interleaved,s===null?(e.next=e,G0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ps(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}function xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wh(t,e,n,r){var s=t.updateQueue;Fs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,g=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,j=l;switch(p=e,g=n,j.tag){case 1:if(w=j.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=Je({},f,p);break e;case 2:Fs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=f):h=h.next=g,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);_a|=o,t.lanes=o,t.memoizedState=f}}function yw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var bu={},Fr=Ri(bu),qc=Ri(bu),Wc=Ri(bu);function la(t){if(t===bu)throw Error(H(174));return t}function Y0(t,e){switch(Ue(Wc,e),Ue(qc,t),Ue(Fr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dp(e,t)}He(Fr),Ue(Fr,e)}function Zo(){He(Fr),He(qc),He(Wc)}function Gj(t){la(Wc.current);var e=la(Fr.current),n=Dp(e,t.type);e!==n&&(Ue(qc,t),Ue(Fr,n))}function Q0(t){qc.current===t&&(He(Fr),He(qc))}var Qe=Ri(0);function bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vm=[];function X0(){for(var t=0;t<Vm.length;t++)Vm[t]._workInProgressVersionPrimary=null;Vm.length=0}var Ld=ks.ReactCurrentDispatcher,$m=ks.ReactCurrentBatchConfig,ba=0,Xe=null,bt=null,Et=null,_h=!1,bc=!1,Gc=0,yA=0;function Kt(){throw Error(H(321))}function J0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Z0(t,e,n,r,s,a){if(ba=a,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?_A:jA,t=n(r,s),bc){a=0;do{if(bc=!1,Gc=0,25<=a)throw Error(H(301));a+=1,Et=bt=null,e.updateQueue=null,Ld.current=NA,t=n(r,s)}while(bc)}if(Ld.current=jh,e=bt!==null&&bt.next!==null,ba=0,Et=bt=Xe=null,_h=!1,e)throw Error(H(300));return t}function ex(){var t=Gc!==0;return Gc=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Xe.memoizedState=Et=t:Et=Et.next=t,Et}function ur(){if(bt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Et===null?Xe.memoizedState:Et.next;if(e!==null)Et=e,bt=t;else{if(t===null)throw Error(H(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?Xe.memoizedState=Et=t:Et=Et.next=t}return Et}function Kc(t,e){return typeof e=="function"?e(t):e}function zm(t){var e=ur(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=bt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((ba&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Xe.lanes|=h,_a|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Nr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Xe.lanes|=a,_a|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bm(t){var e=ur(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Nr(a,e.memoizedState)||(wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Kj(){}function Yj(t,e){var n=Xe,r=ur(),s=e(),a=!Nr(r.memoizedState,s);if(a&&(r.memoizedState=s,wn=!0),r=r.queue,tx(Jj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Yc(9,Xj.bind(null,n,r,s,e),void 0,null),Tt===null)throw Error(H(349));ba&30||Qj(n,e,s)}return s}function Qj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xj(t,e,n,r){e.value=n,e.getSnapshot=r,Zj(e)&&eN(t)}function Jj(t,e,n){return n(function(){Zj(e)&&eN(t)})}function Zj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function eN(t){var e=ps(t,1);e!==null&&jr(e,t,1,-1)}function vw(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:t},e.queue=t,t=t.dispatch=bA.bind(null,Xe,t),[e.memoizedState,t]}function Yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tN(){return ur().memoizedState}function Ud(t,e,n,r){var s=Rr();Xe.flags|=t,s.memoizedState=Yc(1|e,n,void 0,r===void 0?null:r)}function cf(t,e,n,r){var s=ur();r=r===void 0?null:r;var a=void 0;if(bt!==null){var o=bt.memoizedState;if(a=o.destroy,r!==null&&J0(r,o.deps)){s.memoizedState=Yc(e,n,a,r);return}}Xe.flags|=t,s.memoizedState=Yc(1|e,n,a,r)}function ww(t,e){return Ud(8390656,8,t,e)}function tx(t,e){return cf(2048,8,t,e)}function nN(t,e){return cf(4,2,t,e)}function rN(t,e){return cf(4,4,t,e)}function sN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iN(t,e,n){return n=n!=null?n.concat([t]):null,cf(4,4,sN.bind(null,e,t),n)}function nx(){}function aN(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oN(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lN(t,e,n){return ba&21?(Nr(n,e)||(n=fj(),Xe.lanes|=n,_a|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function vA(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=$m.transition;$m.transition={};try{t(!1),e()}finally{Ie=n,$m.transition=r}}function cN(){return ur().memoizedState}function wA(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uN(t))dN(e,n);else if(n=qj(t,e,n,r),n!==null){var s=hn();jr(n,t,r,s),hN(n,e,r)}}function bA(t,e,n){var r=si(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uN(t))dN(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Nr(l,o)){var c=e.interleaved;c===null?(s.next=s,G0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=qj(t,e,s,r),n!==null&&(s=hn(),jr(n,t,r,s),hN(n,e,r))}}function uN(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function dN(t,e){bc=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}var jh={readContext:cr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},_A={readContext:cr,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:ww,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4194308,4,sN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ud(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wA.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:vw,useDebugValue:nx,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=vw(!1),e=t[0];return t=vA.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=Rr();if(Ke){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Tt===null)throw Error(H(349));ba&30||Qj(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,ww(Jj.bind(null,r,a,t),[t]),r.flags|=2048,Yc(9,Xj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Tt.identifierPrefix;if(Ke){var n=as,r=is;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jA={readContext:cr,useCallback:aN,useContext:cr,useEffect:tx,useImperativeHandle:iN,useInsertionEffect:nN,useLayoutEffect:rN,useMemo:oN,useReducer:zm,useRef:tN,useState:function(){return zm(Kc)},useDebugValue:nx,useDeferredValue:function(t){var e=ur();return lN(e,bt.memoizedState,t)},useTransition:function(){var t=zm(Kc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Kj,useSyncExternalStore:Yj,useId:cN,unstable_isNewReconciler:!1},NA={readContext:cr,useCallback:aN,useContext:cr,useEffect:tx,useImperativeHandle:iN,useInsertionEffect:nN,useLayoutEffect:rN,useMemo:oN,useReducer:Bm,useRef:tN,useState:function(){return Bm(Kc)},useDebugValue:nx,useDeferredValue:function(t){var e=ur();return bt===null?e.memoizedState=t:lN(e,bt.memoizedState,t)},useTransition:function(){var t=Bm(Kc)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Kj,useSyncExternalStore:Yj,useId:cN,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uf={isMounted:function(t){return(t=t._reactInternals)?Oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=si(t),a=us(r,s);a.payload=e,n!=null&&(a.callback=n),e=ni(t,a,s),e!==null&&(jr(e,t,s,r),Dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=si(t),a=us(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ni(t,a,s),e!==null&&(jr(e,t,s,r),Dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=si(t),s=us(n,r);s.tag=2,e!=null&&(s.callback=e),e=ni(t,s,r),e!==null&&(jr(e,t,r,n),Dd(e,t,r))}};function bw(t,e,n,r,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!$c(n,r)||!$c(s,a):!0}function fN(t,e,n){var r=!1,s=pi,a=e.contextType;return typeof a=="object"&&a!==null?a=cr(a):(s=jn(e)?va:nn.current,r=e.contextTypes,a=(r=r!=null)?Qo(t,s):pi),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function _w(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uf.enqueueReplaceState(e,e.state,null)}function sg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},K0(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=cr(a):(a=jn(e)?va:nn.current,s.context=Qo(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(rg(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uf.enqueueReplaceState(s,s.state,null),wh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function el(t,e){try{var n="",r=e;do n+=JC(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ig(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function mN(t,e,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,pg=r),ig(t,e)},n}function pN(t,e,n){n=us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ig(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ig(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FA.bind(null,t,e,n),e.then(t,t))}function Nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=us(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var EA=ks.ReactCurrentOwner,wn=!1;function un(t,e,n,r){e.child=t===null?Hj(e,null,n,r):Jo(e,t.child,n,r)}function Ew(t,e,n,r,s){n=n.render;var a=e.ref;return Uo(e,s),r=Z0(t,e,n,r,a,s),n=ex(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(Ke&&n&&$0(e),e.flags|=1,un(t,e,r,s),e.child)}function Tw(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!ux(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,gN(t,e,a,r,s)):(t=zd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:$c,n(o,r)&&t.ref===e.ref)return gs(t,e,s)}return e.flags|=1,t=ii(a,r),t.ref=e.ref,t.return=e,e.child=t}function gN(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if($c(a,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,gs(t,e,s)}return ag(t,e,n,r,s)}function xN(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Po,Ln),Ln|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Po,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ue(Po,Ln),Ln|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ue(Po,Ln),Ln|=r;return un(t,e,s,n),e.child}function yN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,n,r,s){var a=jn(n)?va:nn.current;return a=Qo(e,a),Uo(e,s),n=Z0(t,e,n,r,a,s),r=ex(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(Ke&&r&&$0(e),e.flags|=1,un(t,e,n,s),e.child)}function Sw(t,e,n,r,s){if(jn(n)){var a=!0;ph(e)}else a=!1;if(Uo(e,s),e.stateNode===null)Fd(t,e),fN(e,n,r),sg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=cr(d):(d=jn(n)?va:nn.current,d=Qo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&_w(e,o,r,d),Fs=!1;var p=e.memoizedState;o.state=p,wh(e,r,o,s),c=e.memoizedState,l!==r||p!==c||_n.current||Fs?(typeof h=="function"&&(rg(e,n,h,r),c=e.memoizedState),(l=Fs||bw(e,n,l,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wj(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:pr(e.type,l),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=cr(c):(c=jn(n)?va:nn.current,c=Qo(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&_w(e,o,r,c),Fs=!1,p=e.memoizedState,o.state=p,wh(e,r,o,s);var w=e.memoizedState;l!==f||p!==w||_n.current||Fs?(typeof g=="function"&&(rg(e,n,g,r),w=e.memoizedState),(d=Fs||bw(e,n,d,r,p,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return og(t,e,n,r,a,s)}function og(t,e,n,r,s,a){yN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&fw(e,n,!1),gs(t,e,a);r=e.stateNode,EA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jo(e,t.child,null,a),e.child=Jo(e,null,l,a)):un(t,e,l,a),e.memoizedState=r.state,s&&fw(e,n,!0),e.child}function vN(t){var e=t.stateNode;e.pendingContext?hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hw(t,e.context,!1),Y0(t,e.containerInfo)}function Cw(t,e,n,r,s){return Xo(),B0(s),e.flags|=256,un(t,e,n,r),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function wN(t,e,n){var r=e.pendingProps,s=Qe.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ue(Qe,s&1),t===null)return tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ff(o,r,0,null),t=fa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=cg(n),e.memoizedState=lg,t):rx(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return TA(t,e,o,r,l,s,n);if(a){a=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ii(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ii(l,a):(a=fa(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?cg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=lg,r}return a=t.child,t=a.sibling,r=ii(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rx(t,e){return e=ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pd(t,e,n,r){return r!==null&&B0(r),Jo(e,t.child,null,n),t=rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TA(t,e,n,r,s,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Hm(Error(H(422))),pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=ff({mode:"visible",children:r.children},s,0,null),a=fa(a,s,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Jo(e,t.child,null,o),e.child.memoizedState=cg(o),e.memoizedState=lg,a);if(!(e.mode&1))return pd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(H(419)),r=Hm(a,r,void 0),pd(t,e,o,r)}if(l=(o&t.childLanes)!==0,wn||l){if(r=Tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ps(t,s),jr(r,t,s,-1))}return cx(),r=Hm(Error(H(421))),pd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VA.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Fn=ti(s.nextSibling),Bn=e,Ke=!0,yr=null,t!==null&&(Zn[er++]=is,Zn[er++]=as,Zn[er++]=wa,is=t.id,as=t.overflow,wa=e),e=rx(e,r.children),e.flags|=4096,e)}function Iw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ng(t.return,e,n)}function qm(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function bN(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(un(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iw(t,n,e);else if(t.tag===19)Iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qm(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qm(e,!0,n,null,a);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_a|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SA(t,e,n){switch(e.tag){case 3:vN(e),Xo();break;case 5:Gj(e);break;case 1:jn(e.type)&&ph(e);break;case 4:Y0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ue(yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?wN(t,e,n):(Ue(Qe,Qe.current&1),t=gs(t,e,n),t!==null?t.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,xN(t,e,n)}return gs(t,e,n)}var _N,ug,jN,NN;_N=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ug=function(){};jN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,la(Fr.current);var a=null;switch(n){case"input":s=Pp(t,s),r=Pp(t,r),a=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),a=[];break;case"textarea":s=Mp(t,s),r=Mp(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fh)}Lp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};NN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CA(t,e,n){var r=e.pendingProps;switch(z0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return jn(e.type)&&mh(),Yt(e),null;case 3:return r=e.stateNode,Zo(),He(_n),He(nn),X0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(yg(yr),yr=null))),ug(t,e),Yt(e),null;case 5:Q0(e);var s=la(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)jN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Yt(e),null}if(t=la(Fr.current),fd(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Mr]=e,r[Hc]=a,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<cc.length;s++)ze(cc[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Fv(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":$v(r,a),ze("invalid",r)}Lp(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&hd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&hd(r.textContent,l,t),s=["children",""+l]):Oc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":sd(r),Vv(r,a,!0);break;case"textarea":sd(r),zv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=fh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mr]=e,t[Hc]=r,_N(t,e,!1,!1),e.stateNode=t;e:{switch(o=Up(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<cc.length;s++)ze(cc[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":Fv(t,r),s=Pp(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),ze("invalid",t);break;case"textarea":$v(t,r),s=Mp(t,r),ze("invalid",t);break;default:s=r}Lp(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?tj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z1(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mc(t,c):typeof c=="number"&&Mc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ze("scroll",t):c!=null&&T0(t,a,c,o))}switch(n){case"input":sd(t),Vv(t,r,!1);break;case"textarea":sd(t),zv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Oo(t,!!r.multiple,a,!1):r.defaultValue!=null&&Oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)NN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=la(Wc.current),la(Fr.current),fd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(a=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:hd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hd(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Yt(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Fn!==null&&e.mode&1&&!(e.flags&128))zj(),Xo(),e.flags|=98560,a=!1;else if(a=fd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(H(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[Mr]=e}else Xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),a=!1}else yr!==null&&(yg(yr),yr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?_t===0&&(_t=3):cx())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Zo(),ug(t,e),t===null&&zc(e.stateNode.containerInfo),Yt(e),null;case 10:return W0(e.type._context),Yt(e),null;case 17:return jn(e.type)&&mh(),Yt(e),null;case 19:if(He(Qe),a=e.memoizedState,a===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ql(a,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bh(t),o!==null){for(e.flags|=128,Ql(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Qe,Qe.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>tl&&(e.flags|=128,r=!0,Ql(a,!1),e.lanes=4194304)}else{if(!r)if(t=bh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ke)return Yt(e),null}else 2*ut()-a.renderingStartTime>tl&&n!==1073741824&&(e.flags|=128,r=!0,Ql(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,n=Qe.current,Ue(Qe,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return lx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function IA(t,e){switch(z0(e),e.tag){case 1:return jn(e.type)&&mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zo(),He(_n),He(nn),X0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q0(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return Zo(),null;case 10:return W0(e.type._context),null;case 22:case 23:return lx(),null;case 24:return null;default:return null}}var gd=!1,Zt=!1,AA=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function dg(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Aw=!1;function PA(t,e){if(Kp=uh,t=Cj(),V0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=o),p===a&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:t,selectionRange:n},uh=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,T=w.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?j:pr(e.type,j),T);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(R){rt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=Aw,Aw=!1,w}function _c(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&dg(e,n,a)}s=s.next}while(s!==r)}}function df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kN(t){var e=t.alternate;e!==null&&(t.alternate=null,kN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[Hc],delete e[Jp],delete e[mA],delete e[pA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EN(t){return t.tag===5||t.tag===3||t.tag===4}function Pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fh));else if(r!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}var Dt=null,gr=!1;function Os(t,e,n){for(n=n.child;n!==null;)TN(t,e,n),n=n.sibling}function TN(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:Zt||Ao(n,e);case 6:var r=Dt,s=gr;Dt=null,Os(t,e,n),Dt=r,gr=s,Dt!==null&&(gr?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(gr?(t=Dt,n=n.stateNode,t.nodeType===8?Um(t.parentNode,n):t.nodeType===1&&Um(t,n),Fc(t)):Um(Dt,n.stateNode));break;case 4:r=Dt,s=gr,Dt=n.stateNode.containerInfo,gr=!0,Os(t,e,n),Dt=r,gr=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&dg(n,e,o),s=s.next}while(s!==r)}Os(t,e,n);break;case 1:if(!Zt&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,e,l)}Os(t,e,n);break;case 21:Os(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Os(t,e,n),Zt=r):Os(t,e,n);break;default:Os(t,e,n)}}function Rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AA),e.forEach(function(r){var s=$A.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,gr=!1;break e;case 3:Dt=l.stateNode.containerInfo,gr=!0;break e;case 4:Dt=l.stateNode.containerInfo,gr=!0;break e}l=l.return}if(Dt===null)throw Error(H(160));TN(a,o,s),Dt=null,gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){rt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SN(e,t),e=e.sibling}function SN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Pr(t),r&4){try{_c(3,t,t.return),df(3,t)}catch(j){rt(t,t.return,j)}try{_c(5,t,t.return)}catch(j){rt(t,t.return,j)}}break;case 1:mr(e,t),Pr(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(mr(e,t),Pr(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var s=t.stateNode;try{Mc(s,"")}catch(j){rt(t,t.return,j)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Q1(s,a),Up(l,o);var d=Up(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?tj(s,f):h==="dangerouslySetInnerHTML"?Z1(s,f):h==="children"?Mc(s,f):T0(s,h,f,d)}switch(l){case"input":Rp(s,a);break;case"textarea":X1(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Oo(s,!!a.multiple,g,!1):p!==!!a.multiple&&(a.defaultValue!=null?Oo(s,!!a.multiple,a.defaultValue,!0):Oo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Hc]=a}catch(j){rt(t,t.return,j)}}break;case 6:if(mr(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(j){rt(t,t.return,j)}}break;case 3:if(mr(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fc(e.containerInfo)}catch(j){rt(t,t.return,j)}break;case 4:mr(e,t),Pr(t);break;case 13:mr(e,t),Pr(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ax=ut())),r&4&&Rw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(d=Zt)||h,mr(e,t),Zt=d):mr(e,t),Pr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Z=t,h=t.child;h!==null;){for(f=Z=h;Z!==null;){switch(p=Z,g=p.child,p.tag){case 0:case 11:case 14:case 15:_c(4,p,p.return);break;case 1:Ao(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(j){rt(r,n,j)}}break;case 5:Ao(p,p.return);break;case 22:if(p.memoizedState!==null){Mw(f);continue}}g!==null?(g.return=p,Z=g):Mw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ej("display",o))}catch(j){rt(t,t.return,j)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(j){rt(t,t.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mr(e,t),Pr(t),r&4&&Rw(t);break;case 21:break;default:mr(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EN(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mc(s,""),r.flags&=-33);var a=Pw(t);mg(t,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Pw(t);fg(t,l,o);break;default:throw Error(H(161))}}catch(c){rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RA(t,e,n){Z=t,CN(t)}function CN(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Zt;l=gd;var d=Zt;if(gd=o,(Zt=c)&&!d)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?Dw(s):c!==null?(c.return=o,Z=c):Dw(s);for(;a!==null;)Z=a,CN(a),a=a.sibling;Z=s,gd=l,Zt=d}Ow(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Z=a):Ow(t)}}function Ow(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&yw(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Zt||e.flags&512&&hg(e)}catch(p){rt(e,e.return,p)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Mw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Dw(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{df(4,e)}catch(c){rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){rt(e,s,c)}}var a=e.return;try{hg(e)}catch(c){rt(e,a,c)}break;case 5:var o=e.return;try{hg(e)}catch(c){rt(e,o,c)}}}catch(c){rt(e,e.return,c)}if(e===t){Z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Z=l;break}Z=e.return}}var OA=Math.ceil,Nh=ks.ReactCurrentDispatcher,sx=ks.ReactCurrentOwner,or=ks.ReactCurrentBatchConfig,Te=0,Tt=null,mt=null,$t=0,Ln=0,Po=Ri(0),_t=0,Qc=null,_a=0,hf=0,ix=0,jc=null,yn=null,ax=0,tl=1/0,ts=null,kh=!1,pg=null,ri=null,xd=!1,Ks=null,Eh=0,Nc=0,gg=null,Vd=-1,$d=0;function hn(){return Te&6?ut():Vd!==-1?Vd:Vd=ut()}function si(t){return t.mode&1?Te&2&&$t!==0?$t&-$t:xA.transition!==null?($d===0&&($d=fj()),$d):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:wj(t.type)),t):1}function jr(t,e,n,r){if(50<Nc)throw Nc=0,gg=null,Error(H(185));yu(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(hf|=n),_t===4&&$s(t,$t)),Nn(t,r),n===1&&Te===0&&!(e.mode&1)&&(tl=ut()+500,lf&&Oi()))}function Nn(t,e){var n=t.callbackNode;xI(t,e);var r=ch(t,t===Tt?$t:0);if(r===0)n!==null&&qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qv(n),e===1)t.tag===0?gA(Lw.bind(null,t)):Fj(Lw.bind(null,t)),hA(function(){!(Te&6)&&Oi()}),n=null;else{switch(mj(r)){case 1:n=P0;break;case 4:n=dj;break;case 16:n=lh;break;case 536870912:n=hj;break;default:n=lh}n=LN(n,IN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IN(t,e){if(Vd=-1,$d=0,Te&6)throw Error(H(327));var n=t.callbackNode;if(Fo()&&t.callbackNode!==n)return null;var r=ch(t,t===Tt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Th(t,r);else{e=r;var s=Te;Te|=2;var a=PN();(Tt!==t||$t!==e)&&(ts=null,tl=ut()+500,ha(t,e));do try{LA();break}catch(l){AN(t,l)}while(!0);q0(),Nh.current=a,Te=s,mt!==null?e=0:(Tt=null,$t=0,e=_t)}if(e!==0){if(e===2&&(s=Bp(t),s!==0&&(r=s,e=xg(t,s))),e===1)throw n=Qc,ha(t,0),$s(t,r),Nn(t,ut()),n;if(e===6)$s(t,r);else{if(s=t.current.alternate,!(r&30)&&!MA(s)&&(e=Th(t,r),e===2&&(a=Bp(t),a!==0&&(r=a,e=xg(t,a))),e===1))throw n=Qc,ha(t,0),$s(t,r),Nn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ji(t,yn,ts);break;case 3:if($s(t,r),(r&130023424)===r&&(e=ax+500-ut(),10<e)){if(ch(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xp(Ji.bind(null,t,yn,ts),e);break}Ji(t,yn,ts);break;case 4:if($s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_r(r);a=1<<o,o=e[o],o>s&&(s=o),r&=~a}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OA(r/1960))-r,10<r){t.timeoutHandle=Xp(Ji.bind(null,t,yn,ts),r);break}Ji(t,yn,ts);break;case 5:Ji(t,yn,ts);break;default:throw Error(H(329))}}}return Nn(t,ut()),t.callbackNode===n?IN.bind(null,t):null}function xg(t,e){var n=jc;return t.current.memoizedState.isDehydrated&&(ha(t,e).flags|=256),t=Th(t,e),t!==2&&(e=yn,yn=n,e!==null&&yg(e)),t}function yg(t){yn===null?yn=t:yn.push.apply(yn,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Nr(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $s(t,e){for(e&=~ix,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function Lw(t){if(Te&6)throw Error(H(327));Fo();var e=ch(t,0);if(!(e&1))return Nn(t,ut()),null;var n=Th(t,e);if(t.tag!==0&&n===2){var r=Bp(t);r!==0&&(e=r,n=xg(t,r))}if(n===1)throw n=Qc,ha(t,0),$s(t,e),Nn(t,ut()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,yn,ts),Nn(t,ut()),null}function ox(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(tl=ut()+500,lf&&Oi())}}function ja(t){Ks!==null&&Ks.tag===0&&!(Te&6)&&Fo();var e=Te;Te|=1;var n=or.transition,r=Ie;try{if(or.transition=null,Ie=1,t)return t()}finally{Ie=r,or.transition=n,Te=e,!(Te&6)&&Oi()}}function lx(){Ln=Po.current,He(Po)}function ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dA(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(z0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mh();break;case 3:Zo(),He(_n),He(nn),X0();break;case 5:Q0(r);break;case 4:Zo();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:W0(r.type._context);break;case 22:case 23:lx()}n=n.return}if(Tt=t,mt=t=ii(t.current,null),$t=Ln=e,_t=0,Qc=null,ix=hf=_a=0,yn=jc=null,oa!==null){for(e=0;e<oa.length;e++)if(n=oa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}oa=null}return t}function AN(t,e){do{var n=mt;try{if(q0(),Ld.current=jh,_h){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_h=!1}if(ba=0,Et=bt=Xe=null,bc=!1,Gc=0,sx.current=null,n===null||n.return===null){_t=1,Qc=e,mt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=$t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Nw(o);if(g!==null){g.flags&=-257,kw(g,o,l,a,e),g.mode&1&&jw(a,d,e),e=g,c=d;var w=e.updateQueue;if(w===null){var j=new Set;j.add(c),e.updateQueue=j}else w.add(c);break e}else{if(!(e&1)){jw(a,d,e),cx();break e}c=Error(H(426))}}else if(Ke&&l.mode&1){var T=Nw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),kw(T,o,l,a,e),B0(el(c,l));break e}}a=c=el(c,l),_t!==4&&(_t=2),jc===null?jc=[a]:jc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=mN(a,c,e);xw(a,b);break e;case 1:l=c;var v=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ri===null||!ri.has(k)))){a.flags|=65536,e&=-e,a.lanes|=e;var R=pN(a,l,e);xw(a,R);break e}}a=a.return}while(a!==null)}ON(n)}catch(D){e=D,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function PN(){var t=Nh.current;return Nh.current=jh,t===null?jh:t}function cx(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||!(_a&268435455)&&!(hf&268435455)||$s(Tt,$t)}function Th(t,e){var n=Te;Te|=2;var r=PN();(Tt!==t||$t!==e)&&(ts=null,ha(t,e));do try{DA();break}catch(s){AN(t,s)}while(!0);if(q0(),Te=n,Nh.current=r,mt!==null)throw Error(H(261));return Tt=null,$t=0,_t}function DA(){for(;mt!==null;)RN(mt)}function LA(){for(;mt!==null&&!lI();)RN(mt)}function RN(t){var e=DN(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?ON(t):mt=e,sx.current=null}function ON(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IA(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,mt=null;return}}else if(n=CA(n,e,Ln),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);_t===0&&(_t=5)}function Ji(t,e,n){var r=Ie,s=or.transition;try{or.transition=null,Ie=1,UA(t,e,n,r)}finally{or.transition=s,Ie=r}return null}function UA(t,e,n,r){do Fo();while(Ks!==null);if(Te&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(yI(t,a),t===Tt&&(mt=Tt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,LN(lh,function(){return Fo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=or.transition,or.transition=null;var o=Ie;Ie=1;var l=Te;Te|=4,sx.current=null,PA(t,n),SN(n,t),sA(Yp),uh=!!Kp,Yp=Kp=null,t.current=n,RA(n),cI(),Te=l,Ie=o,or.transition=a}else t.current=n;if(xd&&(xd=!1,Ks=t,Eh=s),a=t.pendingLanes,a===0&&(ri=null),hI(n.stateNode),Nn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kh)throw kh=!1,t=pg,pg=null,t;return Eh&1&&t.tag!==0&&Fo(),a=t.pendingLanes,a&1?t===gg?Nc++:(Nc=0,gg=t):Nc=0,Oi(),null}function Fo(){if(Ks!==null){var t=mj(Eh),e=or.transition,n=Ie;try{if(or.transition=null,Ie=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,Eh=0,Te&6)throw Error(H(331));var s=Te;for(Te|=4,Z=t.current;Z!==null;){var a=Z,o=a.child;if(Z.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Z=d;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:_c(8,h,a)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var p=h.sibling,g=h.return;if(kN(h),h===d){Z=null;break}if(p!==null){p.return=g,Z=p;break}Z=g}}}var w=a.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var T=j.sibling;j.sibling=null,j=T}while(j!==null)}}Z=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Z=o;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_c(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Z=b;break e}Z=a.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Z=k;else e:for(o=v;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:df(9,l)}}catch(D){rt(l,l.return,D)}if(l===o){Z=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,Z=R;break e}Z=l.return}}if(Te=s,Oi(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(nf,t)}catch{}r=!0}return r}finally{Ie=n,or.transition=e}}return!1}function Uw(t,e,n){e=el(n,e),e=mN(t,e,1),t=ni(t,e,1),e=hn(),t!==null&&(yu(t,1,e),Nn(t,e))}function rt(t,e,n){if(t.tag===3)Uw(t,t,n);else for(;e!==null;){if(e.tag===3){Uw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=el(n,t),t=pN(e,t,1),e=ni(e,t,1),t=hn(),e!==null&&(yu(e,1,t),Nn(e,t));break}}e=e.return}}function FA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&($t&n)===n&&(_t===4||_t===3&&($t&130023424)===$t&&500>ut()-ax?ha(t,0):ix|=n),Nn(t,e)}function MN(t,e){e===0&&(t.mode&1?(e=od,od<<=1,!(od&130023424)&&(od=4194304)):e=1);var n=hn();t=ps(t,e),t!==null&&(yu(t,e,n),Nn(t,n))}function VA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MN(t,n)}function $A(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),MN(t,n)}var DN;DN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,SA(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ke&&e.flags&1048576&&Vj(e,xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var s=Qo(e,nn.current);Uo(e,n),s=Z0(null,e,r,t,s,n);var a=ex();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(a=!0,ph(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,K0(e),s.updater=uf,e.stateNode=s,s._reactInternals=e,sg(e,r,t,n),e=og(null,e,r,!0,a,n)):(e.tag=0,Ke&&a&&$0(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BA(r),t=pr(r,t),s){case 0:e=ag(null,e,r,t,n);break e;case 1:e=Sw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=Tw(null,e,r,pr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),ag(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Sw(t,e,r,s,n);case 3:e:{if(vN(e),t===null)throw Error(H(387));r=e.pendingProps,a=e.memoizedState,s=a.element,Wj(t,e),wh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=el(Error(H(423)),e),e=Cw(t,e,r,n,s);break e}else if(r!==s){s=el(Error(H(424)),e),e=Cw(t,e,r,n,s);break e}else for(Fn=ti(e.stateNode.containerInfo.firstChild),Bn=e,Ke=!0,yr=null,n=Hj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xo(),r===s){e=gs(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return Gj(e),t===null&&tg(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,Qp(r,s)?o=null:a!==null&&Qp(r,a)&&(e.flags|=32),yN(t,e),un(t,e,o,n),e.child;case 6:return t===null&&tg(e),null;case 13:return wN(t,e,n);case 4:return Y0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jo(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Ew(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Ue(yh,r._currentValue),r._currentValue=o,a!==null)if(Nr(a.value,o)){if(a.children===s.children&&!_n.current){e=gs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=us(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ng(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ng(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Uo(e,n),s=cr(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=pr(r,e.pendingProps),s=pr(r.type,s),Tw(t,e,r,s,n);case 15:return gN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pr(r,s),Fd(t,e),e.tag=1,jn(r)?(t=!0,ph(e)):t=!1,Uo(e,n),fN(e,r,s),sg(e,r,s,n),og(null,e,r,!0,t,n);case 19:return bN(t,e,n);case 22:return xN(t,e,n)}throw Error(H(156,e.tag))};function LN(t,e){return uj(t,e)}function zA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new zA(t,e,n,r)}function ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BA(t){if(typeof t=="function")return ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===C0)return 11;if(t===I0)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zd(t,e,n,r,s,a){var o=2;if(r=t,typeof t=="function")ux(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return fa(n.children,s,a,e);case S0:o=8,s|=8;break;case Sp:return t=ir(12,n,e,s|2),t.elementType=Sp,t.lanes=a,t;case Cp:return t=ir(13,n,e,s),t.elementType=Cp,t.lanes=a,t;case Ip:return t=ir(19,n,e,s),t.elementType=Ip,t.lanes=a,t;case G1:return ff(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q1:o=10;break e;case W1:o=9;break e;case C0:o=11;break e;case I0:o=14;break e;case Us:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=ir(o,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function fa(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function ff(t,e,n,r){return t=ir(22,t,r,e),t.elementType=G1,t.lanes=n,t.stateNode={isHidden:!1},t}function Wm(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dx(t,e,n,r,s,a,o,l,c){return t=new HA(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ir(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K0(a),t}function qA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UN(t){if(!t)return pi;t=t._reactInternals;e:{if(Oa(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(jn(n))return Uj(t,n,e)}return e}function FN(t,e,n,r,s,a,o,l,c){return t=dx(n,r,!0,t,s,a,o,l,c),t.context=UN(null),n=t.current,r=hn(),s=si(n),a=us(r,s),a.callback=e??null,ni(n,a,s),t.current.lanes=s,yu(t,s,r),Nn(t,r),t}function mf(t,e,n,r){var s=e.current,a=hn(),o=si(s);return n=UN(n),e.context===null?e.context=n:e.pendingContext=n,e=us(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(s,e,o),t!==null&&(jr(t,s,o,a),Dd(t,s,o)),o}function Sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hx(t,e){Fw(t,e),(t=t.alternate)&&Fw(t,e)}function WA(){return null}var VN=typeof reportError=="function"?reportError:function(t){console.error(t)};function fx(t){this._internalRoot=t}pf.prototype.render=fx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));mf(t,e,null,null)};pf.prototype.unmount=fx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){mf(null,t,null,null)}),e[ms]=null}};function pf(t){this._internalRoot=t}pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=xj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vs.length&&e!==0&&e<Vs[n].priority;n++);Vs.splice(n,0,t),n===0&&vj(t)}};function mx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vw(){}function GA(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Sh(o);a.call(d)}}var o=FN(e,r,t,0,null,!1,!1,"",Vw);return t._reactRootContainer=o,t[ms]=o.current,zc(t.nodeType===8?t.parentNode:t),ja(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Sh(c);l.call(d)}}var c=dx(t,0,!1,null,null,!1,!1,"",Vw);return t._reactRootContainer=c,t[ms]=c.current,zc(t.nodeType===8?t.parentNode:t),ja(function(){mf(e,c,n,r)}),c}function xf(t,e,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Sh(o);l.call(c)}}mf(e,o,t,s)}else o=GA(n,e,t,s,r);return Sh(o)}pj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lc(e.pendingLanes);n!==0&&(R0(e,n|1),Nn(e,ut()),!(Te&6)&&(tl=ut()+500,Oi()))}break;case 13:ja(function(){var r=ps(t,1);if(r!==null){var s=hn();jr(r,t,1,s)}}),hx(t,1)}};O0=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var n=hn();jr(e,t,134217728,n)}hx(t,134217728)}};gj=function(t){if(t.tag===13){var e=si(t),n=ps(t,e);if(n!==null){var r=hn();jr(n,t,e,r)}hx(t,e)}};xj=function(){return Ie};yj=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Vp=function(t,e,n){switch(e){case"input":if(Rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=of(r);if(!s)throw Error(H(90));Y1(r),Rp(r,s)}}}break;case"textarea":X1(t,n);break;case"select":e=n.value,e!=null&&Oo(t,!!n.multiple,e,!1)}};sj=ox;ij=ja;var KA={usingClientEntryPoint:!1,Events:[wu,Eo,of,nj,rj,ox]},Xl={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YA={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lj(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||WA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{nf=yd.inject(YA),Ur=yd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mx(e))throw Error(H(200));return qA(t,e,null,n)};Gn.createRoot=function(t,e){if(!mx(t))throw Error(H(299));var n=!1,r="",s=VN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dx(t,1,!1,null,null,n,!1,r,s),t[ms]=e.current,zc(t.nodeType===8?t.parentNode:t),new fx(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=lj(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return ja(t)};Gn.hydrate=function(t,e,n){if(!gf(e))throw Error(H(200));return xf(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!mx(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=VN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FN(e,null,t,1,n??null,s,!1,a,o),t[ms]=e.current,zc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pf(e)};Gn.render=function(t,e,n){if(!gf(e))throw Error(H(200));return xf(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!gf(t))throw Error(H(40));return t._reactRootContainer?(ja(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[ms]=null})}),!0):!1};Gn.unstable_batchedUpdates=ox;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return xf(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function $N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($N)}catch(t){console.error(t)}}$N(),$1.exports=Gn;var QA=$1.exports,zN,$w=QA;zN=$w.createRoot,$w.hydrateRoot;const XA=y.createContext(null),Km={didCatch:!1,error:null};class zw extends y.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Km}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:a,reason:"imperative-api"}),this.setState(Km)}}componentDidCatch(e,n){var r,s;(r=(s=this.props).onError)===null||r===void 0||r.call(s,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:s}=this.props;if(r&&n.error!==null&&JA(e.resetKeys,s)){var a,o;(a=(o=this.props).onReset)===null||a===void 0||a.call(o,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(Km)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:s}=this.props,{didCatch:a,error:o}=this.state;let l=e;if(a){const c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")l=n(c);else if(r)l=y.createElement(r,c);else if(s!==void 0)l=s;else throw o}return y.createElement(XA.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}}function JA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}var Ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ys||(Ys={}));const Bw="popstate";function ZA(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:o,hash:l}=r.location;return vg("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ch(s)}return tP(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eP(){return Math.random().toString(36).substr(2,8)}function Hw(t,e){return{usr:t.state,key:t.key,idx:e}}function vg(t,e,n,r){return n===void 0&&(n=null),Xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fl(e):e,{state:n,key:e&&e.key||r||eP()})}function Ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Ys.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Xc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Ys.Pop;let T=h(),b=T==null?null:T-d;d=T,c&&c({action:l,location:j.location,delta:b})}function p(T,b){l=Ys.Push;let v=vg(j.location,T,b);d=h()+1;let k=Hw(v,d),R=j.createHref(v);try{o.pushState(k,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}a&&c&&c({action:l,location:j.location,delta:1})}function g(T,b){l=Ys.Replace;let v=vg(j.location,T,b);d=h();let k=Hw(v,d),R=j.createHref(v);o.replaceState(k,"",R),a&&c&&c({action:l,location:j.location,delta:0})}function w(T){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof T=="string"?T:Ch(T);return v=v.replace(/ $/,"%20"),vt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let j={get action(){return l},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Bw,f),c=T,()=>{s.removeEventListener(Bw,f),c=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let b=w(T);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(T){return o.go(T)}};return j}var qw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qw||(qw={}));function nP(t,e,n){return n===void 0&&(n="/"),rP(t,e,n)}function rP(t,e,n,r){let s=typeof e=="string"?fl(e):e,a=px(s.pathname||"/",n);if(a==null)return null;let o=HN(t);sP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=gP(a);l=fP(o[c],d)}return l}function HN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ai([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),HN(a.children,e,h,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:dP(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of qN(a.path))s(a,o,c)}),e}function qN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=qN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function sP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iP=/^:[\w-]+$/,aP=3,oP=2,lP=1,cP=10,uP=-2,Ww=t=>t==="*";function dP(t,e){let n=t.split("/"),r=n.length;return n.some(Ww)&&(r+=uP),e&&(r+=oP),n.filter(s=>!Ww(s)).reduce((s,a)=>s+(iP.test(a)?aP:a===""?lP:cP),r)}function hP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,n){let{routesMeta:r}=t,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=mP({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ai([a,f.pathname]),pathnameBase:wP(ai([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=ai([a,f.pathnameBase]))}return o}function mP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let j=l[f]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const w=l[f];return g&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function pP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function px(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fl(t):t;return{pathname:n?n.startsWith("/")?n:yP(n,e):e,search:bP(r),hash:_P(s)}}function yP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WN(t,e){let n=vP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fl(t):(s=Xc({},t),vt(!s.pathname||!s.pathname.includes("?"),Ym("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Ym("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Ym("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=xP(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),wP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_P=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KN=["post","put","patch","delete"];new Set(KN);const NP=["get",...KN];new Set(NP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}const gx=y.createContext(null),kP=y.createContext(null),Ma=y.createContext(null),yf=y.createContext(null),Mi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),YN=y.createContext(null);function EP(t,e){let{relative:n}=e===void 0?{}:e;_u()||vt(!1);let{basename:r,navigator:s}=y.useContext(Ma),{hash:a,pathname:o,search:l}=XN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ai([r,o])),s.createHref({pathname:c,search:l,hash:a})}function _u(){return y.useContext(yf)!=null}function Di(){return _u()||vt(!1),y.useContext(yf).location}function QN(t){y.useContext(Ma).static||y.useLayoutEffect(t)}function Ge(){let{isDataRoute:t}=y.useContext(Mi);return t?VP():TP()}function TP(){_u()||vt(!1);let t=y.useContext(gx),{basename:e,future:n,navigator:r}=y.useContext(Ma),{matches:s}=y.useContext(Mi),{pathname:a}=Di(),o=JSON.stringify(WN(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return QN(()=>{l.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=GN(d,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ai([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,a,t])}function SP(){let{matches:t}=y.useContext(Mi),e=t[t.length-1];return e?e.params:{}}function XN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ma),{matches:s}=y.useContext(Mi),{pathname:a}=Di(),o=JSON.stringify(WN(s,r.v7_relativeSplatPath));return y.useMemo(()=>GN(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function CP(t,e){return IP(t,e)}function IP(t,e,n,r){_u()||vt(!1);let{navigator:s}=y.useContext(Ma),{matches:a}=y.useContext(Mi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Di(),h;if(e){var f;let T=typeof e=="string"?fl(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||vt(!1),h=T}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let T=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=nP(t,{pathname:g}),j=MP(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:ai([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:ai([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,r);return e&&j?y.createElement(yf.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ys.Pop}},j):j}function AP(){let t=FP(),e=jP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const PP=y.createElement(AP,null);class RP extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Mi.Provider,{value:this.props.routeContext},y.createElement(YN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OP(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(gx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Mi.Provider,{value:e},r)}function MP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||vt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,w=!1,j=null,T=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,j=f.route.errorElement||PP,c&&(d<0&&p===0?($P("route-fallback"),w=!0,T=null):d===p&&(w=!0,T=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),v=()=>{let k;return g?k=j:w?k=T:f.route.Component?k=y.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,y.createElement(OP,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(RP,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var JN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JN||{}),ZN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ZN||{});function DP(t){let e=y.useContext(gx);return e||vt(!1),e}function LP(t){let e=y.useContext(kP);return e||vt(!1),e}function UP(t){let e=y.useContext(Mi);return e||vt(!1),e}function e2(t){let e=UP(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function FP(){var t;let e=y.useContext(YN),n=LP(),r=e2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VP(){let{router:t}=DP(JN.UseNavigateStable),e=e2(ZN.UseNavigateStable),n=y.useRef(!1);return QN(()=>{n.current=!0}),y.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jc({fromRouteId:e},a)))},[t,e])}const Gw={};function $P(t,e,n){Gw[t]||(Gw[t]=!0)}function zP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Be(t){vt(!1)}function BP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ys.Pop,navigator:a,static:o=!1,future:l}=t;_u()&&vt(!1);let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:a,static:o,future:Jc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=fl(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,j=y.useMemo(()=>{let T=px(h,c);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:w},navigationType:s}},[c,h,f,p,g,w,s]);return j==null?null:y.createElement(Ma.Provider,{value:d},y.createElement(yf.Provider,{children:n,value:j}))}function HP(t){let{children:e,location:n}=t;return CP(wg(e),n)}new Promise(()=>{});function wg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let a=[...e,s];if(r.type===y.Fragment){n.push.apply(n,wg(r.props.children,a));return}r.type!==Be&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wg(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function qP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function WP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GP(t,e){return t.button===0&&(!e||e==="_self")&&!WP(t)}const KP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YP="6";try{window.__reactRouterVersion=YP}catch{}const QP="startTransition",Kw=FC[QP];function XP(t){let{basename:e,children:n,future:r,window:s}=t,a=y.useRef();a.current==null&&(a.current=ZA({window:s,v5Compat:!0}));let o=a.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(f=>{d&&Kw?Kw(()=>c(f)):c(f)},[c,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>zP(r),[r]),y.createElement(BP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eR=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=qP(e,KP),{basename:g}=y.useContext(Ma),w,j=!1;if(typeof d=="string"&&ZP.test(d)&&(w=d,JP))try{let k=new URL(window.location.href),R=d.startsWith("//")?new URL(k.protocol+d):new URL(d),D=px(R.pathname,g);R.origin===k.origin&&D!=null?d=D+R.search+R.hash:j=!0}catch{}let T=EP(d,{relative:s}),b=tR(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(k){r&&r(k),k.defaultPrevented||b(k)}return y.createElement("a",bg({},p,{href:w||T,onClick:j||a?r:v,ref:n,target:c}))});var Yw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yw||(Yw={}));var Qw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function tR(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ge(),d=Di(),h=XN(t,{relative:o});return y.useCallback(f=>{if(GP(f,n)){f.preventDefault();let p=r!==void 0?r:Ch(d)===Ch(h);c(t,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,h,r,s,n,t,a,o,l])}const nR=()=>{};var Xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},n2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||d==null||f==null)throw new sR;const p=a<<2|l>>4;if(r.push(p),d!==64){const g=l<<4&240|d>>2;if(r.push(g),f!==64){const w=d<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(t){const e=t2(t);return n2.encodeByteArray(e,!0)},Ih=function(t){return iR(t).replace(/\./g,"")},r2=function(t){try{return n2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r2(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return nR()||oR()||lR()||cR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s2=t=>{var e,n;return(n=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i2=t=>{const e=s2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a2=()=>{var t;return(t=vf())===null||t===void 0?void 0:t.config},o2=t=>{var e;return(e=vf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(o)),""].join(".")}const kc={};function dR(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function hR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jw=!1;function yx(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||kc[t]===e||kc[t]||Jw)return;kc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=dR().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Jw=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=hR(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),j=n("learnmore"),T=document.getElementById(j)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const k=p.element;l(k),h(T,j);const R=d();c(v,b),k.append(v,w,T,R),document.body.appendChild(k)}a?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function mR(){var t;const e=(t=vf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function c2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?wR(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new hr(s,l,r)}}function wR(t,e){return t.replace(bR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const bR=/\{\$([^}]+)}/g;function _R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],o=e[s];if(Zw(a)&&Zw(o)){if(!gi(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jR(t,e){const n=new NR(t,e);return n.subscribe.bind(n)}class NR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qm),s.error===void 0&&(s.error=Qm),s.complete===void 0&&(s.complete=Qm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,TR=2,SR=4*60*60*1e3,CR=.5;function eb(t,e=ER,n=TR){const r=e*Math.pow(n,t),s=Math.round(CR*r*(Math.random()-.5)*2);return Math.min(SR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(t){return t===Zi?void 0:t}function PR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const OR={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},MR=we.INFO,DR={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},LR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wf{constructor(e){this.name=e,this._logLevel=MR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const UR=(t,e)=>e.some(n=>t instanceof n);let tb,nb;function FR(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u2=new WeakMap,_g=new WeakMap,d2=new WeakMap,Xm=new WeakMap,_x=new WeakMap;function $R(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(oi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u2.set(n,t)}).catch(()=>{}),_x.set(e,t),e}function zR(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});_g.set(t,e)}let jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BR(t){jg=t(jg)}function HR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return d2.set(r,e.sort?e.sort():[e]),oi(r)}:VR().includes(t)?function(...e){return t.apply(Jm(this),e),oi(u2.get(this))}:function(...e){return oi(t.apply(Jm(this),e))}}function qR(t){return typeof t=="function"?HR(t):(t instanceof IDBTransaction&&zR(t),UR(t,FR())?new Proxy(t,jg):t)}function oi(t){if(t instanceof IDBRequest)return $R(t);if(Xm.has(t))return Xm.get(t);const e=qR(t);return e!==t&&(Xm.set(t,e),_x.set(e,t)),e}const Jm=t=>_x.get(t);function h2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=oi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(oi(o.result),c.oldVersion,c.newVersion,oi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const WR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Zm=new Map;function rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WR.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Zm.set(e,a),a}BR(t=>({...t,get:(e,n,r)=>rb(e,n)||t.get(e,n,r),has:(e,n)=>!!rb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ng="@firebase/app",sb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new wf("@firebase/app"),QR="@firebase/app-compat",XR="@firebase/analytics-compat",JR="@firebase/analytics",ZR="@firebase/app-check-compat",e5="@firebase/app-check",t5="@firebase/auth",n5="@firebase/auth-compat",r5="@firebase/database",s5="@firebase/data-connect",i5="@firebase/database-compat",a5="@firebase/functions",o5="@firebase/functions-compat",l5="@firebase/installations",c5="@firebase/installations-compat",u5="@firebase/messaging",d5="@firebase/messaging-compat",h5="@firebase/performance",f5="@firebase/performance-compat",m5="@firebase/remote-config",p5="@firebase/remote-config-compat",g5="@firebase/storage",x5="@firebase/storage-compat",y5="@firebase/firestore",v5="@firebase/ai",w5="@firebase/firestore-compat",b5="firebase",_5="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",j5={[Ng]:"fire-core",[QR]:"fire-core-compat",[JR]:"fire-analytics",[XR]:"fire-analytics-compat",[e5]:"fire-app-check",[ZR]:"fire-app-check-compat",[t5]:"fire-auth",[n5]:"fire-auth-compat",[r5]:"fire-rtdb",[s5]:"fire-data-connect",[i5]:"fire-rtdb-compat",[a5]:"fire-fn",[o5]:"fire-fn-compat",[l5]:"fire-iid",[c5]:"fire-iid-compat",[u5]:"fire-fcm",[d5]:"fire-fcm-compat",[h5]:"fire-perf",[f5]:"fire-perf-compat",[m5]:"fire-rc",[p5]:"fire-rc-compat",[g5]:"fire-gcs",[x5]:"fire-gcs-compat",[y5]:"fire-fst",[w5]:"fire-fst-compat",[v5]:"fire-vertex","fire-js":"fire-js",[b5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,N5=new Map,Eg=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kr(t){const e=t.name;if(Eg.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of Zc.values())ib(n,t);for(const n of N5.values())ib(n,t);return!0}function Ui(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Da("app","Firebase",k5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=_5;function f2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=a2()),!n)throw li.create("no-options");const a=Zc.get(s);if(a){if(gi(n,a.options)&&gi(r,a.config))return a;throw li.create("duplicate-app",{appName:s})}const o=new RR(s);for(const c of Eg.values())o.addComponent(c);const l=new E5(n,r,o);return Zc.set(s,l),l}function Nu(t=kg){const e=Zc.get(t);if(!e&&t===kg&&a2())return f2();if(!e)throw li.create("no-app",{appName:t});return e}function T5(){return Array.from(Zc.values())}function kn(t,e,n){var r;let s=(r=j5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(l.join(" "));return}kr(new dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-heartbeat-database",C5=1,eu="firebase-heartbeat-store";let ep=null;function m2(){return ep||(ep=h2(S5,C5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),ep}async function I5(t){try{const n=(await m2()).transaction(eu),r=await n.objectStore(eu).get(p2(t));return await n.done,r}catch(e){if(e instanceof hr)xs.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(n.message)}}}async function ab(t,e){try{const r=(await m2()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,p2(t)),await r.done}catch(n){if(n instanceof hr)xs.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(r.message)}}}function p2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,P5=30;class R5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ob();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>P5){const o=D5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ob(),{heartbeatsToSend:r,unsentEntries:s}=O5(this._heartbeatsCache.heartbeats),a=Ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xs.warn(n),""}}}function ob(){return new Date().toISOString().substring(0,10)}function O5(t,e=A5){const n=[];let r=t.slice();for(const s of t){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),lb(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lb(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}function D5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){kr(new dr("platform-logger",e=>new KR(e),"PRIVATE")),kr(new dr("heartbeat",e=>new R5(e),"PRIVATE")),kn(Ng,sb,t),kn(Ng,sb,"esm2017"),kn("fire-js","")}L5("");var U5="firebase",F5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(U5,F5,"app");const g2="@firebase/installations",jx="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1e4,y2=`w:${jx}`,v2="FIS_v2",V5="https://firebaseinstallations.googleapis.com/v1",$5=60*60*1e3,z5="installations",B5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Na=new Da(z5,B5,H5);function w2(t){return t instanceof hr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2({projectId:t}){return`${V5}/projects/${t}/installations`}function _2(t){return{token:t.token,requestStatus:2,expiresIn:W5(t.expiresIn),creationTime:Date.now()}}async function j2(t,e){const r=(await e.json()).error;return Na.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function N2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q5(t,{refreshToken:e}){const n=N2(t);return n.append("Authorization",G5(e)),n}async function k2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function W5(t){return Number(t.replace("s","000"))}function G5(t){return`${v2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=b2(t),s=N2(t),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:v2,appId:t.appId,sdkVersion:y2},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await k2(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:_2(d.authToken)}}else throw await j2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=/^[cdef][\w-]{21}$/,Tg="";function X5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=J5(t);return Q5.test(n)?n:Tg}catch{return Tg}}function J5(t){return Y5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Map;function S2(t,e){const n=bf(t);C2(n,e),Z5(n,e)}function C2(t,e){const n=T2.get(t);if(n)for(const r of n)r(e)}function Z5(t,e){const n=e4();n&&n.postMessage({key:t,fid:e}),t4()}let ca=null;function e4(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=t=>{C2(t.data.key,t.data.fid)}),ca}function t4(){T2.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebase-installations-database",r4=1,ka="firebase-installations-store";let tp=null;function Nx(){return tp||(tp=h2(n4,r4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}})),tp}async function Ah(t,e){const n=bf(t),s=(await Nx()).transaction(ka,"readwrite"),a=s.objectStore(ka),o=await a.get(n);return await a.put(e,n),await s.done,(!o||o.fid!==e.fid)&&S2(t,e.fid),e}async function I2(t){const e=bf(t),r=(await Nx()).transaction(ka,"readwrite");await r.objectStore(ka).delete(e),await r.done}async function _f(t,e){const n=bf(t),s=(await Nx()).transaction(ka,"readwrite"),a=s.objectStore(ka),o=await a.get(n),l=e(o);return l===void 0?await a.delete(n):await a.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&S2(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t){let e;const n=await _f(t.appConfig,r=>{const s=s4(r),a=i4(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Tg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function s4(t){const e=t||{fid:X5(),registrationStatus:0};return A2(e)}function i4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Na.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=a4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:o4(t)}:{installationEntry:e}}async function a4(t,e){try{const n=await K5(t,e);return Ah(t.appConfig,n)}catch(n){throw w2(n)&&n.customData.serverCode===409?await I2(t.appConfig):await Ah(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function o4(t){let e=await cb(t.appConfig);for(;e.registrationStatus===1;)await E2(100),e=await cb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kx(t);return r||n}return e}function cb(t){return _f(t,e=>{if(!e)throw Na.create("installation-not-found");return A2(e)})}function A2(t){return l4(t)?{fid:t.fid,registrationStatus:0}:t}function l4(t){return t.registrationStatus===1&&t.registrationTime+x2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4({appConfig:t,heartbeatServiceProvider:e},n){const r=u4(t,n),s=q5(t,n),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:y2,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await k2(()=>fetch(r,l));if(c.ok){const d=await c.json();return _2(d)}else throw await j2("Generate Auth Token",c)}function u4(t,{fid:e}){return`${b2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e=!1){let n;const r=await _f(t.appConfig,a=>{if(!P2(a))throw Na.create("not-registered");const o=a.authToken;if(!e&&f4(o))return a;if(o.requestStatus===1)return n=d4(t,e),a;{if(!navigator.onLine)throw Na.create("app-offline");const l=p4(a);return n=h4(t,l),l}});return n?await n:r.authToken}async function d4(t,e){let n=await ub(t.appConfig);for(;n.authToken.requestStatus===1;)await E2(100),n=await ub(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ex(t,e):r}function ub(t){return _f(t,e=>{if(!P2(e))throw Na.create("not-registered");const n=e.authToken;return g4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h4(t,e){try{const n=await c4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ah(t.appConfig,r),n}catch(n){if(w2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await I2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ah(t.appConfig,r)}throw n}}function P2(t){return t!==void 0&&t.registrationStatus===2}function f4(t){return t.requestStatus===2&&!m4(t)}function m4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$5}function p4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function g4(t){return t.requestStatus===1&&t.requestTime+x2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t){const e=t,{installationEntry:n,registrationPromise:r}=await kx(e);return r?r.catch(console.error):Ex(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e=!1){const n=t;return await v4(n),(await Ex(n,e)).token}async function v4(t){const{registrationPromise:e}=await kx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){if(!t||!t.options)throw np("App Configuration");if(!t.name)throw np("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw np(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function np(t){return Na.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="installations",b4="installations-internal",_4=t=>{const e=t.getProvider("app").getImmediate(),n=w4(e),r=Ui(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},j4=t=>{const e=t.getProvider("app").getImmediate(),n=Ui(e,R2).getImmediate();return{getId:()=>x4(n),getToken:s=>y4(n,s)}};function N4(){kr(new dr(R2,_4,"PUBLIC")),kr(new dr(b4,j4,"PRIVATE"))}N4();kn(g2,jx);kn(g2,jx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="analytics",k4="firebase_id",E4="origin",T4=60*1e3,S4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new wf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hn=new Da("analytics","Analytics",C4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){if(!t.startsWith(Tx)){const e=Hn.create("invalid-gtag-resource",{gtagURL:t});return tn.warn(e.message),""}return t}function O2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function A4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function P4(t,e){const n=A4("firebase-js-sdk-policy",{createScriptURL:I4}),r=document.createElement("script"),s=`${Tx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function R4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function O4(t,e,n,r,s,a){const o=r[s];try{if(o)await e[o];else{const c=(await O2(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){tn.error(l)}t("config",s,a)}async function M4(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await O2(n);for(const c of o){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){tn.error(a)}}function D4(t,e,n,r){async function s(a,...o){try{if(a==="event"){const[l,c]=o;await M4(t,e,n,l,c)}else if(a==="config"){const[l,c]=o;await O4(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=o;t("consent",l,c)}else if(a==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){tn.error(l)}}return s}function L4(t,e,n,r,s){let a=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=D4(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function U4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Tx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=30,V4=1e3;class $4{constructor(e={},n=V4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const M2=new $4;function z4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function B4(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:z4(r)},a=S4.replace("{app-id}",n),o=await fetch(a,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function H4(t,e=M2,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw Hn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Hn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new G4;return setTimeout(async()=>{l.abort()},T4),D2({appId:r,apiKey:s,measurementId:a},o,l,e)}async function D2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=M2){var a;const{appId:o,measurementId:l}=t;try{await q4(r,e)}catch(c){if(l)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await B4(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!W4(d)){if(s.deleteThrottleMetadata(o),l)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const h=Number((a=d==null?void 0:d.customData)===null||a===void 0?void 0:a.httpStatus)===503?eb(n,s.intervalMillis,F4):eb(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,f),tn.debug(`Calling attemptFetch again in ${h} millis`),D2(t,f,r,s)}}function q4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W4(t){if(!(t instanceof hr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class G4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function K4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}async function Y4(t,e,n,r){{const s=await e;t("config",s,{update:!0,user_id:n})}}async function Q4(t,e,n,r){{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(){if(wx())try{await bx()}catch(t){return tn.warn(Hn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return tn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function J4(t,e,n,r,s,a,o){var l;const c=H4(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>tn.error(g)),e.push(c);const d=X4().then(g=>{if(g)return r.getId()}),[h,f]=await Promise.all([c,d]);U4(a)||P4(a,h.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[E4]="firebase",p.update=!0,f!=null&&(p[k4]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.app=e}_delete(){return delete ma[this.app.options.appId],Promise.resolve()}}let ma={},db=[];const hb={};let rp="dataLayer",e6="gtag",fb,jf,mb=!1;function t6(){const t=[];if(vx()&&t.push("This is a browser extension environment."),c2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Hn.create("invalid-analytics-context",{errorInfo:e});tn.warn(n.message)}}function n6(t,e,n){t6();const r=t.options.appId;if(!r)throw Hn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hn.create("no-api-key");if(ma[r]!=null)throw Hn.create("already-exists",{id:r});if(!mb){R4(rp);const{wrappedGtag:a,gtagCore:o}=L4(ma,db,hb,rp,e6);jf=a,fb=o,mb=!0}return ma[r]=J4(t,db,hb,e,fb,rp,n),new Z4(t)}function r6(t=Nu()){t=Oe(t);const e=Ui(t,Ph);return e.isInitialized()?e.getImmediate():s6(t)}function s6(t,e={}){const n=Ui(t,Ph);if(n.isInitialized()){const s=n.getImmediate();if(gi(e,n.getOptions()))return s;throw Hn.create("already-initialized")}return n.initialize({options:e})}async function i6(){if(vx()||!c2()||!wx())return!1;try{return await bx()}catch{return!1}}function L2(t,e,n){t=Oe(t),Y4(jf,ma[t.app.options.appId],e).catch(r=>tn.error(r))}function a6(t,e,n){t=Oe(t),Q4(jf,ma[t.app.options.appId],e).catch(r=>tn.error(r))}function ml(t,e,n,r){t=Oe(t),K4(jf,ma[t.app.options.appId],e,n,r).catch(s=>tn.error(s))}const pb="@firebase/analytics",gb="0.10.17";function o6(){kr(new dr(Ph,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return n6(r,s,n)},"PUBLIC")),kr(new dr("analytics-internal",t,"PRIVATE")),kn(pb,gb),kn(pb,gb,"esm2017");function t(e){try{const n=e.getProvider(Ph).getImmediate();return{logEvent:(r,s,a)=>ml(n,r,s,a)}}catch(n){throw Hn.create("interop-component-reg-failed",{reason:n})}}}o6();var xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,U2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function I(){}I.prototype=N.prototype,A.D=N.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(_,P,S){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return N.prototype[P].apply(_,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,N,I){I||(I=0);var _=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)_[P]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(P=0;16>P;++P)_[P]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=A.g[0],I=A.g[1],P=A.g[2];var S=A.g[3],C=N+(S^I&(P^S))+_[0]+3614090360&4294967295;N=I+(C<<7&4294967295|C>>>25),C=S+(P^N&(I^P))+_[1]+3905402710&4294967295,S=N+(C<<12&4294967295|C>>>20),C=P+(I^S&(N^I))+_[2]+606105819&4294967295,P=S+(C<<17&4294967295|C>>>15),C=I+(N^P&(S^N))+_[3]+3250441966&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(S^I&(P^S))+_[4]+4118548399&4294967295,N=I+(C<<7&4294967295|C>>>25),C=S+(P^N&(I^P))+_[5]+1200080426&4294967295,S=N+(C<<12&4294967295|C>>>20),C=P+(I^S&(N^I))+_[6]+2821735955&4294967295,P=S+(C<<17&4294967295|C>>>15),C=I+(N^P&(S^N))+_[7]+4249261313&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(S^I&(P^S))+_[8]+1770035416&4294967295,N=I+(C<<7&4294967295|C>>>25),C=S+(P^N&(I^P))+_[9]+2336552879&4294967295,S=N+(C<<12&4294967295|C>>>20),C=P+(I^S&(N^I))+_[10]+4294925233&4294967295,P=S+(C<<17&4294967295|C>>>15),C=I+(N^P&(S^N))+_[11]+2304563134&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(S^I&(P^S))+_[12]+1804603682&4294967295,N=I+(C<<7&4294967295|C>>>25),C=S+(P^N&(I^P))+_[13]+4254626195&4294967295,S=N+(C<<12&4294967295|C>>>20),C=P+(I^S&(N^I))+_[14]+2792965006&4294967295,P=S+(C<<17&4294967295|C>>>15),C=I+(N^P&(S^N))+_[15]+1236535329&4294967295,I=P+(C<<22&4294967295|C>>>10),C=N+(P^S&(I^P))+_[1]+4129170786&4294967295,N=I+(C<<5&4294967295|C>>>27),C=S+(I^P&(N^I))+_[6]+3225465664&4294967295,S=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(S^N))+_[11]+643717713&4294967295,P=S+(C<<14&4294967295|C>>>18),C=I+(S^N&(P^S))+_[0]+3921069994&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^S&(I^P))+_[5]+3593408605&4294967295,N=I+(C<<5&4294967295|C>>>27),C=S+(I^P&(N^I))+_[10]+38016083&4294967295,S=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(S^N))+_[15]+3634488961&4294967295,P=S+(C<<14&4294967295|C>>>18),C=I+(S^N&(P^S))+_[4]+3889429448&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^S&(I^P))+_[9]+568446438&4294967295,N=I+(C<<5&4294967295|C>>>27),C=S+(I^P&(N^I))+_[14]+3275163606&4294967295,S=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(S^N))+_[3]+4107603335&4294967295,P=S+(C<<14&4294967295|C>>>18),C=I+(S^N&(P^S))+_[8]+1163531501&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(P^S&(I^P))+_[13]+2850285829&4294967295,N=I+(C<<5&4294967295|C>>>27),C=S+(I^P&(N^I))+_[2]+4243563512&4294967295,S=N+(C<<9&4294967295|C>>>23),C=P+(N^I&(S^N))+_[7]+1735328473&4294967295,P=S+(C<<14&4294967295|C>>>18),C=I+(S^N&(P^S))+_[12]+2368359562&4294967295,I=P+(C<<20&4294967295|C>>>12),C=N+(I^P^S)+_[5]+4294588738&4294967295,N=I+(C<<4&4294967295|C>>>28),C=S+(N^I^P)+_[8]+2272392833&4294967295,S=N+(C<<11&4294967295|C>>>21),C=P+(S^N^I)+_[11]+1839030562&4294967295,P=S+(C<<16&4294967295|C>>>16),C=I+(P^S^N)+_[14]+4259657740&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^S)+_[1]+2763975236&4294967295,N=I+(C<<4&4294967295|C>>>28),C=S+(N^I^P)+_[4]+1272893353&4294967295,S=N+(C<<11&4294967295|C>>>21),C=P+(S^N^I)+_[7]+4139469664&4294967295,P=S+(C<<16&4294967295|C>>>16),C=I+(P^S^N)+_[10]+3200236656&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^S)+_[13]+681279174&4294967295,N=I+(C<<4&4294967295|C>>>28),C=S+(N^I^P)+_[0]+3936430074&4294967295,S=N+(C<<11&4294967295|C>>>21),C=P+(S^N^I)+_[3]+3572445317&4294967295,P=S+(C<<16&4294967295|C>>>16),C=I+(P^S^N)+_[6]+76029189&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(I^P^S)+_[9]+3654602809&4294967295,N=I+(C<<4&4294967295|C>>>28),C=S+(N^I^P)+_[12]+3873151461&4294967295,S=N+(C<<11&4294967295|C>>>21),C=P+(S^N^I)+_[15]+530742520&4294967295,P=S+(C<<16&4294967295|C>>>16),C=I+(P^S^N)+_[2]+3299628645&4294967295,I=P+(C<<23&4294967295|C>>>9),C=N+(P^(I|~S))+_[0]+4096336452&4294967295,N=I+(C<<6&4294967295|C>>>26),C=S+(I^(N|~P))+_[7]+1126891415&4294967295,S=N+(C<<10&4294967295|C>>>22),C=P+(N^(S|~I))+_[14]+2878612391&4294967295,P=S+(C<<15&4294967295|C>>>17),C=I+(S^(P|~N))+_[5]+4237533241&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~S))+_[12]+1700485571&4294967295,N=I+(C<<6&4294967295|C>>>26),C=S+(I^(N|~P))+_[3]+2399980690&4294967295,S=N+(C<<10&4294967295|C>>>22),C=P+(N^(S|~I))+_[10]+4293915773&4294967295,P=S+(C<<15&4294967295|C>>>17),C=I+(S^(P|~N))+_[1]+2240044497&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~S))+_[8]+1873313359&4294967295,N=I+(C<<6&4294967295|C>>>26),C=S+(I^(N|~P))+_[15]+4264355552&4294967295,S=N+(C<<10&4294967295|C>>>22),C=P+(N^(S|~I))+_[6]+2734768916&4294967295,P=S+(C<<15&4294967295|C>>>17),C=I+(S^(P|~N))+_[13]+1309151649&4294967295,I=P+(C<<21&4294967295|C>>>11),C=N+(P^(I|~S))+_[4]+4149444226&4294967295,N=I+(C<<6&4294967295|C>>>26),C=S+(I^(N|~P))+_[11]+3174756917&4294967295,S=N+(C<<10&4294967295|C>>>22),C=P+(N^(S|~I))+_[2]+718787259&4294967295,P=S+(C<<15&4294967295|C>>>17),C=I+(S^(P|~N))+_[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.u=function(A,N){N===void 0&&(N=A.length);for(var I=N-this.blockSize,_=this.B,P=this.h,S=0;S<N;){if(P==0)for(;S<=I;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<N;)if(_[P++]=A.charCodeAt(S++),P==this.blockSize){s(this,_),P=0;break}}else for(;S<N;)if(_[P++]=A[S++],P==this.blockSize){s(this,_),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;var I=8*this.o;for(N=A.length-8;N<A.length;++N)A[N]=I&255,I/=256;for(this.u(A),A=Array(16),N=I=0;4>N;++N)for(var _=0;32>_;_+=8)A[I++]=this.g[N]>>>_&255;return A};function a(A,N){var I=l;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=N(A)}function o(A,N){this.h=N;for(var I=[],_=!0,P=A.length-1;0<=P;P--){var S=A[P]|0;_&&S==N||(I[P]=S,_=!1)}this.g=I}var l={};function c(A){return-128<=A&&128>A?a(A,function(N){return new o([N|0],0>N?-1:0)}):new o([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return T(d(-A));for(var N=[],I=1,_=0;A>=I;_++)N[_]=A/I|0,I*=4294967296;return new o(N,0)}function h(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return T(h(A.substring(1),N));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(N,8)),_=f,P=0;P<A.length;P+=8){var S=Math.min(8,A.length-P),C=parseInt(A.substring(P,P+S),N);8>S?(S=d(Math.pow(N,S)),_=_.j(S).add(d(C))):(_=_.j(I),_=_.add(d(C)))}return _}var f=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(j(this))return-T(this).m();for(var A=0,N=1,I=0;I<this.g.length;I++){var _=this.i(I);A+=(0<=_?_:4294967296+_)*N,N*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(j(this))return"-"+T(this).toString(A);for(var N=d(Math.pow(A,6)),I=this,_="";;){var P=R(I,N).g;I=b(I,P.j(N));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=P,w(I))return S+_;for(;6>S.length;)S="0"+S;_=S+_}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function j(A){return A.h==-1}t.l=function(A){return A=b(this,A),j(A)?-1:w(A)?0:1};function T(A){for(var N=A.g.length,I=[],_=0;_<N;_++)I[_]=~A.g[_];return new o(I,~A.h).add(p)}t.abs=function(){return j(this)?T(this):this},t.add=function(A){for(var N=Math.max(this.g.length,A.g.length),I=[],_=0,P=0;P<=N;P++){var S=_+(this.i(P)&65535)+(A.i(P)&65535),C=(S>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);_=C>>>16,S&=65535,C&=65535,I[P]=C<<16|S}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(A,N){return A.add(T(N))}t.j=function(A){if(w(this)||w(A))return f;if(j(this))return j(A)?T(this).j(T(A)):T(T(this).j(A));if(j(A))return T(this.j(T(A)));if(0>this.l(g)&&0>A.l(g))return d(this.m()*A.m());for(var N=this.g.length+A.g.length,I=[],_=0;_<2*N;_++)I[_]=0;for(_=0;_<this.g.length;_++)for(var P=0;P<A.g.length;P++){var S=this.i(_)>>>16,C=this.i(_)&65535,G=A.i(P)>>>16,de=A.i(P)&65535;I[2*_+2*P]+=C*de,v(I,2*_+2*P),I[2*_+2*P+1]+=S*de,v(I,2*_+2*P+1),I[2*_+2*P+1]+=C*G,v(I,2*_+2*P+1),I[2*_+2*P+2]+=S*G,v(I,2*_+2*P+2)}for(_=0;_<N;_++)I[_]=I[2*_+1]<<16|I[2*_];for(_=N;_<2*N;_++)I[_]=0;return new o(I,0)};function v(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function k(A,N){this.g=A,this.h=N}function R(A,N){if(w(N))throw Error("division by zero");if(w(A))return new k(f,f);if(j(A))return N=R(T(A),N),new k(T(N.g),T(N.h));if(j(N))return N=R(A,T(N)),new k(T(N.g),N.h);if(30<A.g.length){if(j(A)||j(N))throw Error("slowDivide_ only works with positive integers.");for(var I=p,_=N;0>=_.l(A);)I=D(I),_=D(_);var P=O(I,1),S=O(_,1);for(_=O(_,2),I=O(I,2);!w(_);){var C=S.add(_);0>=C.l(A)&&(P=P.add(I),S=C),_=O(_,1),I=O(I,1)}return N=b(A,P.j(N)),new k(P,N)}for(P=f;0<=A.l(N);){for(I=Math.max(1,Math.floor(A.m()/N.m())),_=Math.ceil(Math.log(I)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),S=d(I),C=S.j(N);j(C)||0<C.l(A);)I-=_,S=d(I),C=S.j(N);w(S)&&(S=p),P=P.add(S),A=b(A,C)}return new k(P,A)}t.A=function(A){return R(this,A).h},t.and=function(A){for(var N=Math.max(this.g.length,A.g.length),I=[],_=0;_<N;_++)I[_]=this.i(_)&A.i(_);return new o(I,this.h&A.h)},t.or=function(A){for(var N=Math.max(this.g.length,A.g.length),I=[],_=0;_<N;_++)I[_]=this.i(_)|A.i(_);return new o(I,this.h|A.h)},t.xor=function(A){for(var N=Math.max(this.g.length,A.g.length),I=[],_=0;_<N;_++)I[_]=this.i(_)^A.i(_);return new o(I,this.h^A.h)};function D(A){for(var N=A.g.length+1,I=[],_=0;_<N;_++)I[_]=A.i(_)<<1|A.i(_-1)>>>31;return new o(I,A.h)}function O(A,N){var I=N>>5;N%=32;for(var _=A.g.length-I,P=[],S=0;S<_;S++)P[S]=0<N?A.i(S+I)>>>N|A.i(S+I+1)<<32-N:A.i(S+I);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,ci=o}).apply(typeof xb<"u"?xb:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F2,uc,V2,Bd,Sg,$2,z2,B2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,x){return u==Array.prototype||u==Object.prototype||(u[m]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var m=0;m<u.length;++m){var x=u[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var x=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var M=u[E];if(!(M in x))break e;x=x[M]}u=u[u.length-1],E=x[u],m=m(E),m!=E&&m!=null&&e(x,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var x=0,E=!1,M={next:function(){if(!E&&x<u.length){var U=x++;return{value:m(U,u[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return a(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,x){return u.call.apply(u.bind,arguments)}function f(u,m,x){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,m){var x=Array.prototype.slice.call(arguments,1);return function(){var E=x.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function w(u,m){function x(){}x.prototype=m.prototype,u.aa=m.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(E,M,U){for(var W=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)W[Pe-2]=arguments[Pe];return m.prototype[M].apply(E,W)}}function j(u){const m=u.length;if(0<m){const x=Array(m);for(let E=0;E<m;E++)x[E]=u[E];return x}return[]}function T(u,m){for(let x=1;x<arguments.length;x++){const E=arguments[x];if(c(E)){const M=u.length||0,U=E.length||0;u.length=M+U;for(let W=0;W<U;W++)u[M+W]=E[W]}else u.push(E)}}class b{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function O(u,m,x){for(const E in u)m.call(x,u[E],E,u)}function A(u,m){for(const x in u)m.call(void 0,u[x],x,u)}function N(u){const m={};for(const x in u)m[x]=u[x];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,m){let x,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(x in E)u[x]=E[x];for(let U=0;U<I.length;U++)x=I[U],Object.prototype.hasOwnProperty.call(E,x)&&(u[x]=E[x])}}function P(u){var m=1;u=u.split(":");const x=[];for(;0<m&&u.length;)x.push(u.shift()),m--;return u.length&&x.push(u.join(":")),x}function S(u){l.setTimeout(()=>{throw u},0)}function C(){var u=Q;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,x){const E=de.get();E.set(m,x),this.h?this.h.next=E:this.g=E,this.h=E}}var de=new b(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,B=!1,Q=new G,ne=()=>{const u=l.Promise.resolve(void 0);le=()=>{u.then(ge)}};var ge=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(x){S(x)}var m=de;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}B=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};l.addEventListener("test",x,m),l.removeEventListener("test",x,m)}catch{}return u}();function Yn(u,m){if(Ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{R(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else x=="mouseover"?m=u.fromElement:x=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Yn.aa.h.call(this)}}w(Yn,Ae);var tt={2:"touch",3:"pen",4:"mouse"};Yn.prototype.h=function(){Yn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Tl=0;function Ya(u,m,x,E,M){this.listener=u,this.proxy=null,this.src=m,this.type=x,this.capture=!!E,this.ha=M,this.key=++Tl,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dt(u){this.src=u,this.g={},this.h=0}dt.prototype.add=function(u,m,x,E,M){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var W=At(u,m,E,M);return-1<W?(m=u[W],x||(m.fa=!1)):(m=new Ya(m,this.src,U,!!E,M),m.fa=x,u.push(m)),m};function It(u,m){var x=m.type;if(x in u.g){var E=u.g[x],M=Array.prototype.indexOf.call(E,m,void 0),U;(U=0<=M)&&Array.prototype.splice.call(E,M,1),U&&(zi(m),u.g[x].length==0&&(delete u.g[x],u.h--))}}function At(u,m,x,E){for(var M=0;M<u.length;++M){var U=u[M];if(!U.da&&U.listener==m&&U.capture==!!x&&U.ha==E)return M}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),Bi={};function Cs(u,m,x,E,M){if(Array.isArray(m)){for(var U=0;U<m.length;U++)Cs(u,m[U],x,E,M);return null}return x=Xa(x),u&&u[Ct]?u.K(m,x,d(E)?!!E.capture:!1,M):Cn(u,m,x,!1,E,M)}function Cn(u,m,x,E,M,U){if(!m)throw Error("Invalid event type");var W=d(M)?!!M.capture:!!M,Pe=Qr(u);if(Pe||(u[Yr]=Pe=new dt(u)),x=Pe.add(m,x,E,W,U),x.proxy)return x;if(E=In(),x.proxy=E,E.src=u,E.listener=x,u.addEventListener)St||(M=W),M===void 0&&(M=!1),u.addEventListener(m.toString(),E,M);else if(u.attachEvent)u.attachEvent(Hi(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return x}function In(){function u(x){return m.call(u.src,u.listener,x)}const m=An;return u}function Qa(u,m,x,E,M){if(Array.isArray(m))for(var U=0;U<m.length;U++)Qa(u,m[U],x,E,M);else E=d(E)?!!E.capture:!!E,x=Xa(x),u&&u[Ct]?(u=u.i,m=String(m).toString(),m in u.g&&(U=u.g[m],x=At(U,x,E,M),-1<x&&(zi(U[x]),Array.prototype.splice.call(U,x,1),U.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,x,E,M)),(x=-1<u?m[u]:null)&&Sr(x))}function Sr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])It(m.i,u);else{var x=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(x,E,u.capture):m.detachEvent?m.detachEvent(Hi(x),E):m.addListener&&m.removeListener&&m.removeListener(E),(x=Qr(m))?(It(x,u),x.h==0&&(x.src=null,m[Yr]=null)):zi(u)}}}function Hi(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function An(u,m){if(u.da)u=!0;else{m=new Yn(m,this);var x=u.listener,E=u.ha||u.src;u.fa&&Sr(u),u=x.call(E,m)}return u}function Qr(u){return u=u[Yr],u instanceof dt?u:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(u){return typeof u=="function"?u:(u[ht]||(u[ht]=function(m){return u.handleEvent(m)}),u[ht])}function z(){Ne.call(this),this.i=new dt(this),this.M=this,this.F=null}w(z,Ne),z.prototype[Ct]=!0,z.prototype.removeEventListener=function(u,m,x,E){Qa(this,u,m,x,E)};function me(u,m){var x,E=u.F;if(E)for(x=[];E;E=E.F)x.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new Ae(m,u);else if(m instanceof Ae)m.target=m.target||u;else{var M=m;m=new Ae(E,u),_(m,M)}if(M=!0,x)for(var U=x.length-1;0<=U;U--){var W=m.g=x[U];M=at(W,E,!0,m)&&M}if(W=m.g=u,M=at(W,E,!0,m)&&M,M=at(W,E,!1,m)&&M,x)for(U=0;U<x.length;U++)W=m.g=x[U],M=at(W,E,!1,m)&&M}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var x=u.g[m],E=0;E<x.length;E++)zi(x[E]);delete u.g[m],u.h--}}this.F=null},z.prototype.K=function(u,m,x,E){return this.i.add(String(u),m,!1,x,E)},z.prototype.L=function(u,m,x,E){return this.i.add(String(u),m,!0,x,E)};function at(u,m,x,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,U=0;U<m.length;++U){var W=m[U];if(W&&!W.da&&W.capture==x){var Pe=W.listener,Rt=W.ha||W.src;W.fa&&It(u.i,W),M=Pe.call(Rt,E)!==!1&&M}}return M&&!E.defaultPrevented}function Fe(u,m,x){if(typeof u=="function")x&&(u=p(u,x));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(u,m||0)}function Ja(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Ja(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Za extends Ne{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ja(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){Ne.call(this),this.h=u,this.g={}}w(qi,Ne);var Sl=[];function Vu(u){O(u.g,function(m,x){this.g.hasOwnProperty(x)&&Sr(m)},u),u.g={}}qi.prototype.N=function(){qi.aa.N.call(this),Vu(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=l.JSON.stringify,cm=l.JSON.parse,Cl=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Il(){}Il.prototype.h=null;function Al(u){return u.h||(u.h=u.i())}function $u(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pl(){Ae.call(this,"d")}w(Pl,Ae);function to(){Ae.call(this,"c")}w(to,Ae);var Cr={},Rl=null;function Is(){return Rl=Rl||new z}Cr.La="serverreachability";function Pn(u){Ae.call(this,Cr.La,u)}w(Pn,Ae);function Wi(u){const m=Is();me(m,new Pn(m))}Cr.STAT_EVENT="statevent";function Ol(u,m){Ae.call(this,Cr.STAT_EVENT,u),this.stat=m}w(Ol,Ae);function Pt(u){const m=Is();me(m,new Ol(m,u))}Cr.Ma="timingevent";function zu(u,m){Ae.call(this,Cr.Ma,u),this.size=m}w(zu,Ae);function Ir(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},m)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function um(u,m,x,E,M,U){u.info(function(){if(u.g)if(U)for(var W="",Pe=U.split("&"),Rt=0;Rt<Pe.length;Rt++){var Se=Pe[Rt].split("=");if(1<Se.length){var Wt=Se[0];Se=Se[1];var Gt=Wt.split("_");W=2<=Gt.length&&Gt[1]=="type"?W+(Wt+"="+Se+"&"):W+(Wt+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+m+`
`+x+`
`+W})}function dm(u,m,x,E,M,U,W){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+m+`
`+x+`
`+U+" "+W})}function Rn(u,m,x,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bu(u,x)+(E?" "+E:"")})}function hm(u,m){u.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function Bu(u,m){if(!u.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var E=x[u];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return eo(x)}catch{return m}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},no={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function ro(){}w(ro,Il),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},Ki=new ro;function Qn(u,m,x,E){this.j=u,this.i=m,this.l=x,this.R=E||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}var io={},Ar={};function Ml(u,m,x){u.L=1,u.v=Gu(Xr(m)),u.m=x,u.P=!0,Dl(u,null)}function Dl(u,m){u.F=Date.now(),ao(u),u.A=Xr(u.v);var x=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),dv(x.i,"t",E),u.C=0,x=u.j.J,u.h=new so,u.g=Cv(u.j,x?m:null,!u.m),0<u.O&&(u.M=new Za(p(u.Y,u,u.g),u.O)),m=u.U,x=u.g,E=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Sl[0]=M.toString()),M=Sl);for(var U=0;U<M.length;U++){var W=Cs(x,M[U],E||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?N(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),um(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jr(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=Jr(this.g);var m=this.g.Ba();const co=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||yv(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=co?Wi(3):Wi(2)),Y(this);var x=this.g.Z();this.X=x;t:if(Hu(this)){var E=yv(this.g);u="";var M=E.length,U=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),ee(this);var W="";break t}this.h.i=new l.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(U&&m==M-1)});E.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=x==200,dm(this.i,this.u,this.A,this.l,this.R,Gt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pe)){var Se=Pe;break t}}Se=null}if(x=Se)Rn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,x);else{this.o=!1,this.s=3,Pt(12),xe(this),ee(this);break e}}if(this.P){x=!0;let fr;for(;!this.J&&this.C<W.length;)if(fr=fm(this,W),fr==Ar){Gt==4&&(this.s=4,Pt(14),x=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==io){this.s=4,Pt(15),Rn(this.i,this.l,W,"[Invalid Chunk]"),x=!1;break}else Rn(this.i,this.l,fr,null),On(this,fr);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||W.length!=0||this.h.h||(this.s=1,Pt(16),x=!1),this.o=this.o&&x,!x)Rn(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),ee(this);else if(0<W.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),vm(Wt),Wt.M=!0,Pt(11))}}else Rn(this.i,this.l,W,null),On(this,W);Gt==4&&xe(this),this.o&&!this.J&&(Gt==4?kv(this.j,this):(this.o=!1,ao(this)))}else yC(this.g),x==400&&0<W.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),xe(this),ee(this)}}}catch{}finally{}};function Hu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fm(u,m){var x=u.C,E=m.indexOf(`
`,x);return E==-1?Ar:(x=Number(m.substring(x,E)),isNaN(x)?io:(E+=1,E+x>m.length?Ar:(m=m.slice(E,E+x),u.C=E+x,m)))}Qn.prototype.cancel=function(){this.J=!0,xe(this)};function ao(u){u.S=Date.now()+u.I,L(u,u.I)}function L(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ir(p(u.ba,u),m)}function Y(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(hm(this.i,this.A),this.L!=2&&(Wi(),Pt(17)),xe(this),this.s=2,ee(this)):L(this,this.S-u)};function ee(u){u.j.G==0||u.J||kv(u.j,u)}function xe(u){Y(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function On(u,m){try{var x=u.j;if(x.G!=0&&(x.g==u||mm(x.h,u))){if(!u.K&&mm(x.h,u)&&x.G==3){try{var E=x.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Zu(x),Xu(x);else break e;ym(x),Pt(18)}}else x.za=M[1],0<x.za-x.T&&37500>M[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ir(p(x.Za,x),6e3));if(1>=nv(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Qi(x,11)}else if((u.K||x.g==u)&&Zu(x),!v(m))for(M=x.Da.g.parse(m),m=0;m<M.length;m++){let Se=M[m];if(x.T=Se[0],Se=Se[1],x.G==2)if(Se[0]=="c"){x.K=Se[1],x.ia=Se[2];const Wt=Se[3];Wt!=null&&(x.la=Wt,x.j.info("VER="+x.la));const Gt=Se[4];Gt!=null&&(x.Aa=Gt,x.j.info("SVER="+x.Aa));const co=Se[5];co!=null&&typeof co=="number"&&0<co&&(E=1.5*co,x.L=E,x.j.info("backChannelRequestTimeoutMs_="+E)),E=x;const fr=u.g;if(fr){const td=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(td){var U=E.h;U.g||td.indexOf("spdy")==-1&&td.indexOf("quic")==-1&&td.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(pm(U,U.h),U.h=null))}if(E.D){const wm=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;wm&&(E.ya=wm,Ve(E.I,E.D,wm))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),E=x;var W=u;if(E.qa=Sv(E,E.J?E.ia:null,E.W),W.K){rv(E.h,W);var Pe=W,Rt=E.L;Rt&&(Pe.I=Rt),Pe.B&&(Y(Pe),ao(Pe)),E.g=W}else jv(E);0<x.i.length&&Ju(x)}else Se[0]!="stop"&&Se[0]!="close"||Qi(x,7);else x.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Qi(x,7):xm(x):Se[0]!="noop"&&x.l&&x.l.ta(Se),x.v=0)}}Wi(4)}catch{}}var nC=class{constructor(u,m){this.g=u,this.map=m}};function ev(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nv(u){return u.h?1:u.g?u.g.size:0}function mm(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pm(u,m){u.g?u.g.add(m):u.h=m}function rv(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ev.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const x of u.g.values())m=m.concat(x.D);return m}return j(u.i)}function rC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],x=u.length,E=0;E<x;E++)m.push(u[E]);return m}m=[],x=0;for(E in u)m[x++]=u[E];return m}function sC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var x=0;x<u;x++)m.push(x);return m}m=[],x=0;for(const E in u)m[x++]=E;return m}}}function iv(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var x=sC(u),E=rC(u),M=E.length,U=0;U<M;U++)m.call(void 0,E[U],x&&x[U],u)}var av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iC(u,m){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var E=u[x].indexOf("="),M=null;if(0<=E){var U=u[x].substring(0,E);M=u[x].substring(E+1)}else U=u[x];m(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yi){this.h=u.h,qu(this,u.j),this.o=u.o,this.g=u.g,Wu(this,u.s),this.l=u.l;var m=u.i,x=new Fl;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),ov(this,x),this.m=u.m}else u&&(m=String(u).match(av))?(this.h=!1,qu(this,m[1]||"",!0),this.o=Ll(m[2]||""),this.g=Ll(m[3]||"",!0),Wu(this,m[4]),this.l=Ll(m[5]||"",!0),ov(this,m[6]||"",!0),this.m=Ll(m[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}Yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ul(m,lv,!0),":");var x=this.g;return(x||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ul(m,lv,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ul(x,x.charAt(0)=="/"?lC:oC,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ul(x,uC)),u.join("")};function Xr(u){return new Yi(u)}function qu(u,m,x){u.j=x?Ll(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ov(u,m,x){m instanceof Fl?(u.i=m,dC(u.i,u.h)):(x||(m=Ul(m,cC)),u.i=new Fl(m,u.h))}function Ve(u,m,x){u.i.set(m,x)}function Gu(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ll(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ul(u,m,x){return typeof u=="string"?(u=encodeURI(u).replace(m,aC),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function aC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lv=/[#\/\?@]/g,oC=/[#\?:]/g,lC=/[#\?]/g,cC=/[#\?@]/g,uC=/#/g;function Fl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ps(u){u.g||(u.g=new Map,u.h=0,u.i&&iC(u.i,function(m,x){u.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Fl.prototype,t.add=function(u,m){Ps(this),this.i=null,u=oo(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(m),this.h+=1,this};function cv(u,m){Ps(u),m=oo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function uv(u,m){return Ps(u),m=oo(u,m),u.g.has(m)}t.forEach=function(u,m){Ps(this),this.g.forEach(function(x,E){x.forEach(function(M){u.call(m,M,E,this)},this)},this)},t.na=function(){Ps(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let E=0;E<m.length;E++){const M=u[E];for(let U=0;U<M.length;U++)x.push(m[E])}return x},t.V=function(u){Ps(this);let m=[];if(typeof u=="string")uv(this,u)&&(m=m.concat(this.g.get(oo(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)m=m.concat(u[x])}return m},t.set=function(u,m){return Ps(this),this.i=null,u=oo(this,u),uv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function dv(u,m,x){cv(u,m),0<x.length&&(u.i=null,u.g.set(oo(u,m),j(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var E=m[x];const U=encodeURIComponent(String(E)),W=this.V(E);for(E=0;E<W.length;E++){var M=U;W[E]!==""&&(M+="="+encodeURIComponent(String(W[E]))),u.push(M)}}return this.i=u.join("&")};function oo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function dC(u,m){m&&!u.j&&(Ps(u),u.i=null,u.g.forEach(function(x,E){var M=E.toLowerCase();E!=M&&(cv(this,E),dv(this,M,x))},u)),u.j=m}function hC(u,m){const x=new Gi;if(l.Image){const E=new Image;E.onload=g(Rs,x,"TestLoadImage: loaded",!0,m,E),E.onerror=g(Rs,x,"TestLoadImage: error",!1,m,E),E.onabort=g(Rs,x,"TestLoadImage: abort",!1,m,E),E.ontimeout=g(Rs,x,"TestLoadImage: timeout",!1,m,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function fC(u,m){const x=new Gi,E=new AbortController,M=setTimeout(()=>{E.abort(),Rs(x,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?Rs(x,"TestPingServer: ok",!0,m):Rs(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Rs(x,"TestPingServer: error",!1,m)})}function Rs(u,m,x,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(x)}catch{}}function mC(){this.g=new Cl}function pC(u,m,x){const E=x||"";try{iv(u,function(M,U){let W=M;d(M)&&(W=eo(M)),m.push(E+U+"="+encodeURIComponent(W))})}catch(M){throw m.push(E+"type="+encodeURIComponent("_badmap")),M}}function Ku(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Ku,Il),Ku.prototype.g=function(){return new Yu(this.l,this.j)},Ku.prototype.i=function(u){return function(){return u}}({});function Yu(u,m){z.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Yu,z),t=Yu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$l(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vl(this):$l(this),this.readyState==3&&hv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vl(this))},t.Qa=function(u){this.g&&(this.response=u,Vl(this))},t.ga=function(){this.g&&Vl(this)};function Vl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$l(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=m.next();return u.join(`\r
`)};function $l(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fv(u){let m="";return O(u,function(x,E){m+=E,m+=":",m+=x,m+=`\r
`}),m}function gm(u,m,x){e:{for(E in x){var E=!1;break e}E=!0}E||(x=fv(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Ve(u,m,x))}function nt(u){z.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,z);var gC=/^https?$/i,xC=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,x,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?Al(this.o):Al(Ki),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(U){mv(this,U);return}if(u=x||"",x=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)x.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())x.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(x.keys()).find(U=>U.toLowerCase()=="content-type"),M=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(xC,m,void 0))||E||M||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of x)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xv(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){mv(this,U)}};function mv(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,pv(u),Qu(u)}function pv(u){u.A||(u.A=!0,me(u,"complete"),me(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,me(this,"complete"),me(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gv(this):this.bb())},t.bb=function(){gv(this)};function gv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Jr(u)!=4||u.Z()!=2)){if(u.u&&Jr(u)==4)Fe(u.Ea,0,u);else if(me(u,"readystatechange"),Jr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var E;if(E=W===0){var M=String(u.D).match(av)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),E=!gC.test(M?M.toLowerCase():"")}x=E}if(x)me(u,"complete"),me(u,"success");else{u.m=6;try{var U=2<Jr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",pv(u)}}finally{Qu(u)}}}}function Qu(u,m){if(u.g){xv(u);const x=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||me(u,"ready");try{x.onreadystatechange=E}catch{}}}function xv(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Jr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),cm(m)}};function yv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yC(u){const m={};u=(u.g&&2<=Jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(v(u[E]))continue;var x=P(u[E]);const M=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const U=m[M]||[];m[M]=U,U.push(x)}A(m,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(u,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||m}function vv(u){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,u),this.cb=zl("retryDelaySeedMs",1e4,u),this.Wa=zl("forwardChannelMaxRetries",2,u),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ev(u&&u.concurrentRequestLimit),this.Da=new mC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vv.prototype,t.la=8,t.G=1,t.connect=function(u,m,x,E){Pt(0),this.W=u,this.H=m||{},x&&E!==void 0&&(this.H.OSID=x,this.H.OAID=E),this.F=this.X,this.I=Sv(this,null,this.W),Ju(this)};function xm(u){if(wv(u),u.G==3){var m=u.U++,x=Xr(u.I);if(Ve(x,"SID",u.K),Ve(x,"RID",m),Ve(x,"TYPE","terminate"),Bl(u,x),m=new Qn(u,u.j,m),m.L=2,m.v=Gu(Xr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&l.Image&&(new Image().src=m.v,x=!0),x||(m.g=Cv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ao(m)}Tv(u)}function Xu(u){u.g&&(vm(u),u.g.cancel(),u.g=null)}function wv(u){Xu(u),u.u&&(l.clearTimeout(u.u),u.u=null),Zu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Ju(u){if(!tv(u.h)&&!u.s){u.s=!0;var m=u.Ga;le||ne(),B||(le(),B=!0),Q.add(m,u),u.B=0}}function vC(u,m){return nv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ir(p(u.Ga,u,m),Ev(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Qn(this,this.j,u);let U=this.o;if(this.S&&(U?(U=N(U),_(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var E=this.i[x];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=_v(this,M,m),x=Xr(this.I),Ve(x,"RID",u),Ve(x,"CVER",22),this.D&&Ve(x,"X-HTTP-Session-Id",this.D),Bl(this,x),U&&(this.O?m="headers="+encodeURIComponent(String(fv(U)))+"&"+m:this.m&&gm(x,this.m,U)),pm(this.h,M),this.Ua&&Ve(x,"TYPE","init"),this.P?(Ve(x,"$req",m),Ve(x,"SID","null"),M.T=!0,Ml(M,x,null)):Ml(M,x,m),this.G=2}}else this.G==3&&(u?bv(this,u):this.i.length==0||tv(this.h)||bv(this))};function bv(u,m){var x;m?x=m.l:x=u.U++;const E=Xr(u.I);Ve(E,"SID",u.K),Ve(E,"RID",x),Ve(E,"AID",u.T),Bl(u,E),u.m&&u.o&&gm(E,u.m,u.o),x=new Qn(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),m&&(u.i=m.D.concat(u.i)),m=_v(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pm(u.h,x),Ml(x,E,m)}function Bl(u,m){u.H&&O(u.H,function(x,E){Ve(m,E,x)}),u.l&&iv({},function(x,E){Ve(m,E,x)})}function _v(u,m,x){x=Math.min(u.i.length,x);var E=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let U=-1;for(;;){const W=["count="+x];U==-1?0<x?(U=M[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Pe=!0;for(let Rt=0;Rt<x;Rt++){let Se=M[Rt].g;const Wt=M[Rt].map;if(Se-=U,0>Se)U=Math.max(0,M[Rt].g-100),Pe=!1;else try{pC(Wt,W,"req"+Se+"_")}catch{E&&E(Wt)}}if(Pe){E=W.join("&");break e}}}return u=u.i.splice(0,x),m.D=u,E}function jv(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;le||ne(),B||(le(),B=!0),Q.add(m,u),u.v=0}}function ym(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ir(p(u.Fa,u),Ev(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Nv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ir(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Xu(this),Nv(this))};function vm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Nv(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Xr(u.qa);Ve(m,"RID","rpc"),Ve(m,"SID",u.K),Ve(m,"AID",u.T),Ve(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(m,"TO",u.ja),Ve(m,"TYPE","xmlhttp"),Bl(u,m),u.m&&u.o&&gm(m,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Gu(Xr(m)),x.m=null,x.P=!0,Dl(x,u)}t.Za=function(){this.C!=null&&(this.C=null,Xu(this),ym(this),Pt(19))};function Zu(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function kv(u,m){var x=null;if(u.g==m){Zu(u),vm(u),u.g=null;var E=2}else if(mm(u.h,m))x=m.D,rv(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;E=Is(),me(E,new zu(E,x)),Ju(u)}else jv(u);else if(M=m.s,M==3||M==0&&0<m.X||!(E==1&&vC(u,m)||E==2&&ym(u)))switch(x&&0<x.length&&(m=u.h,m.i=m.i.concat(x)),M){case 1:Qi(u,5);break;case 4:Qi(u,10);break;case 3:Qi(u,6);break;default:Qi(u,2)}}}function Ev(u,m){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*m}function Qi(u,m){if(u.j.info("Error code "+m),m==2){var x=p(u.fb,u),E=u.Xa;const M=!E;E=new Yi(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qu(E,"https"),Gu(E),M?hC(E.toString(),x):fC(E.toString(),x)}else Pt(2);u.G=0,u.l&&u.l.sa(m),Tv(u),wv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Tv(u){if(u.G=0,u.ka=[],u.l){const m=sv(u.h);(m.length!=0||u.i.length!=0)&&(T(u.ka,m),T(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Sv(u,m,x){var E=x instanceof Yi?Xr(x):new Yi(x);if(E.g!="")m&&(E.g=m+"."+E.g),Wu(E,E.s);else{var M=l.location;E=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var U=new Yi(null);E&&qu(U,E),m&&(U.g=m),M&&Wu(U,M),x&&(U.l=x),E=U}return x=u.D,m=u.ya,x&&m&&Ve(E,x,m),Ve(E,"VER",u.la),Bl(u,E),E}function Cv(u,m,x){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Ku({eb:x})):new nt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iv(){}t=Iv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ed(){}ed.prototype.g=function(u,m){return new Mn(u,m)};function Mn(u,m){z.call(this),this.g=new vv(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new lo(this)}w(Mn,z),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){xm(this.g)},Mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=eo(u),u=x);m.i.push(new nC(m.Ya++,u)),m.G==3&&Ju(m)},Mn.prototype.N=function(){this.g.l=null,delete this.j,xm(this.g),delete this.g,Mn.aa.N.call(this)};function Av(u){Pl.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const x in m){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Av,Pl);function Pv(){to.call(this),this.status=1}w(Pv,to);function lo(u){this.g=u}w(lo,Iv),lo.prototype.ua=function(){me(this.g,"a")},lo.prototype.ta=function(u){me(this.g,new Av(u))},lo.prototype.sa=function(u){me(this.g,new Pv)},lo.prototype.ra=function(){me(this.g,"b")},ed.prototype.createWebChannel=ed.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,B2=function(){return new ed},z2=function(){return Is()},$2=Cr,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Bd=As,no.COMPLETE="complete",V2=no,$u.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",z.prototype.listen=z.prototype.K,uc=$u,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,F2=nt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore",vb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new wf("@firebase/firestore");function go(){return Ea.logLevel}function X(t,...e){if(Ea.logLevel<=we.DEBUG){const n=e.map(Sx);Ea.debug(`Firestore (${pl}): ${t}`,...n)}}function ys(t,...e){if(Ea.logLevel<=we.ERROR){const n=e.map(Sx);Ea.error(`Firestore (${pl}): ${t}`,...n)}}function xi(t,...e){if(Ea.logLevel<=we.WARN){const n=e.map(Sx);Ea.warn(`Firestore (${pl}): ${t}`,...n)}}function Sx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,H2(t,r,n)}function H2(t,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ys(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||H2(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class c6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u6{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ds,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new q2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class d6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m6(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Cg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ye(r,s);{const a=W2(),o=p6(a.encode(bb(t,n)),a.encode(bb(e,n)));return o!==0?o:ye(r,s)}}n+=r>65535?2:1}return ye(t.length,e.length)}function bb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function p6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ye(t[n],e[n]);return ye(t.length,e.length)}function nl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Or.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ye(e.length,n.length)}static compareSegments(e,n){const r=Or.isNumericId(e),s=Or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Or.extractNumericId(e).compare(Or.extractNumericId(n)):Cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Me extends Or{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Or{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return g6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new Ut([_b])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(a(),s++)}if(a(),o)throw new K(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Me.fromString(e))}static fromName(e){return new re(Me.fromString(e).popFirst(5))}static empty(){return new re(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){if(!n)throw new K(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x6(t,e,n,r){if(e===!0&&r===!0)throw new K(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jb(t){if(!re.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nb(t){if(re.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new K(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y6(t,e){if(e<=0)throw new K(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!K2(t))throw new K(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new K(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=-62135596800,Eb=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Eb);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kb)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:xt("string",De._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new De(0,0))}static max(){return new he(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function v6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new yi(s,re.empty(),e)}function w6(t){return new yi(t.readTime,t.key,tu)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(he.min(),re.empty(),tu)}static max(){return new yi(he.max(),re.empty(),tu)}}function b6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==_6)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&n()},c=>r(c))}),o=!0,a===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===a&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function N6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}kf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=-1;function Ef(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function k6(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="";function E6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tb(e)),e=T6(t.get(n),e);return Tb(e)}function T6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case Y2:n+="";break;default:n+=a}}return n}function Tb(t){return t+Y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new jt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new X2("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const S6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=S6.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="server_timestamp",Z2="__type__",ek="__previous_value__",tk="__local_write_time__";function Ax(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z2])===null||n===void 0?void 0:n.stringValue)===J2}function Tf(t){const e=t.mapValue.fields[ek];return Ax(e)?Tf(e):e}function nu(t){const e=vi(t.mapValue.fields[tk].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,s,a,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Oh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="__type__",I6="__max__",bd={mapValue:{}},rk="__vector__",Mh="value";function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ax(t)?4:P6(t)?9007199254740991:A6(t)?10:11:ie(28295,{value:t})}function Wr(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=vi(s.timestampValue),l=vi(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return wi(s.bytesValue).isEqual(wi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return ct(s.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ct(s.integerValue)===ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=ct(s.doubleValue),l=ct(a.doubleValue);return o===l?Rh(o)===Rh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(Sb(o)!==Sb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Wr(o[c],l[c])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function su(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=ct(a.integerValue||a.doubleValue),c=ct(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(nu(t),nu(e));case 5:return Cg(t.stringValue,e.stringValue);case 6:return function(a,o){const l=wi(a),c=wi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ye(l[d],c[d]);if(h!==0)return h}return ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ye(ct(a.latitude),ct(o.latitude));return l!==0?l:ye(ct(a.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ab(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,d,h;const f=a.fields||{},p=o.fields||{},g=(l=f[Mh])===null||l===void 0?void 0:l.arrayValue,w=(c=p[Mh])===null||c===void 0?void 0:c.arrayValue,j=ye(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return j!==0?j:Ab(g,w)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===bd.mapValue&&o===bd.mapValue)return 0;if(a===bd.mapValue)return 1;if(o===bd.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Cg(c[f],h[f]);if(p!==0)return p;const g=rl(l[c[f]],d[h[f]]);if(g!==0)return g}return ye(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{le:n})}}function Ib(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=vi(t),r=vi(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function Ab(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=rl(n[s],r[s]);if(a)return a}return ye(n.length,r.length)}function sl(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Ig(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${Ig(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function Hd(t){switch(bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Hd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Fi(r.fields,(a,o)=>{s+=a.length+Hd(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function Pb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ag(t){return!!t&&"integerValue"in t}function Px(t){return!!t&&"arrayValue"in t}function Rb(t){return!!t&&"nullValue"in t}function Ob(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function A6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nk])===null||n===void 0?void 0:n.stringValue)===rk}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ec(o):s.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new vn(Ec(this.value))}}function sk(t){const e=[];return Fi(t.fields,(n,r)=>{const s=new Ut([n]);if(qd(r)){const a=sk(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new en(e,0,he.min(),he.min(),he.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,he.min(),he.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,he.min(),he.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function Mb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=rl(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function R6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{}class pt extends ik{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M6(e,n,r):n==="array-contains"?new U6(e,r):n==="in"?new F6(e,r):n==="not-in"?new V6(e,r):n==="array-contains-any"?new $6(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D6(e,r):new L6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends ik{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Er(e,n)}matches(e){return ak(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ak(t){return t.op==="and"}function ok(t){return O6(t)&&ak(t)}function O6(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Pg(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(ok(t))return t.filters.map(e=>Pg(e)).join(",");{const e=t.filters.map(n=>Pg(n)).join(",");return`${t.op}(${e})`}}function lk(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Wr(r.value,s.value)}(t,e):t instanceof Er?function(r,s){return s instanceof Er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,l)=>a&&lk(o,s.filters[l]),!0):!1}(t,e):void ie(19439)}function ck(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(ck).join(" ,")+"}"}(t):"Filter"}class M6 extends pt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class D6 extends pt{constructor(e,n){super(e,"in",n),this.keys=uk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L6 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=uk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class U6 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Px(n)&&su(n.arrayValue,this.value)}}class F6 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class V6 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class $6 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n=null,r=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Pe=null}}function Lb(t,e=null,n=[],r=[],s=null,a=null,o=null){return new z6(t,e,n,r,s,a,o)}function Rx(t){const e=fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sl(r)).join(",")),e.Pe=n}return e.Pe}function Ox(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Db(t.startAt,e.startAt)&&Db(t.endAt,e.endAt)}function Rg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n=null,r=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function B6(t,e,n,r,s,a,o,l){return new yl(t,e,n,r,s,a,o,l)}function Sf(t){return new yl(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dk(t){return t.collectionGroup!==null}function Tc(t){const e=fe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new jt(Ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new iu(a,r))}),n.has(Ut.keyField().canonicalString())||e.Te.push(new iu(Ut.keyField(),r))}return e.Te}function Vr(t){const e=fe(t);return e.Ie||(e.Ie=H6(e,Tc(t))),e.Ie}function H6(t,e){if(t.limitType==="F")return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new iu(s.field,a)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Og(t,e){const n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lh(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return Ox(Vr(t),Vr(e))&&t.limitType===e.limitType}function hk(t){return`${Rx(Vr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ck(s)).join(", ")}]`),Ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>sl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>sl(s)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Tc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Mb(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Tc(r),s)||r.endAt&&!function(o,l,c){const d=Mb(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Tc(r),s))}(t,e)}function q6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fk(t){return(e,n)=>{let r=!1;for(const s of Tc(t)){const a=W6(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function W6(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?rl(c,d):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Q2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Ze(re.comparator);function vs(){return G6}const mk=new Ze(re.comparator);function dc(...t){let e=mk;for(const n of t)e=e.insert(n.key,n);return e}function pk(t){let e=mk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ua(){return Sc()}function gk(){return Sc()}function Sc(){return new Ua(t=>t.toString(),(t,e)=>t.isEqual(e))}const K6=new Ze(re.comparator),Y6=new jt(re.comparator);function be(...t){let e=Y6;for(const n of t)e=e.add(n);return e}const Q6=new jt(ye);function X6(){return Q6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function xk(t){return{integerValue:""+t}}function yk(t,e){return k6(e)?xk(e):Mx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function J6(t,e,n){return t instanceof au?function(s,a){const o={fields:{[Z2]:{stringValue:J2},[tk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ax(a)&&(a=Tf(a)),a&&(o.fields[ek]=a),{mapValue:o}}(n,e):t instanceof ou?wk(t,e):t instanceof lu?bk(t,e):function(s,a){const o=vk(s,a),l=Fb(o)+Fb(s.Ee);return Ag(o)&&Ag(s.Ee)?xk(l):Mx(s.serializer,l)}(t,e)}function Z6(t,e,n){return t instanceof ou?wk(t,e):t instanceof lu?bk(t,e):n}function vk(t,e){return t instanceof cu?function(r){return Ag(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class au extends Af{}class ou extends Af{constructor(e){super(),this.elements=e}}function wk(t,e){const n=_k(e);for(const r of t.elements)n.some(s=>Wr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lu extends Af{constructor(e){super(),this.elements=e}}function bk(t,e){let n=_k(e);for(const r of t.elements)n=n.filter(s=>!Wr(s,r));return{arrayValue:{values:n}}}class cu extends Af{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Fb(t){return ct(t.integerValue||t.doubleValue)}function _k(t){return Px(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.field=e,this.transform=n}}function e3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ou&&s instanceof ou||r instanceof lu&&s instanceof lu?nl(r.elements,s.elements,Wr):r instanceof cu&&s instanceof cu?Wr(r.Ee,s.Ee):r instanceof au&&s instanceof au}(t.transform,e.transform)}class t3{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function Nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dx(t.key,lr.none()):new Eu(t.key,t.data,lr.none());{const n=t.data,r=vn.empty();let s=new jt(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new Vi(t.key,r,new Vn(s.toArray()),lr.none())}}function n3(t,e,n){t instanceof Eu?function(s,a,o){const l=s.value.clone(),c=$b(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(s,a,o){if(!Wd(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=$b(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(kk(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Eu?function(a,o,l,c){if(!Wd(a.precondition,o))return l;const d=a.value.clone(),h=zb(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(a,o,l,c){if(!Wd(a.precondition,o))return l;const d=zb(a.fieldTransforms,c,o),h=o.data;return h.setAll(kk(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,l){return Wd(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function r3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=vk(r.transform,s||null);a!=null&&(n===null&&(n=vn.empty()),n.set(r.field,a))}return n||null}function Vb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nl(r,s,(a,o)=>e3(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends Pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vi extends Pf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $b(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);r.set(a.field,Z6(o,l,n[s]))}return r}function zb(t,e,n){const r=new Map;for(const s of t){const a=s.transform,o=n.data.field(s.field);r.set(s.field,J6(a,o,e))}return r}class Dx extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s3 extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&n3(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gk();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(s.key)?null:l;const c=Nk(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>Vb(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>Vb(n,r))}}class Lx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return K6}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new Lx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,ke;function l3(t){switch(t){case V.OK:return ie(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function Ek(t){if(t===void 0)return ys("GRPC error has no .code"),V.UNKNOWN;switch(t){case ft.OK:return V.OK;case ft.CANCELLED:return V.CANCELLED;case ft.UNKNOWN:return V.UNKNOWN;case ft.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ft.INTERNAL:return V.INTERNAL;case ft.UNAVAILABLE:return V.UNAVAILABLE;case ft.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ft.NOT_FOUND:return V.NOT_FOUND;case ft.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ft.ABORTED:return V.ABORTED;case ft.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ft.DATA_LOSS:return V.DATA_LOSS;default:return ie(39323,{code:t})}}(ke=ft||(ft={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new ci([4294967295,4294967295],0);function Bb(t){const e=W2().encode(t),n=new U2;return n.update(e),new Uint8Array(n.digest())}function Hb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ci([n,r],0),new ci([s,a],0)]}class Ux{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ci.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(ci.fromNumber(r)));return s.compare(c3)===1&&(s=new ci([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Bb(e),[r,s]=Hb(n);for(let a=0;a<this.hashCount;a++){const o=this.pe(r,s,a);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Ux(a,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=Bb(e),[r,s]=Hb(n);for(let a=0;a<this.hashCount;a++){const o=this.pe(r,s,a);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(he.min(),s,new Ze(ye),vs(),be())}}class Tu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class Tk{constructor(e,n){this.targetId=e,this.De=n}}class Sk{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class qb{constructor(){this.ve=0,this.Ce=Wb(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=be(),n=be(),r=be();return this.Ce.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:a})}}),new Tu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Wb()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class u3{constructor(e){this.We=e,this.Ge=new Map,this.ze=vs(),this.je=_d(),this.Je=_d(),this.He=new Ze(ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const a=s.target;if(Rg(a))if(r===0){const o=new re(a.path);this.Xe(n,o,en.newNoDocument(o,he.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=wi(r).toUint8Array()}catch(c){if(c instanceof X2)return xi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Ux(o,s,a)}catch(c){return xi(c instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((a,o)=>{const l=this.st(o);if(l){if(a.current&&Rg(l.target)){const c=new re(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,en.newNoDocument(c,e))}a.Ne&&(n.set(o,a.Le()),a.ke())}});let r=be();this.Je.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ze.forEach((a,o)=>o.setReadTime(e));const s=new Rf(e,n,this.He,this.ze,r);return this.ze=vs(),this.je=_d(),this.Je=_d(),this.He=new Ze(ye),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new qb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new jt(ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new jt(ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new qb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _d(){return new Ze(re.comparator)}function Wb(){return new Ze(re.comparator)}const d3={asc:"ASCENDING",desc:"DESCENDING"},h3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f3={and:"AND",or:"OR"};class m3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ck(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p3(t,e){return Uh(t,e.toTimestamp())}function $r(t){return Ce(!!t,49232),he.fromTimestamp(function(n){const r=vi(n);return new De(r.seconds,r.nanos)}(t))}function Fx(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ik(t){const e=Me.fromString(t);return Ce(Mk(e),10190,{key:e.toString()}),e}function Lg(t,e){return Fx(t.databaseId,e.path)}function sp(t,e){const n=Ik(e);if(n.get(1)!==t.databaseId.projectId)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(Pk(n))}function Ak(t,e){return Fx(t.databaseId,e)}function g3(t){const e=Ik(t);return e.length===4?Me.emptyPath():Pk(e)}function Ug(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pk(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Gb(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function x3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(Ce(h===void 0||typeof h=="string",58123),Ht.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?V.UNKNOWN:Ek(d.code);return new K(h,d.message||"")}(o);n=new Sk(r,s,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sp(t,r.document.name),a=$r(r.document.updateTime),o=r.document.createTime?$r(r.document.createTime):he.min(),l=new vn({mapValue:{fields:r.document.fields}}),c=en.newFoundDocument(s,a,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Gd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sp(t,r.document),a=r.readTime?$r(r.readTime):he.min(),o=en.newNoDocument(s,a),l=r.removedTargetIds||[];n=new Gd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sp(t,r.document),a=r.removedTargetIds||[];n=new Gd([],a,s,null)}else{if(!("filter"in e))return ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new o3(s,a),l=r.targetId;n=new Tk(l,o)}}return n}function y3(t,e){let n;if(e instanceof Eu)n={update:Gb(t,e.key,e.value)};else if(e instanceof Dx)n={delete:Lg(t,e.key)};else if(e instanceof Vi)n={update:Gb(t,e.key,e.data),updateMask:T3(e.fieldMask)};else{if(!(e instanceof s3))return ie(16599,{Rt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof au)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ou)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cu)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:p3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ie(27497)}(t,e.precondition)),n}function v3(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(s,a){let o=s.updateTime?$r(s.updateTime):$r(a);return o.isEqual(he.min())&&(o=$r(a)),new t3(o,s.transformResults||[])}(n,e))):[]}function w3(t,e){return{documents:[Ak(t,e.path)]}}function b3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ak(t,s);const a=function(d){if(d.length!==0)return Ok(Er.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:yo(p.field),direction:N3(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Mg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:s}}function _3(t){let e=g3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(f){const p=Rk(f);return p instanceof Er&&ok(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new iu(vo(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Ef(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new Dh(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new Dh(g,p)}(n.endAt)),B6(e,s,o,a,l,"F",c,d)}function j3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vo(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vo(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vo(n.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vo(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(vo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>Rk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function N3(t){return d3[t]}function k3(t){return h3[t]}function E3(t){return f3[t]}function yo(t){return{fieldPath:t.canonicalString()}}function vo(t){return Ut.fromServerFormat(t.fieldPath)}function Ok(t){return t instanceof pt?function(n){if(n.op==="=="){if(Ob(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(Rb(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ob(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(Rb(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:k3(n.op),value:n.value}}}(t):t instanceof Er?function(n){const r=n.getFilters().map(s=>Ok(s));return r.length===1?r[0]:{compositeFilter:{op:E3(n.op),filters:r}}}(t):ie(54877,{filter:t})}function T3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,a=he.min(),o=he.min(),l=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.gt=e}}function C3(t){const e=_3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Dn=new A3}addToCollectionParentIndex(e,n){return this.Dn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(yi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class A3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new jt(Me.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new jt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dk=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Dk,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new il(0)}static ur(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LruGarbageCollector",P3=1048576;function Qb([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class R3{constructor(e){this.Tr=e,this.buffer=new jt(Qb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){X(Yb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?X(Yb,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Rr(3e5)})}}class M3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(kf.ue);const r=new R3(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Kb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,a,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),go()<=we.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:f})))}}function D3(t,e){return new M3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cc(r.mutation,s,Vn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=ua();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=dc();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let a=vs();const o=Sc(),l=function(){return Sc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Vi)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Cc(h.mutation,d,h.mutation.getFieldMask(),De.now())):o.set(d.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new U3(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Sc();let s=new Ze((o,l)=>o-l),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Vn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||be()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=gk();h.forEach(p=>{if(!a.has(p)){const g=Nk(n.get(p),r.get(p));g!==null&&f.set(p,g),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):$.resolve(ua());let l=tu,c=a;return o.next(d=>$.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,be())).next(h=>({batchId:l,changes:pk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=dc();return this.indexManager.getCollectionParents(e,a).next(l=>$.forEach(l,c=>{const d=function(f,p){return new yl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let l=dc();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&Cc(h.mutation,d,Vn.empty(),De.now()),If(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return $.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:C3(s.bundledQuery),readTime:$r(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.overlays=new Ze(re.comparator),this.kr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return $.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.wt(e,n,a)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=ua(),a=n.length+1,o=new re(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Ze((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=ua(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ua(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return $.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a3(n,r));let a=this.kr.get(n);a===void 0&&(a=be(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.qr=new jt(kt.Qr),this.$r=new jt(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new kt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new re(new Me([])),r=new kt(n,e),s=new kt(n,e+1),a=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),a.push(o.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new re(new Me([])),r=new kt(n,e),s=new kt(n,e+1);let a=be();return this.$r.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new kt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return re.comparator(e.key,n.key)||ye(e.Hr,n.Hr)}static Ur(e,n){return ye(e.Hr,n.Hr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new jt(kt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i3(a,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Yr=this.Yr.add(new kt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ix:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),s=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);a.push(l)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(ye);return n.forEach(s=>{const a=new kt(s,0),o=new kt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,o],l=>{r=r.add(l.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;re.isDocumentKey(a)||(a=a.child(""));const o=new kt(new re(a),0);let l=new jt(ye);return this.Yr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Hr)),!0)},o),$.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(n.mutations,s=>{const a=new kt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new kt(n,0),s=this.Yr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.ni=e,this.docs=function(){return new Ze(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=vs();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():en.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=vs();const o=n.path,l=new re(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||b6(w6(h),r)<=0||(s.has(h.key)||If(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ri(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q3(this)}getSize(e){return $.resolve(this.size)}}class q3 extends L3{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.ii=new Ua(n=>Rx(n),Ox),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new Vx,this.targetCount=0,this._i=il.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),$.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new il(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.hr(n),$.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(a).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.ai={},this.overlays={},this.ui=new kf(0),this.ci=!1,this.ci=!0,this.li=new z3,this.referenceDelegate=e(this),this.hi=new W3(this),this.indexManager=new I3,this.remoteDocumentCache=function(s){return new H3(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new S3(n),this.Ti=new V3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new B3(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new G3(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ei(e,n){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class G3 extends j6{constructor(e){super(),this.currentSequenceNumber=e}}class $x{constructor(e){this.persistence=e,this.Ai=new Vx,this.Ri=null}static Vi(e){return new $x(e)}get mi(){if(this.Ri)return this.Ri;throw ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{const s=re.fromPath(r);return this.fi(e,s).next(a=>{a||n.removeEntry(s,he.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return $.or([()=>$.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.gi=new Ua(r=>E6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=D3(this,n)}static Vi(e,n){return new Fh(e,n)}Ii(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return $.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(a=>a?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(r++,a.removeEntry(o,he.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}Sr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=be(),s=be();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new zx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return yR()?8:N6(rn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ps(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ys(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new K3;return this.ws(e,n,o).next(l=>{if(a.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>a.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(go()<=we.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(go()<=we.DEBUG&&X("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(go()<=we.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):$.resolve())}ps(e,n){if(Ub(n))return $.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Lh(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=be(...a);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.bs(n,l);return this.Ds(n,d,o,c.readTime)?this.ps(e,Lh(n,null,"F")):this.vs(e,d,n,c)}))})))}ys(e,n,r,s){return Ub(n)||s.isEqual(he.min())?$.resolve(null):this.gs.getDocuments(e,r).next(a=>{const o=this.bs(n,a);return this.Ds(n,o,r,s)?$.resolve(null):(go()<=we.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(n)),this.vs(e,o,n,v6(s,tu)).next(l=>l))})}bs(e,n){let r=new jt(fk(e));return n.forEach((s,a)=>{If(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,n,r){return go()<=we.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",xo(n)),this.gs.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="LocalStore",Q3=3e8;class X3{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ze(ye),this.Ms=new Ua(a=>Rx(a),Ox),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function J3(t,e,n,r){return new X3(t,e,n,r)}async function Uk(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=be();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:l}))})})}function Z3(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let g=$.resolve();return p.forEach(w=>{g=g.next(()=>h.getEntry(c,w)).next(j=>{const T=d.docVersions.get(w);Ce(T!==null,48541),j.version.compareTo(T)<0&&(f.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),h.addEntry(j)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=be();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Fk(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function eO(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.hi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(a,h.addedDocuments,f)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ht.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(j,T,b){return j.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Q3?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,h)&&l.push(n.hi.updateTargetData(a,g))});let c=vs(),d=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(tO(a,o,e.documentUpdates).next(h=>{c=h.Ls,d=h.ks})),!r.isEqual(he.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next(f=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return $.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.Fs=s,a))}function tO(t,e,n){let r=be(),s=be();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=vs();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):X(Bx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function nO(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ix),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rO(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(a=>a?(s=a,$.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Fg(t,e,n){const r=fe(t),s=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xl(o))throw o;X(Bx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function Xb(t,e,n){const r=fe(t);let s=he.min(),a=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=fe(c),p=f.Ms.get(h);return p!==void 0?$.resolve(f.Fs.get(p)):f.hi.getTargetData(d,h)}(r,o,Vr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?a:be())).next(l=>(sO(r,q6(e),l),{documents:l,qs:a})))}function sO(t,e,n){let r=t.xs.get(e)||he.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class Jb{constructor(){this.activeTargetIds=X6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iO{constructor(){this.Fo=new Jb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Jb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="ConnectivityMonitor";class e_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){X(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){X(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function Vg(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const o=Vg(),l=this.Go(e,n.toUriEncodedString());X(ip,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,a);const{host:d}=new URL(l),h=Li(d);return this.jo(e,l,c,r,h).then(f=>(X(ip,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xi(ip,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,a,o){return this.Wo(e,n,r,s,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}Go(e,n){const r=oO[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class uO extends lO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,a){const o=Vg();return new Promise((l,c)=>{const d=new F2;d.setWithCredentials(!0),d.listenOnce(V2.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bd.NO_ERROR:const f=d.getResponseJson();X(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Bd.TIMEOUT:X(Qt,`RPC '${e}' ${o} timed out`),c(new K(V.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const p=d.getStatus();if(X(Qt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const j=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(v)>=0?v:V.UNKNOWN}(w.status);c(new K(j,w.message))}else c(new K(V.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(V.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{X(Qt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);X(Qt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Vg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=B2(),l=z2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");X(Qt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let p=!1,g=!1;const w=new cO({Ho:T=>{g?X(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(X(Qt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),X(Qt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Yo:()=>f.close()}),j=(T,b,v)=>{T.listen(b,k=>{try{v(k)}catch(R){setTimeout(()=>{throw R},0)}})};return j(f,uc.EventType.OPEN,()=>{g||(X(Qt,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),j(f,uc.EventType.CLOSE,()=>{g||(g=!0,X(Qt,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(f))}),j(f,uc.EventType.ERROR,T=>{g||(g=!0,xi(Qt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),w.__(new K(V.UNAVAILABLE,"The operation could not be completed")))}),j(f,uc.EventType.MESSAGE,T=>{var b;if(!g){const v=T.data[0];Ce(!!v,16349);const k=v,R=(k==null?void 0:k.error)||((b=k[0])===null||b===void 0?void 0:b.error);if(R){X(Qt,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(I){const _=ft[I];if(_!==void 0)return Ek(_)}(D),A=R.message;O===void 0&&(O=V.INTERNAL,A="Unknown error status: "+D+" with message "+R.message),g=!0,w.__(new K(O,A)),f.close()}else X(Qt,`RPC '${e}' stream ${s} received:`,v),w.a_(v)}}),j(l,$2.STAT_EVENT,T=>{T.stat===Sg.PROXY?X(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Sg.NOPROXY&&X(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new m3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="PersistentStream";class $k{constructor(e,n,r,s,a,o,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Vk(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(ys(n.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new K(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return X(t_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(X(t_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dO extends $k{constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=x3(this.serializer,e),r=function(a){if(!("targetChange"in a))return he.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?$r(o.readTime):he.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Ug(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=Rg(c)?{documents:w3(a,c)}:{query:b3(a,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Ck(a,o.resumeToken);const d=Mg(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=Uh(a,o.snapshotVersion.toTimestamp());const d=Mg(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=j3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.k_(n)}}class hO extends $k{constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=v3(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Ug(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y3(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{}class mO extends fO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,Dg(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(V.UNKNOWN,a.toString())})}Jo(e,n,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Dg(n,r),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(V.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ys(n),this._a=!1):X("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class gO{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Fa(this)&&(X(Ta,"Restarting streams for network reachability change."),await async function(c){const d=fe(c);d.Ia.add(4),await Su(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Mf(d)}(this))})}),this.Aa=new pO(r,s)}}async function Mf(t){if(Fa(t))for(const e of t.da)await e(!0)}async function Su(t){for(const e of t.da)await e(!1)}function zk(t,e){const n=fe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Gx(n)?Wx(n):vl(n).x_()&&qx(n,e))}function Hx(t,e){const n=fe(t),r=vl(n);n.Ta.delete(e),r.x_()&&Bk(n,e),n.Ta.size===0&&(r.x_()?r.B_():Fa(n)&&n.Aa.set("Unknown"))}function qx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).H_(e)}function Bk(t,e){t.Ra.$e(e),vl(t).Y_(e)}function Wx(t){t.Ra=new u3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Aa.aa()}function Gx(t){return Fa(t)&&!vl(t).M_()&&t.Ta.size>0}function Fa(t){return fe(t).Ia.size===0}function Hk(t){t.Ra=void 0}async function xO(t){t.Aa.set("Online")}async function yO(t){t.Ta.forEach((e,n)=>{qx(t,e)})}async function vO(t,e){Hk(t),Gx(t)?(t.Aa.la(e),Wx(t)):t.Aa.set("Unknown")}async function wO(t,e,n){if(t.Aa.set("Online"),e instanceof Sk&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){X(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof Gd?t.Ra.Ye(e):e instanceof Tk?t.Ra.it(e):t.Ra.et(e),!n.isEqual(he.min()))try{const r=await Fk(t.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.Ra.Pt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ta.get(d);h&&a.Ta.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.Ta.get(c);if(!h)return;a.Ta.set(c,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),Bk(a,c);const f=new Qs(h.target,c,d,h.sequenceNumber);qx(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X(Ta,"Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!xl(e))throw e;t.Ia.add(1),await Su(t),t.Aa.set("Offline"),n||(n=()=>Fk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Ta,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Mf(t)})}function qk(t,e){return e().catch(n=>Vh(t,n,e))}async function Df(t){const e=fe(t),n=_i(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ix;for(;bO(e);)try{const s=await nO(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,_O(e,s)}catch(s){await Vh(e,s)}Wk(e)&&Gk(e)}function bO(t){return Fa(t)&&t.Pa.length<10}function _O(t,e){t.Pa.push(e);const n=_i(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Wk(t){return Fa(t)&&!_i(t).M_()&&t.Pa.length>0}function Gk(t){_i(t).start()}async function jO(t){_i(t).na()}async function NO(t){const e=_i(t);for(const n of t.Pa)e.X_(n.mutations)}async function kO(t,e,n){const r=t.Pa.shift(),s=Lx.from(r,e,n);await qk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Df(t)}async function EO(t,e){e&&_i(t).Z_&&await async function(r,s){if(function(o){return l3(o)&&o!==V.ABORTED}(s.code)){const a=r.Pa.shift();_i(r).N_(),await qk(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Df(r)}}(t,e),Wk(t)&&Gk(t)}async function n_(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),X(Ta,"RemoteStore received new credentials");const r=Fa(n);n.Ia.add(3),await Su(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Mf(n)}async function TO(t,e){const n=fe(t);e?(n.Ia.delete(2),await Mf(n)):e||(n.Ia.add(2),await Su(n),n.Aa.set("Unknown"))}function vl(t){return t.Va||(t.Va=function(n,r,s){const a=fe(n);return a.ia(),new dO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:xO.bind(null,t),e_:yO.bind(null,t),n_:vO.bind(null,t),J_:wO.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Gx(t)?Wx(t):t.Aa.set("Unknown")):(await t.Va.stop(),Hk(t))})),t.Va}function _i(t){return t.ma||(t.ma=function(n,r,s){const a=fe(n);return a.ia(),new hO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:jO.bind(null,t),n_:EO.bind(null,t),ea:NO.bind(null,t),ta:kO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Df(t)):(await t.ma.stop(),t.Pa.length>0&&(X(Ta,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,l=new Kx(e,n,o,s,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yx(t,e){if(ys("AsyncQueue",`${e}: ${t}`),xl(t))return new K(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.fa=new Ze(re.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,s,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new al(e,n,Vo.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class CO{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=fe(n),a=s.queries;s.queries=s_(),a.forEach((o,l)=>{for(const c of l.wa)c.onError(r)})})(this,new K(V.ABORTED,"Firestore shutting down"))}}function s_(){return new Ua(t=>hk(t),Cf)}async function Qx(t,e){const n=fe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new SO,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(s,!0);break;case 1:a.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Yx(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&Jx(n)}async function Xx(t,e){const n=fe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.wa.indexOf(e);o>=0&&(a.wa.splice(o,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IO(t,e){const n=fe(t);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const l of o.wa)l.Ca(s)&&(r=!0);o.ya=s}}r&&Jx(n)}function AO(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(n);r.queries.delete(e)}function Jx(t){t.Da.forEach(e=>{e.next()})}var $g,i_;(i_=$g||($g={})).Fa="default",i_.Cache="cache";class Zx{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.key=e}}class Yk{constructor(e){this.key=e}}class PO{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=be(),this.mutatedKeys=be(),this.Xa=fk(e),this.eu=new Vo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new r_,s=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=If(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),j=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?w!==j&&(r.track({type:3,doc:g}),T=!0):this.iu(p,g)||(r.track({type:2,doc:g}),T=!0,(c&&this.Xa(g,c)>0||d&&this.Xa(g,d)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(c||d)&&(l=!0)),T&&(g?(o=o.add(g),a=j?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(g,w){const j=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{At:T})}};return j(g)-j(w)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,d=c!==this.Ya;return this.Ya=c,o.length!==0||d?{snapshot:new al(this.query,e.eu,a,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new r_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Yk(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Kk(r))}),n}uu(e){this.Ha=e.qs,this.Za=be();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return al.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ey="SyncEngine";class RO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OO{constructor(e){this.key=e,this.lu=!1}}class MO{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ua(l=>hk(l),Cf),this.Tu=new Map,this.Iu=new Set,this.du=new Ze(re.comparator),this.Eu=new Map,this.Au=new Vx,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function DO(t,e,n=!0){const r=tE(t);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await Qk(r,e,n,!0),s}async function LO(t,e){const n=tE(t);await Qk(n,e,!0,!1)}async function Qk(t,e,n,r){const s=await rO(t.localStore,Vr(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await UO(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&zk(t.remoteStore,s),l}async function UO(t,e,n,r,s){t.gu=(f,p,g)=>async function(j,T,b,v){let k=T.view.nu(b);k.Ds&&(k=await Xb(j.localStore,T.query,!1).then(({documents:A})=>T.view.nu(A,k)));const R=v&&v.targetChanges.get(T.targetId),D=v&&v.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(k,j.isPrimaryClient,R,D);return o_(j,T.targetId,O._u),O.snapshot}(t,f,p,g);const a=await Xb(t.localStore,e,!0),o=new PO(e,a.qs),l=o.nu(a.documents),c=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);o_(t,n,d._u);const h=new RO(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function FO(t,e,n){const r=fe(t),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter(o=>!Cf(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hx(r.remoteStore,s.targetId),zg(r,s.targetId)}).catch(gl)):(zg(r,s.targetId),await Fg(r.localStore,s.targetId,!0))}async function VO(t,e){const n=fe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hx(n.remoteStore,r.targetId))}async function $O(t,e,n){const r=KO(t);try{const s=await function(o,l){const c=fe(o),d=De.now(),h=l.reduce((g,w)=>g.add(w.key),be());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=vs(),j=be();return c.Os.getEntries(g,h).next(T=>{w=T,w.forEach((b,v)=>{v.isValidDocument()||(j=j.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(T=>{f=T;const b=[];for(const v of l){const k=r3(v,f.get(v.key).overlayedDocument);k!=null&&b.push(new Vi(v.key,k,sk(k.value.mapValue),lr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,b,l)}).next(T=>{p=T;const b=T.applyToLocalDocumentSet(f,j);return c.documentOverlayCache.saveOverlays(g,T.batchId,b)})}).then(()=>({batchId:p.batchId,changes:pk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new Ze(ye)),d=d.insert(l,c),o.Ru[o.currentUser.toKey()]=d}(r,s.batchId,n),await Cu(r,s.changes),await Df(r.remoteStore)}catch(s){const a=Yx(s,"Failed to persist write");n.reject(a)}}async function Xk(t,e){const n=fe(t);try{const r=await eO(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n.Eu.get(a);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Ce(o.lu,14607):s.removedDocuments.size>0&&(Ce(o.lu,42227),o.lu=!1))}),await Cu(n,r,e)}catch(r){await gl(r)}}function a_(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=fe(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.wa)p.va(l)&&(d=!0)}),d&&Jx(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zO(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let o=new Ze(re.comparator);o=o.insert(a,en.newNoDocument(a,he.min()));const l=be().add(a),c=new Rf(he.min(),new Map,new Ze(ye),o,l);await Xk(r,c),r.du=r.du.remove(a),r.Eu.delete(e),ty(r)}else await Fg(r.localStore,e,!1).then(()=>zg(r,e,n)).catch(gl)}async function BO(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await Z3(n.localStore,e);Zk(n,r,null),Jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,s)}catch(s){await gl(s)}}async function HO(t,e,n){const r=fe(t);try{const s=await function(o,l){const c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Ce(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);Zk(r,e,n),Jk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,s)}catch(s){await gl(s)}}function Jk(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Zk(t,e,n){const r=fe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||eE(t,r)})}function eE(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),ty(t))}function o_(t,e,n){for(const r of n)r instanceof Kk?(t.Au.addReference(r.key,e),qO(t,r)):r instanceof Yk?(X(ey,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||eE(t,r.key)):ie(19791,{yu:r})}function qO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(X(ey,"New document in limbo: "+n),t.Iu.add(r),ty(t))}function ty(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new re(Me.fromString(e)),r=t.mu.next();t.Eu.set(r,new OO(n)),t.du=t.du.insert(n,r),zk(t.remoteStore,new Qs(Vr(Sf(n.path)),r,"TargetPurposeLimboResolution",kf.ue))}}async function Cu(t,e,n){const r=fe(t),s=[],a=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{o.push(r.gu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=zx.Es(c.targetId,d);a.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,d){const h=fe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Is,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>$.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!xl(f))throw f;X(Bx,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.Fs.get(p),w=g.snapshotVersion,j=g.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(p,j)}}}(r.localStore,a))}async function WO(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){X(ey,"User change. New user:",e.toKey());const r=await Uk(n.localStore,e);n.currentUser=e,function(a,o){a.Vu.forEach(l=>{l.forEach(c=>{c.reject(new K(V.CANCELLED,o))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.Bs)}}function GO(t,e){const n=fe(t),r=n.Eu.get(e);if(r&&r.lu)return be().add(r.key);{let s=be();const a=n.Tu.get(e);if(!a)return s;for(const o of a){const l=n.Pu.get(o);s=s.unionWith(l.view.tu)}return s}}function tE(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zO.bind(null,e),e.hu.J_=IO.bind(null,e.eventManager),e.hu.pu=AO.bind(null,e.eventManager),e}function KO(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HO.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return J3(this.persistence,new Y3,e.initialUser,this.serializer)}Du(e){return new Lk($x.Vi,this.serializer)}bu(e){return new iO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class YO extends $h{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ce(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O3(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Lk(r=>Fh.Vi(r,n),this.serializer)}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CO}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(a){return new uO(a)}(e.databaseInfo);return function(a,o,l,c){return new mO(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,l){return new gO(r,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return e_.C()?new e_:new aO}())}createSyncEngine(e,n){return function(s,a,o,l,c,d,h){const f=new MO(s,a,o,l,c,d);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=fe(s);X(Ta,"RemoteStore shutting down."),a.Ia.add(5),await Su(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class QO{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=Cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{X(ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function op(t,e){t.asyncQueue.verifyOperationInProgress(),X(ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Uk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{xi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{X("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{xi("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function l_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XO(t);X(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>n_(e.remoteStore,s)),t._onlineComponents=e}async function XO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(ji,"Using user provided OfflineComponentProvider");try{await op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xi("Error using user provided cache. Falling back to memory cache: "+n),await op(t,new $h)}}else X(ji,"Using default OfflineComponentProvider"),await op(t,new YO(void 0));return t._offlineComponents}async function nE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(ji,"Using user provided OnlineComponentProvider"),await l_(t,t._uninitializedComponentsProvider._online)):(X(ji,"Using default OnlineComponentProvider"),await l_(t,new Bg))),t._onlineComponents}function JO(t){return nE(t).then(e=>e.syncEngine)}async function zh(t){const e=await nE(t),n=e.eventManager;return n.onListen=DO.bind(null,e.syncEngine),n.onUnlisten=FO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),n}function ZO(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new ny({next:p=>{h.Ou(),o.enqueueAndForget(()=>Xx(a,f));const g=p.docs.has(l);!g&&p.fromCache?d.reject(new K(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new K(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Zx(Sf(l.path),h,{includeMetadataChanges:!0,ka:!0});return Qx(a,f)}(await zh(t),t.asyncQueue,e,n,r)),r.promise}function eM(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new ny({next:p=>{h.Ou(),o.enqueueAndForget(()=>Xx(a,f)),p.fromCache&&c.source==="server"?d.reject(new K(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Zx(l,h,{includeMetadataChanges:!0,ka:!0});return Qx(a,f)}(await zh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",u_=!0;class d_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=u_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:u_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P3)throw new K(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l6;switch(r.type){case"firstParty":return new h6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c_.get(n);r&&(X("ComponentProvider","Removing Datastore"),c_.delete(n),r.terminate())}(this),Promise.resolve()}}function tM(t,e,n,r={}){var s;t=En(t,Lf);const a=Li(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(xx(`https://${c}`),yx("Firestore",!0)),o.host!==sE&&o.host!==c&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:r});if(!gi(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Jt.MOCK_USER;else{h=l2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jt(p)}t._authCredentials=new c6(new q2(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ku(n,st._jsonSchema))return new st(e,r||null,new re(Me.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:xt("string",st._jsonSchemaVersion),referencePath:xt("string")};class ui extends Es{constructor(e,n,r){super(e,n,Sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new re(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function Ye(t,e,...n){if(t=Oe(t),G2("collection","path",e),t instanceof Lf){const r=Me.fromString(e,...n);return Nb(r),new ui(t,null,r)}{if(!(t instanceof st||t instanceof ui))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Nb(r),new ui(t.firestore,null,r)}}function qe(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=Cx.newId()),G2("doc","path",e),t instanceof Lf){const r=Me.fromString(e,...n);return jb(r),new st(t,null,new re(r))}{if(!(t instanceof st||t instanceof ui))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return jb(r),new st(t.firestore,t instanceof ui?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class f_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Vk(this,"async_queue_retry"),this.oc=()=>{const r=ap();r&&X(h_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xl(e))throw e;X(h_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ys("INTERNAL UNHANDLED ERROR: ",m_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Kx.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&ie(47125,{hc:m_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function m_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ws extends Lf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new f_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function nM(t,e){const n=typeof t=="object"?t:Nu(),r=typeof t=="string"?t:Oh,s=Ui(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=i2("firestore");a&&tM(s,...a)}return s}function Uf(t){if(t._terminated)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rM(t),t._firestoreClient}function rM(t){var e,n,r;const s=t._freezeSettings(),a=function(l,c,d,h){return new C6(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new QO(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(Ht.fromBase64String(e))}catch(n){throw new K(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rr(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:xt("string",rr._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(ku(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:xt("string",zr._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Br(e.vectorValues);throw new K(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Br._jsonSchemaVersion="firestore/vectorValue/1.0",Br._jsonSchema={type:xt("string",Br._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^__.*__$/;class iM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class iE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ec:t})}}class ry{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(aE(this.Ec)&&sM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class aM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}Dc(e,n,r,s=!1){return new ry({Ec:e,methodName:n,bc:r,path:Ut.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new aM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oE(t,e,n,r,s,a={}){const o=t.Dc(a.merge||a.mergeFields?2:0,e,n,s);ay("Data must be an object, but it was:",o,r);const l=lE(r,o);let c,d;if(a.merge)c=new Vn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const p=Hg(e,f,n);if(!o.contains(p))throw new K(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);uE(h,p)||h.push(p)}c=new Vn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new iM(new vn(l),c,d)}class $f extends Iu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}class sy extends Iu{_toFieldTransform(e){return new jk(e.path,new au)}isEqual(e){return e instanceof sy}}class iy extends Iu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new cu(e.serializer,yk(e.serializer,this.Cc));return new jk(e.path,n)}isEqual(e){return e instanceof iy&&this.Cc===e.Cc}}function oM(t,e,n,r){const s=t.Dc(1,e,n);ay("Data must be an object, but it was:",s,r);const a=[],o=vn.empty();Fi(r,(c,d)=>{const h=oy(e,c,n);d=Oe(d);const f=s.gc(h);if(d instanceof $f)a.push(h);else{const p=Au(d,f);p!=null&&(a.push(h),o.set(h,p))}});const l=new Vn(a);return new iE(o,l,s.fieldTransforms)}function lM(t,e,n,r,s,a){const o=t.Dc(1,e,n),l=[Hg(e,r,n)],c=[s];if(a.length%2!=0)throw new K(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(Hg(e,a[p])),c.push(a[p+1]);const d=[],h=vn.empty();for(let p=l.length-1;p>=0;--p)if(!uE(d,l[p])){const g=l[p];let w=c[p];w=Oe(w);const j=o.gc(g);if(w instanceof $f)d.push(g);else{const T=Au(w,j);T!=null&&(d.push(g),h.set(g,T))}}const f=new Vn(d);return new iE(h,f,o.fieldTransforms)}function cM(t,e,n,r=!1){return Au(n,t.Dc(r?4:3,e))}function Au(t,e){if(cE(t=Oe(t)))return ay("Unsupported field value:",e,t),lE(t,e);if(t instanceof Iu)return function(r,s){if(!aE(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const l of r){let c=Au(l,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=De.fromDate(r);return{timestampValue:Uh(s.serializer,a)}}if(r instanceof De){const a=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,a)}}if(r instanceof zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:Ck(s.serializer,r._byteString)};if(r instanceof st){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Br)return function(o,l){return{mapValue:{fields:{[nk]:{stringValue:rk},[Mh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return Mx(l.serializer,d)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Nf(r)}`)}(t,e)}function lE(t,e){const n={};return Q2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,s)=>{const a=Au(s,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function cE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof zr||t instanceof rr||t instanceof st||t instanceof Iu||t instanceof Br)}function ay(t,e,n){if(!cE(n)||!K2(n)){const r=Nf(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Hg(t,e,n){if((e=Oe(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return oy(t,e);throw Bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const uM=new RegExp("[~\\*/\\[\\]]");function oy(t,e,n){if(e.search(uM)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bh(t,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(V.INVALID_ARGUMENT,l+t+c)}function uE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dM extends dE{data(){return super.data()}}function zf(t,e){return typeof e=="string"?oy(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{}class cy extends ly{}function sn(t,e,...n){let r=[];e instanceof ly&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof uy).length,l=a.filter(c=>c instanceof Bf).length;if(o>1||o>0&&l>0)throw new K(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bf extends cy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return fE(e._query,n),new Es(e.firestore,e.converter,Og(e._query,n))}_parse(e){const n=Vf(e.firestore);return function(a,o,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){x_(f,h);const w=[];for(const j of f)w.push(g_(c,a,j));p={arrayValue:{values:w}}}else p=g_(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||x_(f,h),p=cM(l,o,f,h==="in"||h==="not-in");return pt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Le(t,e,n){const r=e,s=zf("where",t);return Bf._create(s,r,n)}class uy extends ly{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const c of l)fE(o,c),o=Og(o,c)}(e._query,n),new Es(e.firestore,e.converter,Og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends cy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dy(e,n)}_apply(e){const n=function(s,a,o){if(s.startAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(a,o)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(s,a){const o=s.explicitOrderBy.concat([a]);return new yl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Sa(t,e="asc"){const n=e,r=zf("orderBy",t);return dy._create(r,n)}class hy extends cy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new hy(e,n,r)}_apply(e){return new Es(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}function uu(t){return y6("limit",t),hy._create("limit",t,"F")}function g_(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new K(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dk(e)&&n.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!re.isDocumentKey(r))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pb(t,new re(r))}if(n instanceof st)return Pb(t,n._key);throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function x_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fE(t,e){const n=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hM{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Mh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ct(o.doubleValue));return new Br(a)}convertGeoPoint(e){return new zr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=vi(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ce(Mk(r),9688,{name:e});const s=new ru(r.get(1),r.get(3)),a=new re(r.popFirst(5));return s.isEqual(n)||ys(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends dE{constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:xt("string",pa._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Kd extends pa{data(e={}){return super.data(e)}}class ga{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Kd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Kd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:fM(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){t=En(t,st);const e=En(t.firestore,ws);return ZO(Uf(e),t._key).then(n=>pE(e,t,n))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:xt("string",ga._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class fy extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Tn(t){t=En(t,Es);const e=En(t.firestore,ws),n=Uf(e),r=new fy(e);return hE(t._query),eM(n,t._query).then(s=>new ga(e,r,t,s))}function du(t,e,n){t=En(t,st);const r=En(t.firestore,ws),s=mE(t.converter,e,n);return qf(r,[oE(Vf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lr.none())])}function it(t,e,n,...r){t=En(t,st);const s=En(t.firestore,ws),a=Vf(s);let o;return o=typeof(e=Oe(e))=="string"||e instanceof Ff?lM(a,"updateDoc",t._key,e,n,r):oM(a,"updateDoc",t._key,e),qf(s,[o.toMutation(t._key,lr.exists(!0))])}function y_(t){return qf(En(t.firestore,ws),[new Dx(t._key,lr.none())])}function Ni(t,e){const n=En(t.firestore,ws),r=qe(t),s=mE(t.converter,e);return qf(n,[oE(Vf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function Hf(t,...e){var n,r,s;t=Oe(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||p_(e[o])||(a=e[o++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(p_(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof st)d=En(t.firestore,ws),h=Sf(t._key.path),c={next:f=>{e[o]&&e[o](pE(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=En(t,Es);d=En(f.firestore,ws),h=f._query;const p=new fy(d);c={next:g=>{e[o]&&e[o](new ga(d,p,f,g))},error:e[o+1],complete:e[o+2]},hE(t._query)}return function(p,g,w,j){const T=new ny(j),b=new Zx(g,T,w);return p.asyncQueue.enqueueAndForget(async()=>Qx(await zh(p),b)),()=>{T.Ou(),p.asyncQueue.enqueueAndForget(async()=>Xx(await zh(p),b))}}(Uf(d),h,l,c)}function qf(t,e){return function(r,s){const a=new ds;return r.asyncQueue.enqueueAndForget(async()=>$O(await JO(r),s,a)),a.promise}(Uf(t),e)}function pE(t,e,n){const r=n.docs.get(e._key),s=new fy(t);return new pa(t,s,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}function Ee(){return new sy("serverTimestamp")}function bs(t){return new iy("increment",t)}(function(e,n=!0){(function(s){pl=s})(La),kr(new dr("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new ws(new u6(r.getProvider("auth-internal")),new f6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(d.options.projectId,h)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),kn(yb,vb,e),kn(yb,vb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firebasestorage.googleapis.com",xE="storageBucket",mM=2*60*1e3,pM=10*60*1e3,gM=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends hr{constructor(e,n,r=0){super(lp(e),`Firebase Storage: ${n} (${lp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function lp(t){return"storage/"+t}function my(){const t="An unknown error occurred, please check the error payload for server response.";return new et(We.UNKNOWN,t)}function xM(t){return new et(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yM(t){return new et(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(We.UNAUTHENTICATED,t)}function wM(){return new et(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bM(t){return new et(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yE(){return new et(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vE(){return new et(We.CANCELED,"User canceled the upload/download.")}function _M(t){return new et(We.INVALID_URL,"Invalid URL '"+t+"'.")}function jM(t){return new et(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NM(){return new et(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xE+"' property when initializing the app?")}function wE(){return new et(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kM(){return new et(We.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function EM(){return new et(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TM(t){return new et(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qg(t){return new et(We.INVALID_ARGUMENT,t)}function bE(){return new et(We.APP_DELETED,"The Firebase app was deleted.")}function SM(t){return new et(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(t,e){return new et(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jl(t){throw new et(We.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw jM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},j=n===gE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",b=new RegExp(`^https?://${j}/${s}/${T}`,"i"),k=[{regex:l,indices:c,postModify:a},{regex:g,indices:w,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<k.length;R++){const D=k[R],O=D.regex.exec(e);if(O){const A=O[D.indices.bucket];let N=O[D.indices.path];N||(N=""),r=new $n(A,N),D.postModify(r);break}}if(r==null)throw _M(e);return r}}class CM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e,n){let r=1,s=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...T){d||(d=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(g,c())},T)}function p(){a&&clearTimeout(a)}function g(T,...b){if(d){p();return}if(T){p(),h.call(null,T,...b);return}if(c()||o){p(),h.call(null,T,...b);return}r<64&&(r*=2);let k;l===1?(l=2,k=0):k=(r+Math.random())*1e3,f(k)}let w=!1;function j(T){w||(w=!0,p(),!d&&(s!==null?(T||(l=2),clearTimeout(s),f(0)):T||(l=1)))}return f(0),a=setTimeout(()=>{o=!0,j(!0)},n),j}function AM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return t!==void 0}function RM(t){return typeof t=="function"}function OM(t){return typeof t=="object"&&!Array.isArray(t)}function Wf(t){return typeof t=="string"||t instanceof String}function v_(t){return py()&&t instanceof Blob}function py(){return typeof Blob<"u"}function w_(t,e,n,r){if(r<e)throw qg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _E(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var xa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,s,a,o,l,c,d,h,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,j)=>{this.resolve_=w,this.reject_=j,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Nd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===xa.NO_ERROR,c=a.getStatus();if(!l||jE(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===xa.ABORT;r(!1,new Nd(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Nd(d,a))})},n=(r,s)=>{const a=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());PM(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=my();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?bE():vE();o(c)}else{const c=yE();o(c)}};this.canceled_?n(!1,new Nd(!1,null,!0)):this.backoffId_=IM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function DM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VM(t,e,n,r,s,a,o=!0,l=!1){const c=_E(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return UM(h,e),DM(h,n),LM(h,a),FM(h,r),new MM(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zM(...t){const e=$M();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(py())return new Blob(t);throw new et(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){if(typeof atob>"u")throw TM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,n){this.data=e,this.contentType=n||null}}function qM(t,e){switch(t){case Dr.RAW:return new cp(NE(e));case Dr.BASE64:case Dr.BASE64URL:return new cp(kE(t,e));case Dr.DATA_URL:return new cp(GM(e),KM(e))}throw my()}function NE(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WM(t){let e;try{e=decodeURIComponent(t)}catch{throw Ic(Dr.DATA_URL,"Malformed data URL.")}return NE(e)}function kE(t,e){switch(t){case Dr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ic(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ic(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HM(e)}catch(s){throw s.message.includes("polyfill")?s:Ic(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class EE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ic(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GM(t){const e=new EE(t);return e.base64?kE(Dr.BASE64,e.rest):WM(e.rest)}function KM(t){return new EE(t).contentType}function YM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){let r=0,s="";v_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(v_(this.data_)){const r=this.data_,s=BM(r,e,n);return s===null?null:new rs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new rs(r,!0)}}static getBlob(...e){if(py()){const n=e.map(r=>r instanceof rs?r.data_:r);return new rs(zM.apply(null,n))}else{const n=e.map(o=>Wf(o)?qM(Dr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[a++]=o[l]}),new rs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){let e;try{e=JSON.parse(t)}catch{return null}return OM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||JM}}let kd=null;function ZM(t){return!Wf(t)||t.length<2?t:SE(t)}function gy(){if(kd)return kd;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,o){return ZM(o)}const n=new an("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),kd=t,kd}function eD(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new $n(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function tD(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return eD(r,t),r}function CE(t,e,n){const r=TE(e);return r===null?null:tD(t,r,n)}function nD(t,e,n,r){const s=TE(e);if(s===null||!Wf(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),g=wl(p,n,r),w=_E({alt:"media",token:d});return g+w})[0]}function IE(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class $a{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){if(!t)throw my()}function xy(t,e){function n(r,s){const a=CE(t,s,e);return hs(a!==null),a}return n}function rD(t,e){function n(r,s){const a=CE(t,s,e);return hs(a!==null),nD(a,s,t.host,t._protocol)}return n}function Pu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wM():s=vM():n.getStatus()===402?s=yM(t.bucket):n.getStatus()===403?s=bM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function yy(t){const e=Pu(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=xM(t.path)),a.serverResponse=s.serverResponse,a}return n}function sD(t,e,n){const r=e.fullServerUrl(),s=wl(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new $a(s,a,xy(t,n),o);return l.errorHandler=yy(e),l}function iD(t,e,n){const r=e.fullServerUrl(),s=wl(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new $a(s,a,rD(t,n),o);return l.errorHandler=yy(e),l}function aD(t,e){const n=e.fullServerUrl(),r=wl(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function o(c,d){}const l=new $a(r,s,o,a);return l.successCodes=[200,204],l.errorHandler=yy(e),l}function oD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AE(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oD(null,e)),r}function PE(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let k="";for(let R=0;R<2;R++)k=k+Math.random().toString().slice(2);return k}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=AE(e,r,s),h=IE(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",g=rs.getBlob(f,r,p);if(g===null)throw wE();const w={name:d.fullPath},j=wl(a,t.host,t._protocol),T="POST",b=t.maxUploadRetryTime,v=new $a(j,T,xy(t,n),b);return v.urlParams=w,v.headers=o,v.body=g.uploadData(),v.errorHandler=Pu(e),v}class Hh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function vy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{hs(!1)}return hs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lD(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),o=AE(e,r,s),l={name:o.fullPath},c=wl(a,t.host,t._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=IE(o,n),p=t.maxUploadRetryTime;function g(j){vy(j);let T;try{T=j.getResponseHeader("X-Goog-Upload-URL")}catch{hs(!1)}return hs(Wf(T)),T}const w=new $a(c,d,g,p);return w.urlParams=l,w.headers=h,w.body=f,w.errorHandler=Pu(e),w}function cD(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function a(d){const h=vy(d,["active","final"]);let f=null;try{f=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hs(!1)}f||hs(!1);const p=Number(f);return hs(!isNaN(p)),new Hh(p,r.size(),h==="final")}const o="POST",l=t.maxUploadRetryTime,c=new $a(n,o,a,l);return c.headers=s,c.errorHandler=Pu(e),c}const b_=256*1024;function uD(t,e,n,r,s,a,o,l){const c=new Hh(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw kM();const d=c.total-c.current;let h=d;s>0&&(h=Math.min(h,s));const f=c.current,p=f+h;let g="";h===0?g="finalize":d===h?g="upload, finalize":g="upload";const w={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},j=r.slice(f,p);if(j===null)throw wE();function T(R,D){const O=vy(R,["active","final"]),A=c.current+h,N=r.size();let I;return O==="final"?I=xy(e,a)(R,D):I=null,new Hh(A,N,O==="final",I)}const b="POST",v=e.maxUploadRetryTime,k=new $a(n,b,T,v);return k.headers=w,k.body=j.uploadData(),k.progressCallback=l||null,k.errorHandler=Pu(t),k}const xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function up(t){switch(t){case"running":case"pausing":case"canceling":return xn.RUNNING;case"paused":return xn.PAUSED;case"success":return xn.SUCCESS;case"canceled":return xn.CANCELED;case"error":return xn.ERROR;default:return xn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r){if(RM(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class hD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Jl("cannot .send() more than once");if(Li(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fD extends hD{initXhr(){this.xhr_.responseType="text"}}function zs(){return new fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=gy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(We.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(jE(s.status,[]))if(a)s=yE();else{this.sleepTime=Math.max(this.sleepTime*2,gM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(We.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=lD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,zs,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=cD(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,zs,n,r);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=b_*this._chunkMultiplier,n=new Hh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let o;try{o=uD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,zs,s,a,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){b_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=sD(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,zs,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=PE(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,zs,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=up(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const a=new dD(n||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(up(this._state)){case xn.SUCCESS:ho(this._resolve.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:const n=this._reject;ho(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(up(this._state)){case xn.RUNNING:case xn.PAUSED:e.next&&ho(e.next.bind(e,this.snapshot))();break;case xn.SUCCESS:e.complete&&ho(e.complete.bind(e))();break;case xn.CANCELED:case xn.ERROR:e.error&&ho(e.error.bind(e,this._error))();break;default:e.error&&ho(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ca(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SE(this._location.path)}get storage(){return this._service}get parent(){const e=QM(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new Ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SM(e)}}function pD(t,e,n){t._throwIfRoot("uploadBytes");const r=PE(t.storage,t._location,gy(),new rs(e,!0),n);return t.storage.makeRequestWithTokens(r,zs).then(s=>({metadata:s,ref:t}))}function gD(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new mD(t,new rs(e),n)}function xD(t){t._throwIfRoot("getDownloadURL");const e=iD(t.storage,t._location,gy());return t.storage.makeRequestWithTokens(e,zs).then(n=>{if(n===null)throw EM();return n})}function yD(t){t._throwIfRoot("deleteObject");const e=aD(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zs)}function vD(t,e){const n=XM(t._location.path,e),r=new $n(t._location.bucket,n);return new Ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return/^[A-Za-z]+:\/\//.test(t)}function bD(t,e){return new Ca(t,e)}function RE(t,e){if(t instanceof wy){const n=t;if(n._bucket==null)throw NM();const r=new Ca(n,n._bucket);return e!=null?RE(r,e):r}else return e!==void 0?vD(t,e):t}function _D(t,e){if(e&&wD(e)){if(t instanceof wy)return bD(t,e);throw qg("To use ref(service, url), the first argument must be a Storage instance.")}else return RE(t,e)}function __(t,e){const n=e==null?void 0:e[xE];return n==null?null:$n.makeFromBucketSpec(n,t)}function jD(t,e,n,r={}){t.host=`${e}:${n}`;const s=Li(e);s&&(xx(`https://${t.host}/b`),yx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:l2(a,t.app.options.projectId))}class wy{constructor(e,n,r,s,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=gE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mM,this._maxUploadRetryTime=pM,this._requests=new Set,s!=null?this._bucket=$n.makeFromBucketSpec(s,this._host):this._bucket=__(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=__(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new CM(bE());{const o=VM(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const j_="@firebase/storage",N_="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="storage";function za(t,e,n){return t=Oe(t),pD(t,e,n)}function ND(t,e,n){return t=Oe(t),gD(t,e,n)}function ki(t){return t=Oe(t),xD(t)}function by(t){return t=Oe(t),yD(t)}function Ba(t,e){return t=Oe(t),_D(t,e)}function kD(t=Nu(),e){t=Oe(t);const r=Ui(t,OE).getImmediate({identifier:e}),s=i2("storage");return s&&ED(r,...s),r}function ED(t,e,n,r={}){jD(t,e,n,r)}function TD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new wy(n,r,s,e,La)}function SD(){kr(new dr(OE,TD,"PUBLIC").setMultipleInstances(!0)),kn(j_,N_,""),kn(j_,N_,"esm2017")}SD();function _y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CD=ME,DE=new Da("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new wf("@firebase/auth");function ID(t,...e){qh.logLevel<=we.WARN&&qh.warn(`Auth (${La}): ${t}`,...e)}function Yd(t,...e){qh.logLevel<=we.ERROR&&qh.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,...e){throw jy(t,...e)}function Hr(t,...e){return jy(t,...e)}function LE(t,e,n){const r=Object.assign(Object.assign({},CD()),{[e]:n});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function di(t){return LE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DE.create(t,...e)}function ue(t,e,...n){if(!t)throw jy(e,...n)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function js(t,e){t||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AD(){return k_()==="http:"||k_()==="https:"}function k_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AD()||vx()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return PD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DD=new Ru(3e4,6e4);function Gf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bl(t,e,n,r,s={}){return FE(t,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=ju(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return pR()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(d.credentials="include"),UE.fetch()(await $E(t,t.config.apiHost,n,l),d)})}async function FE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OD),e);try{const s=new LD(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ed(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ed(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw LE(t,h,d);_s(t,h)}}catch(s){if(s instanceof hr)throw s;_s(t,"network-request-failed",{message:String(s)})}}async function VE(t,e,n,r,s={}){const a=await bl(t,e,n,r,s);return"mfaPendingCredential"in a&&_s(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function $E(t,e,n,r){const s=`${e}${n}?${r}`,a=t,o=a.config.emulator?Ny(t.config,s):`${t.config.apiScheme}://${s}`;return MD.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class LD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),DD.get())})}}function Ed(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e){return bl(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FD(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),s=ky(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ac(dp(s.auth_time)),issuedAtTime:Ac(dp(s.iat)),expirationTime:Ac(dp(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dp(t){return Number(t)*1e3}function ky(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=r2(n);return s?JSON.parse(s):(Yd("Failed to decode base64 JWT payload"),null)}catch(s){return Yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function E_(t){const e=ky(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&VD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hu(t,Wh(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?zE(a.providerUserInfo):[],l=BD(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function zD(t){const e=Oe(t);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function zE(t){return t.map(e=>{var{providerId:n}=e,r=_y(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){const n=await FE(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=await $E(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(c.credentials="include"),UE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qD(t,e){return bl(t,"POST","/v2/accounts:revokeToken",Gf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=E_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await HD(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new $o;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FD(this,e)}reload(){return zD(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await hu(this,UD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:R,isAnonymous:D,providerData:O,stsTokenManager:A}=n;ue(k&&A,e,"internal-error");const N=$o.fromJSON(this.name,A);ue(typeof k=="string",e,"internal-error"),Ms(f,e.name),Ms(p,e.name),ue(typeof R=="boolean",e,"internal-error"),ue(typeof D=="boolean",e,"internal-error"),Ms(g,e.name),Ms(w,e.name),Ms(j,e.name),Ms(T,e.name),Ms(b,e.name),Ms(v,e.name);const I=new wr({uid:k,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:j,stsTokenManager:N,createdAt:b,lastLoginAt:v});return O&&Array.isArray(O)&&(I.providerData=O.map(_=>Object.assign({},_))),T&&(I._redirectEventId=T),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new $o;s.updateFromServerResponse(n);const a=new wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?zE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new $o;l.updateFromIdToken(r);const c=new wr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function ls(t){js(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BE.type="NONE";const S_=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Qd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Qd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(ls(S_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||ls(S_);const o=Qd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await Wh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await wr._fromGetAccountInfoResponse(e,p,h)}else f=wr._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new zo(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new zo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(QE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HE(t=rn()){return/firefox\//i.test(t)}function qE(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(t=rn()){return/crios\//i.test(t)}function GE(t=rn()){return/iemobile/i.test(t)}function KE(t=rn()){return/android/i.test(t)}function YE(t=rn()){return/blackberry/i.test(t)}function QE(t=rn()){return/webos/i.test(t)}function Ey(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WD(t=rn()){var e;return Ey(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GD(){return xR()&&document.documentMode===10}function XE(t=rn()){return Ey(t)||KE(t)||QE(t)||YE(t)||/windows phone/i.test(t)||GE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e=[]){let n;switch(t){case"Browser":n=C_(rn());break;case"Worker":n=`${C_(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e={}){return bl(t,"GET","/v2/passwordPolicy",Gf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=6;class XD{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(di(this));const n=e?Oe(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),n=new XD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ID(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kf(t){return Oe(t)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(t){Ty=t}function eL(t){return Ty.loadJS(t)}function tL(){return Ty.gapiScript}function nL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){const n=Ui(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(gi(a,e??{}))return s;_s(s,"already-initialized")}return n.initialize({options:e})}function sL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iL(t,e,n){const r=Kf(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=ZE(e),{host:o,port:l}=aL(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(gi(d,r.config.emulator)&&gi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Li(o)?(xx(`${a}//${o}${c}`),yx("Auth",!0)):oL()}function ZE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aL(t){const e=ZE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:A_(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:A_(o)}}}function A_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return VE(t,"POST","/v1/accounts:signInWithIdp",Gf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="http://localhost";class Ia extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=_y(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ia(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:lL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends tT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ou{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Ou{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Ou{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return VE(t,"POST","/v1/accounts:signUp",Gf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await wr._fromIdTokenResponse(e,r,s),o=P_(r);return new Ei({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=P_(r);return new Ei({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function P_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(t){var e;if(nr(t.app))return Promise.reject(di(t));const n=Kf(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ei({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await cL(n,{returnSecureToken:!0}),s=await Ei._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends hr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kh(e,n,r,s)}}function rT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(t,a,e,r):a})}async function uL(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ei._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e,n=!1){const{auth:r}=t;if(nr(r.app))return Promise.reject(di(r));const s="reauthenticate";try{const a=await hu(t,rT(r,s,e,t),n);ue(a.idToken,r,"internal-error");const o=ky(a.idToken);ue(o,r,"internal-error");const{sub:l}=o;return ue(t.uid===l,r,"user-mismatch"),Ei._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_s(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e,n=!1){if(nr(t.app))return Promise.reject(di(t));const r="signIn",s=await rT(t,r,e),a=await Ei._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}function fL(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function mL(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function ol(t,e,n,r){return Oe(t).onAuthStateChanged(e,n,r)}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1e3,gL=10;class iT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);GD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const xL=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aT.type="SESSION";const oT=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await yL(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Sy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function wL(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function bL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _L(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jL(){return lT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebaseLocalStorageDb",NL=1,Qh="firebaseLocalStorage",uT="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function kL(){const t=indexedDB.deleteDatabase(cT);return new Mu(t).toPromise()}function Kg(){const t=indexedDB.open(cT,NL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qh,{keyPath:uT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await kL(),e(await Kg()))})})}async function R_(t,e,n){const r=Qf(t,!0).put({[uT]:e,value:n});return new Mu(r).toPromise()}async function EL(t,e){const n=Qf(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function O_(t,e){const n=Qf(t,!0).delete(e);return new Mu(n).toPromise()}const TL=800,SL=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(jL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bL(),!this.activeServiceWorker)return;this.sender=new vL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_L()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await R_(e,Yh,"1"),await O_(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Qf(s,!1).getAll();return new Mu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const CL=dT;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e){return e?ls(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AL(t){return hL(t.auth,new Cy(t),t.bypassAuthState)}function PL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),dL(n,new Cy(t),t.bypassAuthState)}async function RL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),uL(n,new Cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AL;case"linkViaPopup":case"linkViaRedirect":return RL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:_s(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new Ru(2e3,1e4);class Ro extends hT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OL.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="pendingRedirect",Xd=new Map;class DL extends hT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await LL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LL(t,e){const n=VL(e),r=FL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function UL(t,e){Xd.set(t._key(),e)}function FL(t){return ls(t._redirectPersistence)}function VL(t){return Qd(ML,t.config.apiKey,t.name)}async function $L(t,e,n=!1){if(nr(t.app))return Promise.reject(di(t));const r=Kf(t),s=IL(r,e),o=await new DL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=10*60*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zL&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qL(t);for(const n of e)try{if(YL(n))return}catch{}_s(t,"unauthorized-domain")}function YL(t){const e=Wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GL.test(n))return!1;if(WL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Ru(3e4,6e4);function D_(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XL(t){return new Promise((e,n)=>{var r,s,a;function o(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),n(Hr(t,"network-request-failed"))},timeout:QL.get()})}if(!((s=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=qr().gapi)===null||a===void 0)&&a.load)o();else{const l=nL("iframefcb");return qr()[l]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},eL(`${tL()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jd=null,e})}let Jd=null;function JL(t){return Jd=Jd||XL(t),Jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Ru(5e3,15e3),eU="__/auth/iframe",tU="emulator/auth/iframe",nU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sU(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,tU):`https://${t.config.authDomain}/${eU}`,r={apiKey:e.apiKey,appName:t.name,v:La},s=rU.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ju(r).slice(1)}`}async function iU(t){const e=await JL(t),n=qr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:sU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nU,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Hr(t,"network-request-failed"),l=qr().setTimeout(()=>{a(o)},ZL.get());function c(){qr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oU=500,lU=600,cU="_blank",uU="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dU(t,e,n,r=oU,s=lU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},aU),{width:r.toString(),height:s.toString(),top:a,left:o}),d=rn().toLowerCase();n&&(l=WE(d)?cU:n),HE(d)&&(e=e||uU,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(WD(d)&&l!=="_self")return hU(e||"",l),new L_(null);const f=window.open(e||"",l,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new L_(f)}function hU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="__/auth/handler",mU="emulator/auth/handler",pU=encodeURIComponent("fac");async function U_(t,e,n,r,s,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:s};if(e instanceof tT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_R(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ou){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${pU}=${encodeURIComponent(c)}`:"";return`${gU(t)}?${ju(l).slice(1)}${d}`}function gU({config:t}){return t.emulator?Ny(t,mU):`https://${t.authDomain}/${fU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class xU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=$L,this._overrideRedirectResult=UL}async _openPopup(e,n,r,s){var a;js((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await U_(e,n,r,Wg(),s);return dU(e,o,Sy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await U_(e,n,r,Wg(),s);return wL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(js(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iU(e),r=new BL(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hp,{type:hp},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[hp];o!==void 0&&n(!!o),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XE()||qE()||Ey()}}const yU=xU;var F_="@firebase/auth",V_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bU(t){kr(new dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(t)},d=new JD(r,s,a,c);return sL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kr(new dr("auth-internal",e=>{const n=Kf(e.getProvider("auth").getImmediate());return(r=>new vU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(F_,V_,wU(t)),kn(F_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=5*60,jU=o2("authIdTokenMaxAge")||_U;let $_=null;const NU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jU)return;const s=n==null?void 0:n.token;$_!==s&&($_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Xf(t=Nu()){const e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rL(t,{popupRedirectResolver:yU,persistence:[CL,xL,oT]}),r=o2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=NU(a.toString());mL(n,o,()=>o(n.currentUser)),fL(n,l=>o(l))}}const s=s2("auth");return s&&iL(n,`http://${s}`),n}function kU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Hr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",kU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bU("Browser");const EU={apiKey:"AIzaSyB3wZTanCdGxG6jpo39CkqUcM9LhK17BME",authDomain:"ajnabicam.firebaseapp.com",projectId:"ajnabicam",storageBucket:"ajnabicam.appspot.com",messagingSenderId:"558188110620",appId:"1:558188110620:web:500cdf55801d5b00e9d0d9",measurementId:"G-XM2WK7W95Q"},Ns=T5().length===0?f2(EU):Nu();if(!Ns)throw console.error("Failed to initialize Firebase app"),new Error("Firebase initialization failed");console.log("✅ Firebase app initialized successfully");const dn=Xf(Ns),ae=nM(Ns),Un=kD(Ns);let zt=null;i6().then(t=>{t&&(zt=r6(Ns))}).catch(()=>{zt=null});async function TU(t){try{const e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=CU(),r=navigator.platform,s=IU(),a={userId:t,sessionId:e,platform:r,browser:s,deviceType:n,startTime:Ee(),pageViews:1,interactions:0},o=await Ni(Ye(ae,"userSessions"),a);return zt&&(L2(zt,t),ml(zt,"session_start",{session_id:e,device_type:n,platform:r,browser:s})),localStorage.setItem("current_session_id",e),console.log("✅ User session started:",e),e}catch(e){return console.error("❌ Error starting user session:",e),""}}async function z_(t){try{const e=t||localStorage.getItem("current_session_id");if(!e)return!1;const n=sn(Ye(ae,"userSessions"),Le("sessionId","==",e),uu(1)),r=await Tn(n);if(r.empty)return!1;const s=r.docs[0],a=s.data(),o=new Date,l=a.startTime.toDate(),c=Math.floor((o.getTime()-l.getTime())/1e3);return await it(s.ref,{endTime:Ee(),duration:c}),zt&&ml(zt,"session_end",{session_id:e,session_duration:c}),localStorage.removeItem("current_session_id"),console.log("✅ User session ended:",e),!0}catch(e){return console.error("❌ Error ending user session:",e),!1}}async function Iy(t,e,n,r){try{const s=localStorage.getItem("current_session_id")||"unknown",a={userId:t,sessionId:s,action:e,target:n,details:r,timestamp:Ee(),pageUrl:window.location.href,userAgent:navigator.userAgent};if(await Ni(Ye(ae,"userInteractions"),a),s!=="unknown"){const o=sn(Ye(ae,"userSessions"),Le("sessionId","==",s),uu(1)),l=await Tn(o);if(!l.empty){const c=l.docs[0];await it(c.ref,{interactions:bs(1)})}}return zt&&ml(zt,"user_interaction",{action:e,target:n,session_id:s,...r}),!0}catch(s){return console.error("❌ Error tracking user interaction:",s),!1}}async function SU(t,e,n,r){try{const s=localStorage.getItem("current_session_id")||"unknown",a={userId:t,feature:e,action:n,metadata:r,timestamp:Ee(),sessionId:s};return await Ni(Ye(ae,"featureUsage"),a),zt&&ml(zt,"feature_usage",{feature_name:e,action:n,...r}),await Iy(t,`feature_${n}`,e,r),!0}catch(s){return console.error("❌ Error tracking feature usage:",s),!1}}async function B_(t,e){try{const n=new Date().toISOString().split("T")[0],r=qe(ae,"userBehaviorMetrics",`${t}_${n}`);if((await Va(r)).exists())await it(r,{...e,lastActive:Ee()});else{const a={userId:t,date:n,totalSessions:0,totalTimeSpent:0,totalInteractions:0,totalChats:0,totalMessages:0,premiumFeatureUsage:0,coinsEarned:0,coinsSpent:0,friendsAdded:0,reportsMade:0,averageSessionDuration:0,mostUsedFeatures:[],lastActive:Ee(),...e};await du(r,a)}return!0}catch(n){return console.error("❌ Error updating daily metrics:",n),!1}}function CU(){const t=navigator.userAgent;return/tablet|ipad|playbook|silk/i.test(t)?"tablet":/mobile|iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(t)?"mobile":"desktop"}function IU(){const t=navigator.userAgent;return t.includes("Firefox")?"Firefox":t.includes("Chrome")?"Chrome":t.includes("Safari")?"Safari":t.includes("Edge")?"Edge":t.includes("Opera")?"Opera":"Unknown"}function H_(t,e){zt&&(L2(zt,t),a6(zt,e))}async function AU(t,e,n){try{const r=localStorage.getItem("current_session_id")||"unknown";if(r!=="unknown"){const s=sn(Ye(ae,"userSessions"),Le("sessionId","==",r),uu(1)),a=await Tn(s);if(!a.empty){const o=a.docs[0];await it(o.ref,{pageViews:bs(1)})}}return zt&&ml(zt,"page_view",{page_title:n||e,page_location:window.location.href}),await Iy(t,"page_view",e,{title:n}),!0}catch(r){return console.error("❌ Error tracking page view:",r),!1}}function PU(){const t=Di();y.useEffect(()=>{let a=!1;const o=ol(dn,async c=>{var d;c&&!a&&(c.uid,a=!0,await TU(c.uid),H_(c.uid,{user_id:c.uid,sign_up_method:((d=c.providerData[0])==null?void 0:d.providerId)||"anonymous"}),await B_(c.uid,{totalSessions:1}))}),l=()=>{a&&z_()};return window.addEventListener("beforeunload",l),()=>{o(),window.removeEventListener("beforeunload",l),a&&z_()}},[]),y.useEffect(()=>{const a=ol(dn,async o=>{if(o){const l=document.title,c=t.pathname;await AU(o.uid,c,l)}});return()=>a()},[t]);const e=y.useCallback(async(a,o,l)=>{const c=dn.currentUser;return c?await Iy(c.uid,a,o,l):!1},[]),n=y.useCallback(async(a,o,l)=>{const c=dn.currentUser;return c?await SU(c.uid,a,o,l):!1},[]),r=y.useCallback(a=>{const o=dn.currentUser;o&&H_(o.uid,a)},[]),s=y.useCallback(async a=>{const o=dn.currentUser;return o?await B_(o.uid,a):!1},[]);return{trackInteraction:e,trackFeature:n,setUserProperties:r,updateMetrics:s}}const Yg=t=>{try{const e=new Audio(`/sounds/${t}.mp3`);e.volume=.3;const n=e.play();n!==void 0&&n.catch(r=>{console.log("Sound play failed:",r)})}catch(e){console.log("Sound loading failed:",e)}},RU=()=>{["join","match","swipe"].forEach(e=>{try{const n=new Audio(`/sounds/${e}.mp3`);n.preload="auto"}catch(n){console.log("Sound play failed:",n)}})},Gr=Object.create(null);Gr.open="0";Gr.close="1";Gr.ping="2";Gr.pong="3";Gr.message="4";Gr.upgrade="5";Gr.noop="6";const Zd=Object.create(null);Object.keys(Gr).forEach(t=>{Zd[Gr[t]]=t});const Qg={type:"error",data:"parser error"},mT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",pT=typeof ArrayBuffer=="function",gT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ay=({type:t,data:e},n,r)=>mT&&e instanceof Blob?n?r(e):q_(e,r):pT&&(e instanceof ArrayBuffer||gT(e))?n?r(e):q_(new Blob([e]),r):r(Gr[t]+(e||"")),q_=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function W_(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let fp;function OU(t,e){if(mT&&t.data instanceof Blob)return t.data.arrayBuffer().then(W_).then(e);if(pT&&(t.data instanceof ArrayBuffer||gT(t.data)))return e(W_(t.data));Ay(t,!1,n=>{fp||(fp=new TextEncoder),e(fp.encode(n))})}const G_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<G_.length;t++)mc[G_.charCodeAt(t)]=t;const MU=t=>{let e=t.length*.75,n=t.length,r,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),h=new Uint8Array(d);for(r=0;r<n;r+=4)a=mc[t.charCodeAt(r)],o=mc[t.charCodeAt(r+1)],l=mc[t.charCodeAt(r+2)],c=mc[t.charCodeAt(r+3)],h[s++]=a<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|c&63;return d},DU=typeof ArrayBuffer=="function",Py=(t,e)=>{if(typeof t!="string")return{type:"message",data:xT(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:LU(t.substring(1),e)}:Zd[n]?t.length>1?{type:Zd[n],data:t.substring(1)}:{type:Zd[n]}:Qg},LU=(t,e)=>{if(DU){const n=MU(t);return xT(n,e)}else return{base64:!0,data:t}},xT=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},yT="",UU=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((a,o)=>{Ay(a,!1,l=>{r[o]=l,++s===n&&e(r.join(yT))})})},FU=(t,e)=>{const n=t.split(yT),r=[];for(let s=0;s<n.length;s++){const a=Py(n[s],e);if(r.push(a),a.type==="error")break}return r};function VU(){return new TransformStream({transform(t,e){OU(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let mp;function Td(t){return t.reduce((e,n)=>e+n.length,0)}function Sd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function $U(t,e){mp||(mp=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Td(n)<1)break;const c=Sd(n,1);a=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Td(n)<2)break;const c=Sd(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Td(n)<8)break;const c=Sd(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(Qg);break}s=h*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Td(n)<s)break;const c=Sd(n,s);l.enqueue(Py(a?c:mp.decode(c),e)),r=0}if(s===0||s>t){l.enqueue(Qg);break}}}})}const vT=4;function yt(t){if(t)return zU(t)}function zU(t){for(var e in yt.prototype)t[e]=yt.prototype[e];return t}yt.prototype.on=yt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};yt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};yt.prototype.off=yt.prototype.removeListener=yt.prototype.removeAllListeners=yt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};yt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};yt.prototype.emitReserved=yt.prototype.emit;yt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};yt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Jf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),tr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),BU="arraybuffer";function wT(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const HU=tr.setTimeout,qU=tr.clearTimeout;function Zf(t,e){e.useNativeTimers?(t.setTimeoutFn=HU.bind(tr),t.clearTimeoutFn=qU.bind(tr)):(t.setTimeoutFn=tr.setTimeout.bind(tr),t.clearTimeoutFn=tr.clearTimeout.bind(tr))}const WU=1.33;function GU(t){return typeof t=="string"?KU(t):Math.ceil((t.byteLength||t.size)*WU)}function KU(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function bT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function YU(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function QU(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class XU extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Ry extends yt{constructor(e){super(),this.writable=!1,Zf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new XU(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Py(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=YU(e);return n.length?"?"+n:""}}class JU extends Ry{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};FU(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,UU(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=bT()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let _T=!1;try{_T=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ZU=_T;function eF(){}class tF extends JU{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Ho=class eh extends yt{constructor(e,n,r){super(),this.createRequest=e,Zf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=wT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=eh.requestsCount++,eh.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=eF,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete eh.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ho.requestsCount=0;Ho.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",K_);else if(typeof addEventListener=="function"){const t="onpagehide"in tr?"pagehide":"unload";addEventListener(t,K_,!1)}}function K_(){for(let t in Ho.requests)Ho.requests.hasOwnProperty(t)&&Ho.requests[t].abort()}const nF=function(){const t=jT({xdomain:!1});return t&&t.responseType!==null}();class rF extends tF{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=nF&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ho(jT,this.uri(),e)}}function jT(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ZU))return new XMLHttpRequest}catch{}if(!e)try{return new tr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const NT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class sF extends Ry{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=NT?{}:wT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Ay(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&Jf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=bT()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const pp=tr.WebSocket||tr.MozWebSocket;class iF extends sF{createSocket(e,n,r){return NT?new pp(e,n,r):n?new pp(e,n):new pp(e)}doWrite(e,n){this.ws.send(n)}}class aF extends Ry{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=$U(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=VU();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Jf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const oF={websocket:iF,webtransport:aF,polling:rF},lF=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xg(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=lF.exec(t||""),a={},o=14;for(;o--;)a[cF[o]]=s[o]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=uF(a,a.path),a.queryKey=dF(a,a.query),a}function uF(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function dF(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const Jg=typeof addEventListener=="function"&&typeof removeEventListener=="function",th=[];Jg&&addEventListener("offline",()=>{th.forEach(t=>t())},!1);class hi extends yt{constructor(e,n){if(super(),this.binaryType=BU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Xg(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Xg(n.host).host);Zf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=QU(this.opts.query)),Jg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},th.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=vT,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&hi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",hi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=GU(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Jf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(hi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Jg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=th.indexOf(this._offlineEventListener);r!==-1&&th.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}hi.protocol=vT;class hF extends hi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;hi.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;hi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function a(){r||(r=!0,h(),n.close(),n=null)}const o=f=>{const p=new Error("probe error: "+f);p.transport=n.name,a(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function c(){o("socket closed")}function d(f){n&&f.name!==n.name&&a()}const h=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let fF=class extends hF{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>oF[s]).filter(s=>!!s)),super(e,r)}};function mF(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Xg(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const pF=typeof ArrayBuffer=="function",gF=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,kT=Object.prototype.toString,xF=typeof Blob=="function"||typeof Blob<"u"&&kT.call(Blob)==="[object BlobConstructor]",yF=typeof File=="function"||typeof File<"u"&&kT.call(File)==="[object FileConstructor]";function Oy(t){return pF&&(t instanceof ArrayBuffer||gF(t))||xF&&t instanceof Blob||yF&&t instanceof File}function nh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(nh(t[n]))return!0;return!1}if(Oy(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return nh(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&nh(t[n]))return!0;return!1}function vF(t){const e=[],n=t.data,r=t;return r.data=Zg(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Zg(t,e){if(!t)return t;if(Oy(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Zg(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Zg(t[r],e));return n}return t}function wF(t,e){return t.data=e0(t.data,e),delete t.attachments,t}function e0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=e0(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=e0(t[n],e));return t}const bF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_F=5;var _e;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(_e||(_e={}));class jF{constructor(e){this.replacer=e}encode(e){return(e.type===_e.EVENT||e.type===_e.ACK)&&nh(e)?this.encodeAsBinary({type:e.type===_e.EVENT?_e.BINARY_EVENT:_e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===_e.BINARY_EVENT||e.type===_e.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=vF(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Y_(t){return Object.prototype.toString.call(t)==="[object Object]"}class My extends yt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===_e.BINARY_EVENT;r||n.type===_e.BINARY_ACK?(n.type=r?_e.EVENT:_e.ACK,this.reconstructor=new NF(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Oy(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(_e[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===_e.BINARY_EVENT||r.type===_e.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(My.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case _e.CONNECT:return Y_(n);case _e.DISCONNECT:return n===void 0;case _e.CONNECT_ERROR:return typeof n=="string"||Y_(n);case _e.EVENT:case _e.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&bF.indexOf(n[0])===-1);case _e.ACK:case _e.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class NF{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=wF(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const kF=Object.freeze(Object.defineProperty({__proto__:null,Decoder:My,Encoder:jF,get PacketType(){return _e},protocol:_F},Symbol.toStringTag,{value:"Module"}));function xr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const EF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ET extends yt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xr(e,"open",this.onopen.bind(this)),xr(e,"packet",this.onpacket.bind(this)),xr(e,"error",this.onerror.bind(this)),xr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,a;if(EF.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:_e.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,f=n.pop();this._registerAckCallback(h,f),o.id=h}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const a=(o,l)=>o?s(o):r(l);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:_e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case _e.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _e.EVENT:case _e.BINARY_EVENT:this.onevent(e);break;case _e.ACK:case _e.BINARY_ACK:this.onack(e);break;case _e.DISCONNECT:this.ondisconnect();break;case _e.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:_e.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function _l(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_l.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};_l.prototype.reset=function(){this.attempts=0};_l.prototype.setMin=function(t){this.ms=t};_l.prototype.setMax=function(t){this.max=t};_l.prototype.setJitter=function(t){this.jitter=t};class t0 extends yt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||kF;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new fF(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=xr(n,"open",function(){r.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=xr(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xr(e,"ping",this.onping.bind(this)),xr(e,"data",this.ondata.bind(this)),xr(e,"error",this.onerror.bind(this)),xr(e,"close",this.onclose.bind(this)),xr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Jf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ET(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Zl={};function qo(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=mF(t,e.path||"/socket.io"),r=n.source,s=n.id,a=n.path,o=Zl[s]&&a in Zl[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new t0(r,e):(Zl[s]||(Zl[s]=new t0(r,e)),c=Zl[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(qo,{Manager:t0,Socket:ET,io:qo,connect:qo});const ta=class ta{constructor(){se(this,"waitingUsers",new Set);se(this,"callbacks",new Map);se(this,"timeouts",new Map)}static getInstance(){return ta.instance||(ta.instance=new ta),ta.instance}findMatch(e,n){if(console.log("Mock matching: Looking for match for",e),this.callbacks.set(e,n),this.waitingUsers.size>0){const r=Array.from(this.waitingUsers)[0];this.waitingUsers.delete(r);const s=this.timeouts.get(r);s&&(clearTimeout(s),this.timeouts.delete(r));const a=this.callbacks.get(r);console.log("Mock matching: Found match!",e,"<->",r),setTimeout(()=>{n(r),a&&a(e),this.callbacks.delete(e),this.callbacks.delete(r)},1e3+Math.random()*2e3)}else{this.waitingUsers.add(e),console.log("Mock matching: Added to waiting list",e);const r=setTimeout(()=>{this.waitingUsers.delete(e),this.callbacks.delete(e),this.timeouts.delete(e),console.log("Mock matching: Timeout for",e)},3e4);this.timeouts.set(e,r)}}cancelMatch(e){this.waitingUsers.delete(e),this.callbacks.delete(e);const n=this.timeouts.get(e);n&&(clearTimeout(n),this.timeouts.delete(e))}simulateRandomUser(){const e="bot_"+Math.random().toString(36).substr(2,9);setTimeout(()=>{this.findMatch(e,n=>{console.log("Bot matched with:",n)})},Math.random()*1e4+5e3)}startBotSimulation(){setInterval(()=>{Math.random()<.3&&this.simulateRandomUser()},15e3)}};se(ta,"instance");let n0=ta;const TT=y.createContext(null),em=()=>{const t=y.useContext(TT);if(!t)throw new Error("useSocket must be used within a SocketProvider");return t},TF=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!1),a=n0.getInstance();return y.useEffect(()=>{const o=l=>{console.error("Socket Provider Error:",l.error)};return window.addEventListener("error",o),()=>window.removeEventListener("error",o)},[]),y.useEffect(()=>{if(!e){let o;if(window.location.hostname.includes("webcontainer-api.io")){const c="http",d=window.location.hostname.replace("5173","80");o=`${c}://${d}`}else window.location.hostname==="localhost"?o="http://localhost:8000":o=`http://${window.location.hostname}:8000`;console.log("Attempting to connect to:",o);const l=qo(o,{transports:["websocket","polling"],secure:!1,timeout:2e4,forceNew:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,withCredentials:!1});return console.log("Attempting socket connection to:",o),l.on("connect",()=>{console.log("Socket connected:",l.id),s(!1)}),l.on("disconnect",()=>{console.log("Socket disconnected")}),l.on("connect_error",c=>{if(console.log("Socket connection failed, falling back to mock mode"),console.error("Socket connection error:",c),window.location.hostname.includes("webcontainer-api.io")){console.log("Trying alternative WebContainer port 81...");const d="http",h=window.location.hostname.replace("5173","81"),f=`${d}://${h}`,p=qo(f,{transports:["websocket","polling"],secure:!1,timeout:2e4,forceNew:!0,reconnection:!0,reconnectionAttempts:3,reconnectionDelay:1e3,withCredentials:!1});p.on("connect",()=>{console.log("Connected to alternative WebContainer port:",p.id),n(p),s(!1)}),p.on("connect_error",()=>{console.log("Alternative WebContainer port also failed, falling back to mock matching mode"),s(!0),a.startBotSimulation(),p.close()})}else if(window.location.hostname==="localhost"&&o.includes(":8000")){console.log("Trying alternative port 8001...");const d=qo("http://localhost:8001",{transports:["websocket","polling"],secure:!1,timeout:2e4,forceNew:!0,reconnection:!0,reconnectionAttempts:3,reconnectionDelay:1e3});d.on("connect",()=>{console.log("Connected to alternative port:",d.id),n(d),s(!1)}),d.on("connect_error",()=>{console.log("Alternative port also failed, falling back to mock matching mode"),s(!0),a.startBotSimulation(),d.close()})}else console.log("Falling back to mock matching mode"),s(!0),a.startBotSimulation()}),l.on("reconnect",c=>{console.log("Socket reconnected after",c,"attempts")}),l.on("reconnect_error",c=>{console.error("Socket reconnection error:",c)}),n(l),()=>{console.log("Cleaning up socket connection"),l.close()}}},[e]),y.useEffect(()=>()=>{e&&(console.log("Component unmounting, closing socket"),e.close(),n(null))},[e]),i.jsx(TT.Provider,{value:{socket:e,setSocket:n,mockMatching:a,isUsingMockMode:r},children:t})};async function ST(t,e){try{const n=qe(ae,"users",t);if((await Va(n)).exists())await it(n,{lastSeen:Ee(),isOnline:!0,updatedAt:Ee()});else{const s={userId:t,username:(e==null?void 0:e.username)||`User${Math.floor(Math.random()*1e4)}`,bio:(e==null?void 0:e.bio)||"",additionalImages:(e==null?void 0:e.additionalImages)||[],gender:(e==null?void 0:e.gender)||"male",language:(e==null?void 0:e.language)||"en",isPremium:!1,coins:100,totalCoinsEarned:100,totalCoinsSpent:0,friendsCount:0,totalMatches:0,totalChatTime:0,lastSeen:Ee(),isOnline:!0,joinDate:Ee(),onboardingComplete:!1,settings:{notifications:!0,soundEnabled:!0,cameraEnabled:!0,micEnabled:!0,autoMatch:!0,genderFilter:"all"},reportCount:0,isBlocked:!1,createdAt:Ee(),updatedAt:Ee(),...e};await du(n,s),console.log("✅ Comprehensive user document created for:",t)}}catch(n){throw console.error("❌ Error ensuring user document exists:",n),n}}async function SF(t,e){try{const n=qe(ae,"users",t);await ST(t),await it(n,{coins:bs(e),updatedAt:new Date}),console.log(`✅ Added ${e} coins to user ${t}`)}catch(n){throw console.error("❌ Error adding coins:",n),n}}async function CF(t,e){try{const n=qe(ae,"users",t),r=await Va(n);return r.exists()?(r.data().coins||0)<e?{success:!1,message:"Insufficient coins"}:(await it(n,{coins:bs(-e),updatedAt:new Date}),console.log(`✅ Spent ${e} coins for user ${t}`),{success:!0,message:"Coins spent successfully"}):{success:!1,message:"User not found"}}catch(n){return console.error("❌ Error spending coins:",n),{success:!1,message:"Error spending coins"}}}async function IF(t){try{const e=qe(ae,"users",t),n=await Va(e);return n.exists()?n.data():null}catch(e){return console.error("❌ Error getting user profile:",e),null}}async function gp(t,e,n,r){try{const s=qe(ae,"users",t),a={isPremium:e,updatedAt:Ee()};return e&&n?(a.premiumExpiry=De.fromDate(n),a.premiumPlan=r||null):e||(a.premiumExpiry=null,a.premiumPlan=null),await it(s,a),console.log("✅ Premium status updated for:",t),!0}catch(s){return console.error("❌ Error updating premium status:",s),!1}}const CT=y.createContext(null),Nt=()=>{const t=y.useContext(CT);if(!t)throw new Error("usePremium must be used within a PremiumProvider");return t},AF=({children:t})=>{const[e,n]=y.useState(!1),[r,s]=y.useState(null),[a,o]=y.useState(null),[l,c]=y.useState(!0),[d,h]=y.useState(null);y.useEffect(()=>{const T=ol(dn,async b=>{b?(h(b.uid),await f(b.uid)):(h(null),n(!1),s(null),o(null),c(!1))});return()=>T()},[]);const f=async T=>{try{c(!0);const b=T||d;if(!b)return;const v=await IF(b);if(v){const{isPremium:k,premiumExpiry:R,premiumPlan:D}=v,O=new Date,A=R==null?void 0:R.toDate();k&&A&&A>O?(n(!0),s(A),o(D||null),localStorage.setItem("premium_status","true"),localStorage.setItem("premium_expiry",A.toISOString()),localStorage.setItem("ajnabicam_premium_plan",D||"")):k&&(!A||A<=O)?(await gp(b,!1),n(!1),s(null),o(null),localStorage.removeItem("premium_status"),localStorage.removeItem("premium_expiry"),localStorage.removeItem("ajnabicam_premium_plan")):(n(!1),s(null),o(null),localStorage.removeItem("premium_status"),localStorage.removeItem("premium_expiry"),localStorage.removeItem("ajnabicam_premium_plan"))}}catch(b){console.error("Error syncing premium status:",b);const v=localStorage.getItem("premium_status"),k=localStorage.getItem("premium_expiry"),R=localStorage.getItem("ajnabicam_premium_plan");if(v&&k){const D=new Date(k);D>new Date?(n(!0),s(D),o(R||null)):(n(!1),s(null),o(null),localStorage.removeItem("premium_status"),localStorage.removeItem("premium_expiry"),localStorage.removeItem("ajnabicam_premium_plan"))}}finally{c(!1)}},p=async(T,b,v)=>{if(!d)return!1;try{return await gp(d,T,b,v)?(n(T),T&&b?(s(b),o(v||null),localStorage.setItem("premium_status","true"),localStorage.setItem("premium_expiry",b.toISOString()),localStorage.setItem("ajnabicam_premium_plan",v||"")):(s(null),o(null),localStorage.removeItem("premium_status"),localStorage.removeItem("premium_expiry"),localStorage.removeItem("ajnabicam_premium_plan")),!0):!1}catch(k){return console.error("Error updating premium status:",k),!1}},g=()=>r&&new Date>r?(d&&gp(d,!1).then(()=>{f()}),!1):e,w=()=>e&&a==="ultra-quarterly",j=()=>e&&a==="pro-monthly";return i.jsx(CT.Provider,{value:{isPremium:e,premiumExpiry:r,premiumPlan:a,loading:l,setPremium:p,checkPremiumStatus:g,syncPremiumStatus:f,isUltraPremium:w,isProMonthly:j},children:t})},IT=y.createContext(null),Tr=()=>{const t=y.useContext(IT);if(!t)throw new Error("useCoin must be used within a CoinProvider");return t},PF=({children:t})=>{const[e,n]=y.useState(0),[r,s]=y.useState(0),[a,o]=y.useState(!0),[l,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(!0),[g,w]=y.useState(null),[j,T]=y.useState(0),b=3,v=Xf(Ns);y.useEffect(()=>{const S=ol(v,C=>{C?w(C.uid):(w(null),n(0),p(!1))});return()=>S()},[v]),y.useEffect(()=>{if(!g)return;const S=qe(ae,"users",g),C=Hf(S,G=>{if(G.exists()){const de=G.data();n(de.coins||0),h(de.onboardingComplete||!1)}p(!1)},G=>{console.error("Error listening to user document:",G),p(!1)});return()=>C()},[g]),y.useEffect(()=>{const S=localStorage.getItem("ajnabicam_last_daily_bonus"),C=localStorage.getItem("ajnabicam_ads_today"),G=localStorage.getItem("ajnabicam_ads_date"),de=localStorage.getItem("ajnabicam_streak_data"),je=localStorage.getItem("ajnabicam_pending_ads"),le=new Date().toDateString();if(je&&T(parseInt(je)),o(S!==le),G!==le?(s(0),localStorage.setItem("ajnabicam_ads_today","0"),localStorage.setItem("ajnabicam_ads_date",le)):C&&s(parseInt(C)),de)try{const{streak:B,lastDate:Q}=JSON.parse(de),ne=new Date;ne.setDate(ne.getDate()-1),Q===le||Q===ne.toDateString()?c(B):(c(0),localStorage.setItem("ajnabicam_streak_data",JSON.stringify({streak:0,lastDate:""})))}catch(B){console.error("Error parsing streak data:",B),c(0)}},[]);const k=async S=>{if(!g)return console.error("No authenticated user"),!1;try{return await SF(g,S),!0}catch(C){return console.error("Error adding coins:",C),!1}},R=async S=>{if(!g)return console.error("No authenticated user"),!1;try{const C=await CF(g,S);return C.success||console.warn("Failed to deduct coins:",C.message),C.success}catch(C){return console.error("Error deducting coins:",C),!1}},D=async()=>{if(r>=b){alert("❌ You've reached the daily limit of 3 ads. Come back tomorrow!");return}const S=r+1;if(s(S),localStorage.setItem("ajnabicam_ads_today",S.toString()),await k(10)){const G=b-S;G>0?alert(`🎉 You earned 10 coins! ${G} ads remaining today.`):alert("🎉 You earned 10 coins! That's all ads for today. Come back tomorrow for more!")}else alert("❌ Failed to add coins. Please try again.")},O=async()=>{if(!a||!g)return g||alert("❌ Please sign in to claim daily bonus."),!1;const S=new Date().toDateString(),C=await k(5);if(C){o(!1),localStorage.setItem("ajnabicam_last_daily_bonus",S);const G=localStorage.getItem("ajnabicam_streak_data");let de=1;if(G)try{const{streak:je,lastDate:le}=JSON.parse(G),B=new Date;B.setDate(B.getDate()-1),le===B.toDateString()&&(de=je+1)}catch(je){console.error("Error parsing streak data:",je)}if(c(de),localStorage.setItem("ajnabicam_streak_data",JSON.stringify({streak:de,lastDate:S})),de===3){const je=await k(20);alert(je?`🎉 Daily bonus claimed! +5 coins
🔥 3-day streak bonus! +20 coins
Total: +25 coins!`:`🎉 Daily bonus claimed! +5 coins
🔥 Current streak: ${de} days`)}else alert(`🎉 Daily bonus claimed! +5 coins
🔥 Current streak: ${de} days`)}else alert("❌ Failed to claim daily bonus. Please try again.");return C},A=async()=>{await k(3)&&console.log("🎉 Chat completed! You earned 3 coins!")},N=async()=>{l>=3&&l%3===0&&await k(20)&&alert(`🔥 ${l}-day streak bonus! You earned 20 coins!`)},I=async()=>{await k(25)&&alert("🎉 You earned 25 coins for referring a friend!")},_=async S=>{if(e>=20)return{success:await R(20)};{const G=j+2;return T(G),localStorage.setItem("ajnabicam_pending_ads",G.toString()),{success:!0,needsAds:!0}}},P=S=>{T(S),localStorage.setItem("ajnabicam_pending_ads",S.toString())};return i.jsx(IT.Provider,{value:{coins:e,addCoins:k,deductCoins:R,watchAd:D,referFriend:I,claimDailyBonus:O,completeChat:A,checkStreakBonus:N,requestFriendship:_,adsWatchedToday:r,maxAdsPerDay:b,canClaimDailyBonus:a,currentStreak:l,hasCompletedOnboarding:d,isLoading:f,currentUser:g,pendingAds:j,setPendingAds:P},children:t})},RF="modulepreload",OF=function(t){return"/"+t},Q_={},cn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=OF(c),c in Q_)return;Q_[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":RF,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};async function AT(t,e,n,r,s){try{const a=sn(Ye(ae,"friendRequests"),Le("fromUserId","==",t),Le("toUserId","==",n),Le("status","==","pending"));if(!(await Tn(a)).empty)return console.log("Friend request already exists"),!1;const l=sn(Ye(ae,"friendRequests"),Le("fromUserId","==",n),Le("toUserId","==",t),Le("status","==","pending"));if(!(await Tn(l)).empty)return console.log("Reverse friend request already exists"),!1;const d={fromUserId:t,fromUserName:e,toUserId:n,toUserName:r,status:"pending",message:s,createdAt:Ee(),updatedAt:Ee()};return await Ni(Ye(ae,"friendRequests"),d),console.log("✅ Friend request sent"),!0}catch(a){return console.error("❌ Error sending friend request:",a),!1}}async function PT(t){try{const e=qe(ae,"friendRequests",t),n=await Va(e);if(!n.exists())return!1;const r=n.data();await it(e,{status:"accepted",updatedAt:Ee()});const s={userId:r.fromUserId,friendId:r.toUserId,friendName:r.toUserName,friendAvatar:r.toUserAvatar,addedAt:Ee(),isOnline:!1,isFavorite:!1,mutualFriends:0},a={userId:r.toUserId,friendId:r.fromUserId,friendName:r.fromUserName,friendAvatar:r.fromUserAvatar,addedAt:Ee(),isOnline:!1,isFavorite:!1,mutualFriends:0};await Ni(Ye(ae,"friends"),s),await Ni(Ye(ae,"friends"),a);const o=qe(ae,"users",r.fromUserId),l=qe(ae,"users",r.toUserId);return await it(o,{friendsCount:bs(1),updatedAt:Ee()}),await it(l,{friendsCount:bs(1),updatedAt:Ee()}),console.log("✅ Friend request accepted"),!0}catch(e){return console.error("❌ Error accepting friend request:",e),!1}}async function RT(t){try{const e=qe(ae,"friendRequests",t);return await it(e,{status:"rejected",updatedAt:Ee()}),console.log("✅ Friend request rejected"),!0}catch(e){return console.error("❌ Error rejecting friend request:",e),!1}}async function OT(t,e){try{const n=sn(Ye(ae,"friends"),Le("userId","==",t),Le("friendId","==",e)),r=sn(Ye(ae,"friends"),Le("userId","==",e),Le("friendId","==",t)),[s,a]=await Promise.all([Tn(n),Tn(r)]),o=[];s.forEach(d=>{o.push(y_(d.ref))}),a.forEach(d=>{o.push(y_(d.ref))}),await Promise.all(o);const l=qe(ae,"users",t),c=qe(ae,"users",e);return await it(l,{friendsCount:bs(-1),updatedAt:Ee()}),await it(c,{friendsCount:bs(-1),updatedAt:Ee()}),console.log("✅ Friend removed"),!0}catch(n){return console.error("❌ Error removing friend:",n),!1}}async function MT(t){try{const e=sn(Ye(ae,"friends"),Le("userId","==",t),Sa("addedAt","desc")),n=await Tn(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){return console.error("❌ Error getting user friends:",e),[]}}async function DT(t){try{const e=sn(Ye(ae,"friendRequests"),Le("toUserId","==",t),Le("status","==","pending"),Sa("createdAt","desc")),n=await Tn(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){return console.error("❌ Error getting pending friend requests:",e),[]}}async function LT(t){try{const e=sn(Ye(ae,"friendRequests"),Le("fromUserId","==",t),Le("status","==","pending"),Sa("createdAt","desc")),n=await Tn(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){return console.error("❌ Error getting sent friend requests:",e),[]}}function UT(t,e){try{const n=sn(Ye(ae,"friendRequests"),Le("toUserId","==",t),Le("status","==","pending"),Sa("createdAt","desc"));return Hf(n,s=>{const a=[];s.forEach(o=>{a.push({id:o.id,...o.data()})}),e(a)},s=>{console.error("❌ Error listening to friend requests:",s)})}catch(n){return console.error("❌ Error setting up friend requests listener:",n),()=>{}}}function FT(t,e){try{const n=sn(Ye(ae,"friends"),Le("userId","==",t),Sa("addedAt","desc"));return Hf(n,s=>{const a=[];s.forEach(o=>{a.push({id:o.id,...o.data()})}),e(a)},s=>{console.error("❌ Error listening to friends:",s)})}catch(n){return console.error("❌ Error setting up friends listener:",n),()=>{}}}async function VT(t,e,n){try{const r=sn(Ye(ae,"friends"),Le("userId","==",t),Le("friendId","==",e)),s=await Tn(r);if(!s.empty){const a=s.docs[0];return await it(a.ref,{isOnline:n,lastInteraction:Ee()}),!0}return!1}catch(r){return console.error("❌ Error updating friend online status:",r),!1}}async function MF(t,e){try{const n=sn(Ye(ae,"friends"),Le("userId","==",t),Le("friendId","==",e)),r=await Tn(n);if(!r.empty){const s=r.docs[0],a=s.data();return await it(s.ref,{isFavorite:!a.isFavorite}),!0}return!1}catch(n){return console.error("❌ Error toggling friend favorite:",n),!1}}async function $T(t){try{const[e,n,r]=await Promise.all([MT(t),DT(t),LT(t)]),s=e.filter(a=>a.isOnline).length;return{totalFriends:e.length,onlineFriends:s,pendingRequests:n.length,sentRequests:r.length,mutualConnections:0}}catch(e){return console.error("❌ Error getting friends stats:",e),{totalFriends:0,onlineFriends:0,pendingRequests:0,sentRequests:0,mutualConnections:0}}}const DF=Object.freeze(Object.defineProperty({__proto__:null,acceptFriendRequest:PT,getFriendsStats:$T,getPendingFriendRequests:DT,getSentFriendRequests:LT,getUserFriends:MT,listenToFriendRequests:UT,listenToFriends:FT,rejectFriendRequest:RT,removeFriend:OT,sendFriendRequest:AT,toggleFriendFavorite:MF,updateFriendOnlineStatus:VT},Symbol.toStringTag,{value:"Module"})),zT=y.createContext(null),BT=()=>{const t=y.useContext(zT);if(!t)throw new Error("useFriends must be used within a FriendsProvider");return t},LF=({children:t})=>{const[e,n]=y.useState([]),[r,s]=y.useState([]),[a,o]=y.useState({totalFriends:0,onlineFriends:0,pendingRequests:0,sentRequests:0,mutualConnections:0}),[l,c]=y.useState(!0),[d,h]=y.useState(null),[f,p]=y.useState("User"),{isPremium:g}=Nt(),w=3;y.useEffect(()=>{const I=ol(dn,_=>{_?(h(_.uid),p(_.displayName||`User${Math.floor(Math.random()*1e3)}`)):(h(null),p("User"),n([]),s([]),c(!1))});return()=>I()},[]),y.useEffect(()=>{if(!d)return;c(!0);const I=FT(d,P=>{const S=P.map(C=>{var G;return{id:C.friendId,name:C.friendName,avatar:C.friendAvatar||"",isOnline:C.isOnline,lastSeen:(G=C.lastInteraction)==null?void 0:G.toDate(),addedAt:C.addedAt.toDate(),isFavorite:C.isFavorite,nickname:C.nickname}});n(S),c(!1)}),_=UT(d,P=>{s(P)});return j(),()=>{I(),_()}},[d]);const j=async()=>{if(d)try{const I=await $T(d);o(I)}catch(I){console.error("Error refreshing friends data:",I)}},T=async(I,_,P)=>!d||!g&&e.length>=w?!1:e.some(S=>S.id===I)?!0:await b(I,_),b=async(I,_,P)=>d?await AT(d,f,I,_,P):!1,v=async I=>{const _=await PT(I);return _&&await j(),_},k=async I=>await RT(I),R=async I=>{if(!d)return!1;const _=await OT(d,I);return _&&await j(),_},D=(I,_)=>{d&&(n(P=>P.map(S=>S.id===I?{...S,isOnline:_,lastSeen:_?void 0:new Date}:S)),VT(d,I,_))},O=async I=>{if(!d)return!1;const{toggleFriendFavorite:_}=await cn(async()=>{const{toggleFriendFavorite:P}=await Promise.resolve().then(()=>DF);return{toggleFriendFavorite:P}},void 0);return await _(d,I)},A=I=>e.find(_=>_.id===I),N=g||e.length<w;return i.jsx(zT.Provider,{value:{friends:e,friendRequests:r,friendsStats:a,loading:l,addFriend:T,removeFriend:R,updateFriendStatus:D,sendFriendRequestToUser:b,acceptRequest:v,rejectRequest:k,toggleFriendFavorite:O,canAddMoreFriends:N,maxFreeLimit:w,getFriendById:A,refreshFriendsData:j},children:t})};class UF{constructor(){se(this,"peer");this.initPeer()}initPeer(){try{this.peer&&this.peer.signalingState!=="closed"&&(this.peer.getTransceivers().forEach(e=>{e&&e.stop&&e.stop()}),this.peer.close())}catch(e){console.warn("Error closing existing peer connection:",e)}this.peer=new RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302","stun:global.stun.twilio.com:3478","stun:stun.stunprotocol.org:3478","stun:stun.voipstunt.com","stun:stun.services.mozilla.com"]}]}),this.peer.oniceconnectionstatechange=()=>{console.log("ICE connection state:",this.peer.iceConnectionState),this.peer.iceConnectionState==="failed"&&(console.warn("ICE connection failed, attempting restart"),this.peer.restartIce())},this.peer.onconnectionstatechange=()=>{console.log("Connection state:",this.peer.connectionState)}}async getOffer(){var e;try{if(this.peer&&this.peer.signalingState==="stable"){const n=await this.peer.createOffer();return await this.peer.setLocalDescription(new RTCSessionDescription(n)),this.peer.localDescription}return console.warn("Peer not in stable state for creating offer:",(e=this.peer)==null?void 0:e.signalingState),null}catch(n){return console.error("Error creating offer:",n),null}}async getAnswer(e){var n;try{if(this.peer&&(this.peer.signalingState==="stable"||this.peer.signalingState==="have-remote-offer")){await this.peer.setRemoteDescription(e);const r=await this.peer.createAnswer();return await this.peer.setLocalDescription(new RTCSessionDescription(r)),this.peer.localDescription}return console.warn("Peer not in correct state for creating answer:",(n=this.peer)==null?void 0:n.signalingState),null}catch(r){return console.error("Error creating answer:",r),null}}async setRemoteDescription(e){var n;try{this.peer&&this.peer.signalingState==="have-local-offer"?await this.peer.setRemoteDescription(new RTCSessionDescription(e)):console.warn("Peer not in correct state for setting remote description:",(n=this.peer)==null?void 0:n.signalingState)}catch(r){console.error("Error setting remote description:",r)}}}const te=new UF;var FF=function(e,n,r){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=e,n.attrs&&VF(a,n.attrs),n.text&&(a.text=""+n.text);var o="onload"in a?X_:$F;o(a,r),a.onload||X_(a,r),s.appendChild(a)};function VF(t,e){for(var n in e)t.setAttribute(n,e[n])}function X_(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function $F(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var zF=function(e){return BF(e)&&!HF(e)};function BF(t){return!!t&&typeof t=="object"}function HF(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||GF(t)}var qF=typeof Symbol=="function"&&Symbol.for,WF=qF?Symbol.for("react.element"):60103;function GF(t){return t.$$typeof===WF}function KF(t){return Array.isArray(t)?[]:{}}function fu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ll(KF(t),t,e):t}function YF(t,e,n){return t.concat(e).map(function(r){return fu(r,n)})}function QF(t,e){if(!e.customMerge)return ll;var n=e.customMerge(t);return typeof n=="function"?n:ll}function XF(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function J_(t){return Object.keys(t).concat(XF(t))}function HT(t,e){try{return e in t}catch{return!1}}function JF(t,e){return HT(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function ZF(t,e,n){var r={};return n.isMergeableObject(t)&&J_(t).forEach(function(s){r[s]=fu(t[s],n)}),J_(e).forEach(function(s){JF(t,s)||(HT(t,s)&&n.isMergeableObject(e[s])?r[s]=QF(s,n)(t[s],e[s],n):r[s]=fu(e[s],n))}),r}function ll(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||YF,n.isMergeableObject=n.isMergeableObject||zF,n.cloneUnlessOtherwiseSpecified=fu;var r=Array.isArray(e),s=Array.isArray(t),a=r===s;return a?r?n.arrayMerge(t,e,n):ZF(t,e,n):fu(e,n)}ll.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return ll(r,s,n)},{})};var eV=ll,qT=eV,tV=Object.create,tm=Object.defineProperty,nV=Object.getOwnPropertyDescriptor,rV=Object.getOwnPropertyNames,sV=Object.getPrototypeOf,iV=Object.prototype.hasOwnProperty,aV=(t,e)=>{for(var n in e)tm(t,n,{get:e[n],enumerable:!0})},WT=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of rV(e))!iV.call(t,s)&&s!==n&&tm(t,s,{get:()=>e[s],enumerable:!(r=nV(e,s))||r.enumerable});return t},Dy=(t,e,n)=>(n=t!=null?tV(sV(t)):{},WT(!t||!t.__esModule?tm(n,"default",{value:t,enumerable:!0}):n,t)),oV=t=>WT(tm({},"__esModule",{value:!0}),t),GT={};aV(GT,{callPlayer:()=>jV,getConfig:()=>bV,getSDK:()=>wV,isBlobUrl:()=>kV,isMediaStream:()=>NV,lazy:()=>dV,omit:()=>_V,parseEndTime:()=>xV,parseStartTime:()=>gV,queryString:()=>vV,randomString:()=>yV,supportsWebKitPresentationMode:()=>EV});var nm=oV(GT),lV=Dy(y),cV=Dy(FF),uV=Dy(qT);const dV=t=>lV.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),hV=/[?&#](?:start|t)=([0-9hms]+)/,fV=/[?&#]end=([0-9hms]+)/,r0=/(\d+)(h|m|s)/g,mV=/^\d+$/;function KT(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(r0))return pV(r);if(mV.test(r))return parseInt(r)}}function pV(t){let e=0,n=r0.exec(t);for(;n!==null;){const[,r,s]=n;s==="h"&&(e+=parseInt(r,10)*60*60),s==="m"&&(e+=parseInt(r,10)*60),s==="s"&&(e+=parseInt(r,10)),n=r0.exec(t)}return e}function gV(t){return KT(t,hV)}function xV(t){return KT(t,fV)}function yV(){return Math.random().toString(36).substr(2,5)}function vV(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function xp(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const fo={},wV=function(e,n,r=null,s=()=>!0,a=cV.default){const o=xp(n);return o&&s(o)?Promise.resolve(o):new Promise((l,c)=>{if(fo[e]){fo[e].push({resolve:l,reject:c});return}fo[e]=[{resolve:l,reject:c}];const d=h=>{fo[e].forEach(f=>f.resolve(h))};if(r){const h=window[r];window[r]=function(){h&&h(),d(xp(n))}}a(e,h=>{h?(fo[e].forEach(f=>f.reject(h)),fo[e]=null):r||d(xp(n))})})};function bV(t,e){return(0,uV.default)(e.config,t.config)}function _V(t,...e){const n=[].concat(...e),r={},s=Object.keys(t);for(const a of s)n.indexOf(a)===-1&&(r[a]=t[a]);return r}function jV(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function NV(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function kV(t){return/^blob:/.test(t)}function EV(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var Ly=Object.defineProperty,TV=Object.getOwnPropertyDescriptor,SV=Object.getOwnPropertyNames,CV=Object.prototype.hasOwnProperty,IV=(t,e)=>{for(var n in e)Ly(t,n,{get:e[n],enumerable:!0})},AV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of SV(e))!CV.call(t,s)&&s!==n&&Ly(t,s,{get:()=>e[s],enumerable:!(r=TV(e,s))||r.enumerable});return t},PV=t=>AV(Ly({},"__esModule",{value:!0}),t),YT={};IV(YT,{AUDIO_EXTENSIONS:()=>Uy,DASH_EXTENSIONS:()=>cS,FLV_EXTENSIONS:()=>uS,HLS_EXTENSIONS:()=>Vy,MATCH_URL_DAILYMOTION:()=>iS,MATCH_URL_FACEBOOK:()=>ZT,MATCH_URL_FACEBOOK_WATCH:()=>eS,MATCH_URL_KALTURA:()=>lS,MATCH_URL_MIXCLOUD:()=>aS,MATCH_URL_MUX:()=>JT,MATCH_URL_SOUNDCLOUD:()=>QT,MATCH_URL_STREAMABLE:()=>tS,MATCH_URL_TWITCH_CHANNEL:()=>sS,MATCH_URL_TWITCH_VIDEO:()=>rS,MATCH_URL_VIDYARD:()=>oS,MATCH_URL_VIMEO:()=>XT,MATCH_URL_WISTIA:()=>nS,MATCH_URL_YOUTUBE:()=>s0,VIDEO_EXTENSIONS:()=>Fy,canPlay:()=>OV});var RV=PV(YT),Z_=nm;const s0=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,QT=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,XT=/vimeo\.com\/(?!progressive_redirect).+/,JT=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,ZT=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,eS=/^https?:\/\/fb\.watch\/.+$/,tS=/streamable\.com\/([a-z0-9]+)$/,nS=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,rS=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,sS=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,iS=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,aS=/mixcloud\.com\/([^/]+\/[^/]+)/,oS=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,lS=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,Uy=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Fy=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Vy=/\.(m3u8)($|\?)/i,cS=/\.(mpd)($|\?)/i,uS=/\.(flv)($|\?)/i,i0=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&i0(e)||i0(e.src))return!0;return!1}return(0,Z_.isMediaStream)(t)||(0,Z_.isBlobUrl)(t)?!0:Uy.test(t)||Fy.test(t)||Vy.test(t)||cS.test(t)||uS.test(t)},OV={youtube:t=>t instanceof Array?t.every(e=>s0.test(e)):s0.test(t),soundcloud:t=>QT.test(t)&&!Uy.test(t),vimeo:t=>XT.test(t)&&!Fy.test(t)&&!Vy.test(t),mux:t=>JT.test(t),facebook:t=>ZT.test(t)||eS.test(t),streamable:t=>tS.test(t),wistia:t=>nS.test(t),twitch:t=>rS.test(t)||sS.test(t),dailymotion:t=>iS.test(t),mixcloud:t=>aS.test(t),vidyard:t=>oS.test(t),kaltura:t=>lS.test(t),file:i0};var $y=Object.defineProperty,MV=Object.getOwnPropertyDescriptor,DV=Object.getOwnPropertyNames,LV=Object.prototype.hasOwnProperty,UV=(t,e)=>{for(var n in e)$y(t,n,{get:e[n],enumerable:!0})},FV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of DV(e))!LV.call(t,s)&&s!==n&&$y(t,s,{get:()=>e[s],enumerable:!(r=MV(e,s))||r.enumerable});return t},VV=t=>FV($y({},"__esModule",{value:!0}),t),dS={};UV(dS,{default:()=>zV});var $V=VV(dS),pn=nm,on=RV,zV=[{key:"youtube",name:"YouTube",canPlay:on.canPlay.youtube,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./YouTube-DAyLFsz_.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:on.canPlay.soundcloud,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./SoundCloud-BMbPpPTR.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:on.canPlay.vimeo,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Vimeo-CjOeYgq3.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:on.canPlay.mux,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Mux-BbcYKC6a.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:on.canPlay.facebook,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Facebook-B8OKf0xK.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:on.canPlay.streamable,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Streamable-DaAQYBMh.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:on.canPlay.wistia,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Wistia-CKgcc_Yq.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:on.canPlay.twitch,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Twitch-CFdBK-3N.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:on.canPlay.dailymotion,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./DailyMotion-ZBHdkh4c.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:on.canPlay.mixcloud,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Mixcloud-DD_Oz2UG.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:on.canPlay.vidyard,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Vidyard-DHwygvQX.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:on.canPlay.kaltura,lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./Kaltura-Bg1S6-uv.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:on.canPlay.file,canEnablePIP:t=>on.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,pn.supportsWebKitPresentationMode)())&&!on.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,pn.lazy)(()=>cn(()=>import("./FilePlayer-Dd34Vogc.js").then(t=>t.F),[]))}],e1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function BV(t,e){return!!(t===e||e1(t)&&e1(e))}function HV(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!BV(t[n],e[n]))return!1;return!0}function qV(t,e){e===void 0&&(e=HV);var n,r=[],s,a=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&n===this&&e(l,r)||(s=t.apply(this,l),a=!0,n=this,r=l),s}return o}const WV=Object.freeze(Object.defineProperty({__proto__:null,default:qV},Symbol.toStringTag,{value:"Module"})),GV=jC(WV);var KV=typeof Element<"u",YV=typeof Map=="function",QV=typeof Set=="function",XV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function rh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!rh(t[r],e[r]))return!1;return!0}var a;if(YV&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!rh(r.value[1],e.get(r.value[0])))return!1;return!0}if(QV&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(XV&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(KV&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!rh(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var zy=function(e,n){try{return rh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const JV=gu(zy);var hS={exports:{}},ZV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e9=ZV,t9=e9;function fS(){}function mS(){}mS.resetWarningCache=fS;var n9=function(){function t(r,s,a,o,l,c){if(c!==t9){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mS,resetWarningCache:fS};return n.PropTypes=n,n};hS.exports=n9();var r9=hS.exports,s9=Object.create,rm=Object.defineProperty,i9=Object.getOwnPropertyDescriptor,a9=Object.getOwnPropertyNames,o9=Object.getPrototypeOf,l9=Object.prototype.hasOwnProperty,c9=(t,e)=>{for(var n in e)rm(t,n,{get:e[n],enumerable:!0})},pS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of a9(e))!l9.call(t,s)&&s!==n&&rm(t,s,{get:()=>e[s],enumerable:!(r=i9(e,s))||r.enumerable});return t},u9=(t,e,n)=>(n=t!=null?s9(o9(t)):{},pS(!t||!t.__esModule?rm(n,"default",{value:t,enumerable:!0}):n,t)),d9=t=>pS(rm({},"__esModule",{value:!0}),t),gS={};c9(gS,{defaultProps:()=>m9,propTypes:()=>f9});var xS=d9(gS),h9=u9(r9);const{string:Ot,bool:ln,number:mo,array:yp,oneOfType:ec,shape:Dn,object:Xt,func:wt,node:t1}=h9.default,f9={url:ec([Ot,yp,Xt]),playing:ln,loop:ln,controls:ln,volume:mo,muted:ln,playbackRate:mo,width:ec([Ot,mo]),height:ec([Ot,mo]),style:Xt,progressInterval:mo,playsinline:ln,pip:ln,stopOnUnmount:ln,light:ec([ln,Ot,Xt]),playIcon:t1,previewTabIndex:mo,previewAriaLabel:Ot,fallback:t1,oEmbedUrl:Ot,wrapper:ec([Ot,wt,Dn({render:wt.isRequired})]),config:Dn({soundcloud:Dn({options:Xt}),youtube:Dn({playerVars:Xt,embedOptions:Xt,onUnstarted:wt}),facebook:Dn({appId:Ot,version:Ot,playerId:Ot,attributes:Xt}),dailymotion:Dn({params:Xt}),vimeo:Dn({playerOptions:Xt,title:Ot}),mux:Dn({attributes:Xt,version:Ot}),file:Dn({attributes:Xt,tracks:yp,forceVideo:ln,forceAudio:ln,forceHLS:ln,forceSafariHLS:ln,forceDisableHls:ln,forceDASH:ln,forceFLV:ln,hlsOptions:Xt,hlsVersion:Ot,dashVersion:Ot,flvVersion:Ot}),wistia:Dn({options:Xt,playerId:Ot,customControls:yp}),mixcloud:Dn({options:Xt}),twitch:Dn({options:Xt,playerId:Ot}),vidyard:Dn({options:Xt})}),onReady:wt,onStart:wt,onPlay:wt,onPause:wt,onBuffer:wt,onBufferEnd:wt,onEnded:wt,onError:wt,onDuration:wt,onSeek:wt,onPlaybackRateChange:wt,onPlaybackQualityChange:wt,onProgress:wt,onClickPreview:wt,onEnablePIP:wt,onDisablePIP:wt},Mt=()=>{},m9={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Mt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Mt,onStart:Mt,onPlay:Mt,onPause:Mt,onBuffer:Mt,onBufferEnd:Mt,onEnded:Mt,onError:Mt,onDuration:Mt,onSeek:Mt,onPlaybackRateChange:Mt,onPlaybackQualityChange:Mt,onProgress:Mt,onClickPreview:Mt,onEnablePIP:Mt,onDisablePIP:Mt};var p9=Object.create,Du=Object.defineProperty,g9=Object.getOwnPropertyDescriptor,x9=Object.getOwnPropertyNames,y9=Object.getPrototypeOf,v9=Object.prototype.hasOwnProperty,w9=(t,e,n)=>e in t?Du(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b9=(t,e)=>{for(var n in e)Du(t,n,{get:e[n],enumerable:!0})},yS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of x9(e))!v9.call(t,s)&&s!==n&&Du(t,s,{get:()=>e[s],enumerable:!(r=g9(e,s))||r.enumerable});return t},vS=(t,e,n)=>(n=t!=null?p9(y9(t)):{},yS(!t||!t.__esModule?Du(n,"default",{value:t,enumerable:!0}):n,t)),_9=t=>yS(Du({},"__esModule",{value:!0}),t),lt=(t,e,n)=>(w9(t,typeof e!="symbol"?e+"":e,n),n),wS={};b9(wS,{default:()=>sm});var j9=_9(wS),n1=vS(y),N9=vS(zy),bS=xS,k9=nm;const E9=5e3;class sm extends n1.Component{constructor(){super(...arguments),lt(this,"mounted",!1),lt(this,"isReady",!1),lt(this,"isPlaying",!1),lt(this,"isLoading",!0),lt(this,"loadOnReady",null),lt(this,"startOnPlay",!0),lt(this,"seekOnPlay",null),lt(this,"onDurationCalled",!1),lt(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),lt(this,"getInternalPlayer",e=>this.player?this.player[e]:null),lt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const s={playedSeconds:e,played:e/r};n!==null&&(s.loadedSeconds=n,s.loaded=n/r),(s.playedSeconds!==this.prevPlayed||s.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(s),this.prevPlayed=s.playedSeconds,this.prevLoaded=s.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),lt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:s}=this.props;e(),!s&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),lt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),lt(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),lt(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),lt(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),lt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),lt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:s,muted:a,playbackRate:o,pip:l,loop:c,activePlayer:d,disableDeferredLoading:h}=this.props;if(!(0,N9.default)(e.url,n)){if(this.isLoading&&!d.forceLoad&&!h&&!(0,k9.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==s&&s!==null&&this.player.setVolume(s),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),s!==null&&setTimeout(()=>this.player.setVolume(s)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},E9));return}if(n?n==="fraction":e>0&&e<1){const a=this.player.getDuration();if(!a){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(a*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?n1.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}lt(sm,"displayName","Player");lt(sm,"propTypes",bS.propTypes);lt(sm,"defaultProps",bS.defaultProps);var T9=Object.create,Lu=Object.defineProperty,S9=Object.getOwnPropertyDescriptor,C9=Object.getOwnPropertyNames,I9=Object.getPrototypeOf,A9=Object.prototype.hasOwnProperty,P9=(t,e,n)=>e in t?Lu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R9=(t,e)=>{for(var n in e)Lu(t,n,{get:e[n],enumerable:!0})},_S=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of C9(e))!A9.call(t,s)&&s!==n&&Lu(t,s,{get:()=>e[s],enumerable:!(r=S9(e,s))||r.enumerable});return t},Uu=(t,e,n)=>(n=t!=null?T9(I9(t)):{},_S(!t||!t.__esModule?Lu(n,"default",{value:t,enumerable:!0}):n,t)),O9=t=>_S(Lu({},"__esModule",{value:!0}),t),ot=(t,e,n)=>(P9(t,typeof e!="symbol"?e+"":e,n),n),jS={};R9(jS,{createReactPlayer:()=>B9});var M9=O9(jS),wo=Uu(y),D9=Uu(qT),vp=Uu(GV),r1=Uu(zy),pc=xS,NS=nm,L9=Uu(j9);const U9=(0,NS.lazy)(()=>cn(()=>import("./Preview-BGKPfyfb.js").then(t=>t.P),[])),F9=typeof window<"u"&&window.document&&typeof document<"u",V9=typeof bm<"u"&&bm.window&&bm.window.document,$9=Object.keys(pc.propTypes),z9=F9||V9?wo.Suspense:()=>null,tc=[],B9=(t,e)=>{var n;return n=class extends wo.Component{constructor(){super(...arguments),ot(this,"state",{showPreview:!!this.props.light}),ot(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),ot(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),ot(this,"showPreview",()=>{this.setState({showPreview:!0})}),ot(this,"getDuration",()=>this.player?this.player.getDuration():null),ot(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),ot(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),ot(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),ot(this,"seekTo",(r,s,a)=>{if(!this.player)return null;this.player.seekTo(r,s,a)}),ot(this,"handleReady",()=>{this.props.onReady(this)}),ot(this,"getActivePlayer",(0,vp.default)(r=>{for(const s of[...tc,...t])if(s.canPlay(r))return s;return e||null})),ot(this,"getConfig",(0,vp.default)((r,s)=>{const{config:a}=this.props;return D9.default.all([pc.defaultProps.config,pc.defaultProps.config[s]||{},a,a[s]||{}])})),ot(this,"getAttributes",(0,vp.default)(r=>(0,NS.omit)(this.props,$9))),ot(this,"renderActivePlayer",r=>{if(!r)return null;const s=this.getActivePlayer(r);if(!s)return null;const a=this.getConfig(r,s.key);return wo.default.createElement(L9.default,{...this.props,key:s.key,ref:this.references.player,config:a,activePlayer:s.lazyPlayer||s,onReady:this.handleReady})})}shouldComponentUpdate(r,s){return!(0,r1.default)(this.props,r)||!(0,r1.default)(this.state,s)}componentDidUpdate(r){const{light:s}=this.props;!r.light&&s&&this.setState({showPreview:!0}),r.light&&!s&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:s,playIcon:a,previewTabIndex:o,oEmbedUrl:l,previewAriaLabel:c}=this.props;return wo.default.createElement(U9,{url:r,light:s,playIcon:a,previewTabIndex:o,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:r,style:s,width:a,height:o,fallback:l,wrapper:c}=this.props,{showPreview:d}=this.state,h=this.getAttributes(r),f=typeof c=="string"?this.references.wrapper:void 0;return wo.default.createElement(c,{ref:f,style:{...s,width:a,height:o},...h},wo.default.createElement(z9,{fallback:l},d?this.renderPreview(r):this.renderActivePlayer(r)))}},ot(n,"displayName","ReactPlayer"),ot(n,"propTypes",pc.propTypes),ot(n,"defaultProps",pc.defaultProps),ot(n,"addCustomPlayer",r=>{tc.push(r)}),ot(n,"removeCustomPlayers",()=>{tc.length=0}),ot(n,"canPlay",r=>{for(const s of[...tc,...t])if(s.canPlay(r))return!0;return!1}),ot(n,"canEnablePIP",r=>{for(const s of[...tc,...t])if(s.canEnablePIP&&s.canEnablePIP(r))return!0;return!1}),n};var H9=Object.create,im=Object.defineProperty,q9=Object.getOwnPropertyDescriptor,W9=Object.getOwnPropertyNames,G9=Object.getPrototypeOf,K9=Object.prototype.hasOwnProperty,Y9=(t,e)=>{for(var n in e)im(t,n,{get:e[n],enumerable:!0})},kS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of W9(e))!K9.call(t,s)&&s!==n&&im(t,s,{get:()=>e[s],enumerable:!(r=q9(e,s))||r.enumerable});return t},Q9=(t,e,n)=>(n=t!=null?H9(G9(t)):{},kS(!t||!t.__esModule?im(n,"default",{value:t,enumerable:!0}):n,t)),X9=t=>kS(im({},"__esModule",{value:!0}),t),ES={};Y9(ES,{default:()=>t8});var J9=X9(ES),a0=Q9($V),Z9=M9;const e8=a0.default[a0.default.length-1];var t8=(0,Z9.createReactPlayer)(a0.default,e8);const s1=gu(J9);function i1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function n8(...t){return e=>{let n=!1;const r=t.map(s=>{const a=i1(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():i1(t[s],null)}}}}function r8(t){const e=i8(t),n=y.forwardRef((r,s)=>{const{children:a,...o}=r,l=y.Children.toArray(a),c=l.find(o8);if(c){const d=c.props.children,h=l.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return i.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return i.jsx(e,{...o,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var s8=r8("Slot");function i8(t){const e=y.forwardRef((n,r)=>{const{children:s,...a}=n;if(y.isValidElement(s)){const o=c8(s),l=l8(a,s.props);return s.type!==y.Fragment&&(l.ref=r?n8(r,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a8=Symbol("radix.slottable");function o8(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a8}function l8(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function c8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function TS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=TS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=TS(t))&&(r&&(r+=" "),r+=e);return r}const a1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,o1=SS,u8=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return o1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=a==null?void 0:a[d];if(h===null)return null;const p=a1(h)||a1(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(w=>{let[j,T]=w;return Array.isArray(T)?T.includes({...a,...l}[j]):{...a,...l}[j]===T})?[...d,f,p]:d},[]);return o1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},By="-",d8=t=>{const e=f8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(By);return l[0]===""&&l.length!==1&&l.shift(),CS(l,e)||h8(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},CS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?CS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(By);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},l1=/^\[(.+)\]$/,h8=t=>{if(l1.test(t)){const e=l1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},f8=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return p8(Object.entries(t.classGroups),n).forEach(([a,o])=>{o0(o,r,a,e)}),r},o0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:c1(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(m8(s)){o0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{o0(o,c1(e,a),n,r)})})},c1=(t,e)=>{let n=t;return e.split(By).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},m8=t=>t.isThemeGetter,p8=(t,e)=>e?t.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,s]}):t,g8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},IS="!",x8=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let d=0,h=0,f;for(let T=0;T<l.length;T++){let b=l[T];if(d===0){if(b===s&&(r||l.slice(T,T+a)===e)){c.push(l.slice(h,T)),h=T+a;continue}if(b==="/"){f=T;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(h),g=p.startsWith(IS),w=g?p.substring(1):p,j=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:j}};return n?l=>n({className:l,parseClassName:o}):o},y8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},v8=t=>({cache:g8(t.cacheSize),parseClassName:x8(t),...d8(t)}),w8=/\s+/,b8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(w8);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let w=!!g,j=r(w?p.substring(0,g):p);if(!j){if(!w){l=d+(l.length>0?" "+l:l);continue}if(j=r(p),!j){l=d+(l.length>0?" "+l:l);continue}w=!1}const T=y8(h).join(":"),b=f?T+IS:T,v=b+j;if(a.includes(v))continue;a.push(v);const k=s(j,w);for(let R=0;R<k.length;++R){const D=k[R];a.push(b+D)}l=d+(l.length>0?" "+l:l)}return l};function _8(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AS(e))&&(r&&(r+=" "),r+=n);return r}const AS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AS(t[r]))&&(n&&(n+=" "),n+=e);return n};function j8(t,...e){let n,r,s,a=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=v8(d),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=b8(c,n);return s(c,h),h}return function(){return a(_8.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PS=/^\[(?:([a-z-]+):)?(.+)\]$/i,N8=/^\d+\/\d+$/,k8=new Set(["px","full","screen"]),E8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=t=>Wo(t)||k8.has(t)||N8.test(t),Ds=t=>jl(t,"length",U8),Wo=t=>!!t&&!Number.isNaN(Number(t)),wp=t=>jl(t,"number",Wo),nc=t=>!!t&&Number.isInteger(Number(t)),A8=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),pe=t=>PS.test(t),Ls=t=>E8.test(t),P8=new Set(["length","size","percentage"]),R8=t=>jl(t,P8,RS),O8=t=>jl(t,"position",RS),M8=new Set(["image","url"]),D8=t=>jl(t,M8,V8),L8=t=>jl(t,"",F8),rc=()=>!0,jl=(t,e,n)=>{const r=PS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},U8=t=>T8.test(t)&&!S8.test(t),RS=()=>!1,F8=t=>C8.test(t),V8=t=>I8.test(t),$8=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),a=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),d=$e("grayscale"),h=$e("hueRotate"),f=$e("invert"),p=$e("gap"),g=$e("gradientColorStops"),w=$e("gradientColorStopPositions"),j=$e("inset"),T=$e("margin"),b=$e("opacity"),v=$e("padding"),k=$e("saturate"),R=$e("scale"),D=$e("sepia"),O=$e("skew"),A=$e("space"),N=$e("translate"),I=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",pe,e],S=()=>[pe,e],C=()=>["",Zr,Ds],G=()=>["auto",Wo,pe],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],je=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",pe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Wo,pe];return{cacheSize:500,separator:":",theme:{colors:[rc],spacing:[Zr,Ds],blur:["none","",Ls,pe],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Ls,pe],borderSpacing:S(),borderWidth:C(),contrast:ge(),grayscale:Q(),hueRotate:ge(),invert:Q(),gap:S(),gradientColorStops:[t],gradientColorStopPositions:[A8,Ds],inset:P(),margin:P(),opacity:ge(),padding:S(),saturate:ge(),scale:ge(),sepia:Q(),skew:ge(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Ls]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),pe]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nc,pe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",nc,pe]}],"grid-cols":[{"grid-cols":[rc]}],"col-start-end":[{col:["auto",{span:["full",nc,pe]},pe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[rc]}],"row-start-end":[{row:["auto",{span:[nc,pe]},pe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Ls]},Ls]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ls,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wp]}],"font-family":[{font:[rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Wo,wp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr,Ds]}],"underline-offset":[{"underline-offset":["auto",Zr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),O8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...je(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:je()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...je()]}],"outline-offset":[{"outline-offset":[Zr,pe]}],"outline-w":[{outline:[Zr,Ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Zr,Ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ls,L8]}],"shadow-color":[{shadow:[rc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ls,pe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[nc,pe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zr,Ds,wp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z8=j8($8);function Ts(...t){return z8(SS(t))}const B8=u8("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),F=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},a)=>{const o=r?s8:"button";return i.jsx(o,{className:Ts(B8({variant:e,size:n,className:t})),ref:a,...s})});F.displayName="Button";const J=y.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ts("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));J.displayName="Card";const Ft=y.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ts("flex flex-col space-y-1.5 p-6",t),...e}));Ft.displayName="CardHeader";const Vt=y.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:Ts("text-2xl font-semibold leading-none tracking-tight",t),...e}));Vt.displayName="CardTitle";const OS=y.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:Ts("text-sm text-muted-foreground",t),...e}));OS.displayName="CardDescription";const ce=y.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ts("p-6 pt-0",t),...e}));ce.displayName="CardContent";const H8=y.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ts("flex items-center p-6 pt-0",t),...e}));H8.displayName="CardFooter";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...W8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MS("lucide",s),...l},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(t,e)=>{const n=y.forwardRef(({className:r,...s},a)=>y.createElement(G8,{ref:a,iconNode:e,className:MS(`lucide-${q8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=q("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=q("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=q("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=q("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=q("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=q("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=q("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=q("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=q("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=q("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=q("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=q("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=q("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=q("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=q("ScreenShare",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=q("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=q("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=q("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=q("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=q("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=q("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=q("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function T7({isPremium:t,isConnected:e,partnerPremium:n,onTimeUp:r,onUpgrade:s,onFriendRequestTime:a,isFriendCall:o=!1,isUltraPremium:l=!1}){const[c,d]=y.useState(1800),[h,f]=y.useState(!1),[p,g]=y.useState(!1),w=t||n,j=w?30*60:15*60,T=7*60;y.useEffect(()=>{e?(w?(f(!0),d(30*60)):(f(!0),d(15*60)),g(!1)):(f(!1),d(w?30*60:15*60),g(!1))},[e,w]),y.useEffect(()=>{let k=null;return h&&c>0&&(k=setInterval(()=>{d(R=>(!o&&!p&&R<=j-T&&(g(!0),a&&a()),R<=1?(f(!1),r(),0):R-1))},1e3)),()=>{k&&clearInterval(k)}},[h,c,r,a,o,p,j,T]);const b=k=>{const R=Math.floor(k/60),D=k%60;return`${R}:${D.toString().padStart(2,"0")}`},v=()=>{const k=c/j;return k>.5?"text-green-600":k>.25?"text-yellow-600":"text-red-600"};return!e||l&&!o?null:i.jsx(J,{className:"w-full max-w-md mx-auto mb-4",children:i.jsxs(ce,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:o?"Friend Call":"Chat Time"})]}),l?i.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[i.jsx(l7,{className:"h-6 w-6 text-purple-500"}),i.jsx("span",{className:"font-bold text-purple-600",children:"Unlimited"}),i.jsx(oe,{className:"h-4 w-4 text-yellow-500"})]}):w?i.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[i.jsx("div",{className:`font-mono text-xl font-bold ${v()}`,children:b(c)}),i.jsx("span",{className:"text-sm",children:"/ 30:00"}),i.jsx(oe,{className:"h-4 w-4 text-yellow-500"}),n&&!t&&i.jsx("span",{className:"text-xs text-green-600",children:"(Partner Premium)"})]}):i.jsx("div",{className:`font-mono text-xl font-bold ${v()}`,children:b(c)})]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${c>j*.5?"bg-green-500":c>j*.25?"bg-yellow-500":"bg-red-500"}`,style:{width:`${c/j*100}%`}})}),!o&&!w&&c<300&&i.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"⏰ Continue this amazing conversation! Get Premium for 30-minute calls."}),i.jsxs(F,{size:"sm",onClick:s,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[i.jsx(oe,{className:"h-4 w-4 mr-1"}),"Upgrade Now - ₹99/week"]})]}),!o&&p&&c>0&&i.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-romance-50 to-passion-50 dark:from-romance-900/20 dark:to-passion-900/20 rounded-lg text-center border border-romance-200",children:[i.jsx("p",{className:"text-sm text-romance-700 dark:text-romance-300 mb-1",children:"💕 7 minutes are up! Time to decide..."}),i.jsx("p",{className:"text-xs text-romance-600 dark:text-romance-400",children:"Would you like to become friends with this person?"})]}),l&&i.jsx("div",{className:"mt-2 p-2 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg text-center",children:i.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"💎 ULTRA+ Premium - Enjoy unlimited calls with no time limits! 💕"})}),!l&&w&&i.jsx("div",{className:"mt-2 p-2 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg text-center",children:i.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["✨ ",t?"You have":"Your partner has"," Premium - Enjoy ",o?"unlimited":"30-minute"," calls! 💕"]})})]})})}const na=class na{constructor(){se(this,"config");se(this,"isInitialized",!1);se(this,"adBlockDetected",!1);se(this,"consentGiven",!1);se(this,"defaultConfig",{publisherId:"ca-app-pub-1776596266948987~2770517385",adUnitIds:{banner:"ca-app-pub-1776596266948987/2770517385",interstitial:"ca-app-pub-1776596266948987/7315217300",rewarded:"ca-app-pub-1776596266948987/2468099206",native:"ca-app-pub-3940256099942544/2247696110"},testMode:!1});this.config=this.defaultConfig}static getInstance(){return na.instance||(na.instance=new na),na.instance}async initialize(e){try{e&&(this.config={...this.config,...e}),console.log("🎯 Initializing Ad Service...");try{await this.detectAdBlocker()}catch(n){console.warn("⚠️ Ad blocker detection failed, continuing...",n),this.adBlockDetected=!1}if(this.adBlockDetected)return console.warn("⚠️ Ad blocker detected - ads will not be shown"),this.isInitialized=!0,!0;try{if(await this.loadAdSenseScript(),typeof window<"u")return window.adsbygoogle=window.adsbygoogle||[],this.isInitialized=!0,console.log("✅ Ad Service initialized successfully"),!0}catch(n){return console.warn("⚠️ AdSense failed to load, continuing without ads:",n),this.isInitialized=!0,!0}return this.isInitialized=!0,!0}catch(n){return console.error("❌ Ad Service initialization error (non-critical):",n),this.isInitialized=!0,!0}}async requestConsent(){return new Promise(e=>{const n=confirm(`🎯 AjnabiCam uses ads to provide free service.

We may use cookies and collect data to show personalized ads.
You can upgrade to Premium to remove ads.

Do you consent to personalized advertisements?`);this.consentGiven=n,n&&(localStorage.setItem("ajnabicam_ad_consent","true"),localStorage.setItem("ajnabicam_ad_consent_date",new Date().toISOString())),e(n)})}hasConsent(){const e=localStorage.getItem("ajnabicam_ad_consent"),n=localStorage.getItem("ajnabicam_ad_consent_date");if(!e||!n)return!1;const r=new Date;return r.setFullYear(r.getFullYear()-1),new Date(n)>r}async loadBannerAd(e,n,r){if(!this.canShowAds())return!1;try{const s=document.getElementById(e);if(!s)throw new Error(`Container ${e} not found`);s.innerHTML="";const a=document.createElement("ins");return a.className="adsbygoogle",a.style.display="block",a.setAttribute("data-ad-client",this.config.publisherId),a.setAttribute("data-ad-slot",r||this.config.adUnitIds.banner),n.size?(a.style.width=`${n.size.width}px`,a.style.height=`${n.size.height}px`,a.setAttribute("data-ad-format","rectangle")):(a.setAttribute("data-ad-format","auto"),a.setAttribute("data-full-width-responsive","true")),s.appendChild(a),(window.adsbygoogle=window.adsbygoogle||[]).push({}),console.log("📱 Banner ad loaded:",e),!0}catch(s){return console.error("❌ Failed to load banner ad:",s),!1}}async showInterstitialAd(){if(!this.canShowAds())return!1;try{return console.log("🎬 Showing interstitial ad..."),new Promise(e=>{const n=this.createInterstitialOverlay();document.body.appendChild(n);const r=()=>{n.parentNode&&n.parentNode.removeChild(n),e(!0)};setTimeout(r,5e3),n.addEventListener("click",r)})}catch(e){return console.error("❌ Failed to show interstitial ad:",e),!1}}async showRewardedAd(){if(!this.canShowAds())return{success:!1,rewardAmount:0,rewardType:"coins",error:"Ads not available"};try{return console.log("💰 Showing rewarded ad..."),new Promise(e=>{const n=this.createRewardedAdExperience();e(n)})}catch(e){return console.error("❌ Failed to show rewarded ad:",e),{success:!1,rewardAmount:0,rewardType:"coins",error:e instanceof Error?e.message:"Unknown error"}}}async loadNativeAd(e){if(!this.canShowAds())return!1;try{const n=document.getElementById(e);if(!n)throw new Error(`Container ${e} not found`);return n.innerHTML=this.createNativeAdHTML(),console.log("📰 Native ad loaded:",e),!0}catch(n){return console.error("❌ Failed to load native ad:",n),!1}}canShowAds(){return this.isInitialized?this.adBlockDetected?(console.warn("⚠️ Ad blocker detected"),!1):this.hasConsent()?!0:(console.warn("⚠️ User consent not given"),!1):(console.warn("⚠️ Ad Service not initialized"),!1)}async detectAdBlocker(){try{const e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox",e.style.position="absolute",e.style.left="-10000px",document.body.appendChild(e),await new Promise(n=>setTimeout(n,100)),this.adBlockDetected=e.offsetHeight===0,document.body.removeChild(e)}catch(e){console.warn("Could not detect ad blocker:",e),this.adBlockDetected=!1}}loadAdSenseScript(){return new Promise((e,n)=>{if(document.querySelector('script[src*="pagead/js/adsbygoogle.js"]')){e();return}const r=document.createElement("script");r.async=!0,r.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${this.config.publisherId}`,r.crossOrigin="anonymous",r.onload=()=>e(),r.onerror=()=>n(new Error("Failed to load AdSense script")),document.head.appendChild(r)})}createInterstitialOverlay(){const e=document.createElement("div");return e.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    `,e.innerHTML=`
      <div style="
        background: white;
        padding: 40px;
        border-radius: 10px;
        text-align: center;
        max-width: 400px;
        margin: 20px;
      ">
        <h2 style="color: #ff6b6b; margin-bottom: 20px;">💕 Support AjnabiCam</h2>
        <p style="margin-bottom: 20px;">Thanks for using our free service!</p>
        <div style="background: #f0f0f0; padding: 20px; margin: 20px 0; border-radius: 5px;">
          <p style="font-size: 14px; color: #666;">Advertisement</p>
          <p style="font-size: 18px; margin: 10px 0;">🎬 Sample Ad Content</p>
          <p style="font-size: 12px; color: #999;">Click anywhere to continue</p>
        </div>
        <p style="font-size: 12px; color: #999;">Ad will close automatically in 5 seconds</p>
      </div>
    `,e}createRewardedAdExperience(){return new Promise(e=>{const n=document.createElement("div");n.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
      `;let r=0;const s=3;n.innerHTML=`
        <div style="
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 40px;
          border-radius: 15px;
          text-align: center;
          max-width: 400px;
          margin: 20px;
        ">
          <h2 style="margin-bottom: 20px;">💰 Earn 10 Coins!</h2>
          <p style="margin-bottom: 20px;">Watch this ad to earn coins</p>
          <div id="ad-content" style="background: rgba(255,255,255,0.1); padding: 30px; margin: 20px 0; border-radius: 10px;">
            <p style="font-size: 18px; margin: 10px 0;">🎬 Rewarded Video Ad</p>
            <p id="countdown" style="font-size: 14px;">Watch for ${s} seconds...</p>
          </div>
          <button id="claim-reward" style="
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            opacity: 0.5;
            font-size: 16px;
          " disabled>Claim Reward</button>
        </div>
      `,document.body.appendChild(n);const a=n.querySelector("#countdown"),o=n.querySelector("#claim-reward"),l=setInterval(()=>{r++,a&&(a.textContent=`${Math.max(0,s-r)} seconds remaining...`),r>=s&&(clearInterval(l),o&&a&&(o.disabled=!1,o.style.opacity="1",a.textContent="Ready to claim!"))},1e3);o.addEventListener("click",()=>{n.parentNode&&n.parentNode.removeChild(n),clearInterval(l),e({success:!0,rewardAmount:10,rewardType:"coins"})}),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),clearInterval(l),e({success:!1,rewardAmount:0,rewardType:"coins",error:"Ad timeout"})},3e4)})}createNativeAdHTML(){return`
      <div style="
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 15px;
        background: #f9f9f9;
        margin: 10px 0;
      ">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 12px; color: #666; background: #e0e0e0; padding: 2px 6px; border-radius: 3px;">Ad</span>
        </div>
        <div style="display: flex; gap: 15px;">
          <div style="width: 80px; height: 80px; background: #ddd; border-radius: 5px; flex-shrink: 0;"></div>
          <div style="flex: 1;">
            <h4 style="margin: 0 0 5px 0; color: #333;">Sample Native Ad</h4>
            <p style="margin: 0; font-size: 14px; color: #666; line-height: 1.4;">
              This is a native ad that blends with your content. Click to learn more!
            </p>
          </div>
        </div>
      </div>
    `}getMetrics(){return{adsShown:parseInt(localStorage.getItem("ajnabicam_ads_shown")||"0"),rewardedAdsWatched:parseInt(localStorage.getItem("ajnabicam_rewarded_ads")||"0"),adBlockerDetected:this.adBlockDetected,consentGiven:this.consentGiven,isInitialized:this.isInitialized}}trackAdEvent(e,n){if(console.log(`📊 Ad Event: ${e} - ${n}`),e==="shown"){const r=parseInt(localStorage.getItem("ajnabicam_ads_shown")||"0");localStorage.setItem("ajnabicam_ads_shown",(r+1).toString())}if(e==="rewarded"){const r=parseInt(localStorage.getItem("ajnabicam_rewarded_ads")||"0");localStorage.setItem("ajnabicam_rewarded_ads",(r+1).toString())}}};se(na,"instance");let d0=na;const cl=d0.getInstance(),ra=class ra{constructor(){se(this,"config");se(this,"_isInitialized",!1);se(this,"mediationReady",!1);se(this,"defaultConfig",{publisherId:"ca-app-pub-1776596266948987~2770517385",adUnitIds:{banner:"ca-app-pub-1776596266948987/2770517385",interstitial:"ca-app-pub-1776596266948987/7315217300",rewarded:"ca-app-pub-1776596266948987/2468099206",native:"ca-app-pub-3940256099942544/2247696110",appOpen:"ca-app-pub-3940256099942544/3419835294"},mediationNetworks:["Facebook Audience Network","Unity Ads","AppLovin","Vungle","IronSource","AdColony","Chartboost","Tapjoy"],testMode:!1});this.config=this.defaultConfig}static getInstance(){return ra.instance||(ra.instance=new ra),ra.instance}async initialize(e){try{return e&&(this.config={...this.config,...e}),console.log("💰 Initializing AdMob Mediation Service..."),console.log("📊 Mediation Networks:",this.config.mediationNetworks),this._isInitialized=!0,this.mediationReady=!0,console.log("✅ AdMob Mediation initialized successfully"),!0}catch(n){return console.error("❌ Failed to initialize AdMob Mediation:",n),!1}}isInitialized(){return this._isInitialized}getMediationMetrics(){return{totalRevenue:0,networkPerformance:{AdMob:{impressions:0,revenue:0,fillRate:0,ecpm:0},"Unity Ads":{impressions:0,revenue:0,fillRate:0,ecpm:0},Facebook:{impressions:0,revenue:0,fillRate:0,ecpm:0}},bestPerformingNetwork:"AdMob",adTypePerformance:{banner:0,interstitial:0,rewarded:0,native:0}}}getRevenueInsights(){return{dailyRevenue:0,monthlyRevenue:0,projectedRevenue:0,topCountries:["US","IN","BR"],revenueByNetwork:{AdMob:0,"Unity Ads":0,Facebook:0}}}getUnityAdsStatus(){return{initialized:!0,placementsReady:{rewarded:!0,interstitial:!0,banner:!0},revenue:0,fillRate:.85}}optimizeMediationWaterfall(){console.log("Optimizing mediation waterfall...")}optimizeUnityAds(){console.log("Optimizing Unity Ads integration...")}async loadMediatedBannerAd(e,n){return console.log(`Loading mediated banner ad in ${e} with size ${n}`),!0}async showMediatedRewardedAd(){if(!this.mediationReady)return{success:!1,reward:0,network:"none"};try{return console.log("💰 Showing mediated rewarded ad..."),await new Promise(e=>setTimeout(e,1e3)),{success:!0,reward:10,network:"AdSense"}}catch(e){return console.error("❌ Mediated rewarded ad failed:",e),{success:!1,reward:0,network:"none"}}}};se(ra,"instance");let h0=ra;const Pa=h0.getInstance(),sa=class sa{constructor(){se(this,"config");se(this,"isInitialized",!1);se(this,"isSDKLoaded",!1);se(this,"initializationPromise",null);se(this,"defaultConfig",{gameId:"a1abc147-49d0-4a59-8b35-1acba00889f6",testMode:!1,enablePerPlacementLoad:!0,initializeInBackground:!0});se(this,"placements",{banner:"banner",interstitial:"video",rewarded:"rewardedVideo"});this.config=this.defaultConfig}static getInstance(){return sa.instance||(sa.instance=new sa),sa.instance}async initialize(e){return this.initializationPromise?this.initializationPromise:(this.initializationPromise=this.doInitialize(e),this.initializationPromise)}async doInitialize(e){try{return e&&(this.config={...this.config,...e}),console.log("🎮 Initializing Unity Ads for mediation..."),console.log("📊 Game ID:",this.config.gameId),console.log("🧪 Test Mode:",this.config.testMode),await this.loadUnityAdsSDK(),window.UnityAds?new Promise(n=>{const r={onInitializationComplete:()=>{console.log("✅ Unity Ads initialized successfully"),this.isInitialized=!0,this.setupEventListeners(),n(!0)},onInitializationFailed:s=>{console.error("❌ Unity Ads initialization failed:",s),this.isInitialized=!1,n(!1)}};window.UnityAds.initialize(this.config.gameId,this.config.testMode,this.config.enablePerPlacementLoad,r)}):(console.error("❌ Unity Ads SDK not available"),!1)}catch(n){return console.error("❌ Unity Ads initialization error:",n),!1}}loadUnityAdsSDK(){return new Promise((e,n)=>{if(this.isSDKLoaded||document.querySelector('script[src*="unityads.unity3d.com"]')){this.isSDKLoaded=!0,e();return}const r=document.createElement("script");r.async=!0,r.src="https://unityads.unity3d.com/webview/2.0/UnityAds.js",r.onload=()=>{console.log("📱 Unity Ads SDK loaded"),this.isSDKLoaded=!0,e()},r.onerror=()=>{console.error("❌ Failed to load Unity Ads SDK"),n(new Error("Failed to load Unity Ads SDK"))},document.head.appendChild(r)})}setupEventListeners(){window.UnityAds&&(window.UnityAds.addListener("onUnityAdsReady",e=>{console.log("🎮 Unity Ad ready:",e)}),window.UnityAds.addListener("onUnityAdsStart",e=>{console.log("▶️ Unity Ad started:",e)}),window.UnityAds.addListener("onUnityAdsFinish",(e,n)=>{console.log("🏁 Unity Ad finished:",e,n)}),window.UnityAds.addListener("onUnityAdsError",e=>{console.error("❌ Unity Ad error:",e)}))}isReady(e){if(!this.isInitialized||!window.UnityAds)return!1;const n=this.placements[e];return window.UnityAds.isReady(n)}async loadBannerAd(e,n){if(!this.canShowAds())return!1;try{console.log("🎮 Loading Unity banner ad...");const r=document.getElementById(e);if(!r)throw new Error(`Container ${e} not found`);const s=this.createUnityBannerPlaceholder();return r.innerHTML="",r.appendChild(s),console.log("✅ Unity banner placeholder created"),!0}catch(r){return console.error("❌ Unity banner ad failed:",r),!1}}async showInterstitialAd(){if(!this.canShowAds())return!1;try{console.log("🎮 Showing Unity interstitial ad...");const e=this.placements.interstitial;return this.isReady("interstitial")||(console.warn("⚠️ Unity interstitial not ready, attempting to load..."),await this.loadAd(e)),new Promise(n=>{const r={onUnityAdsShowStart:s=>{console.log("▶️ Unity interstitial started:",s)},onUnityAdsShowClick:s=>{console.log("👆 Unity interstitial clicked:",s)},onUnityAdsShowComplete:(s,a)=>{console.log("✅ Unity interstitial completed:",s,a),n(!0)},onUnityAdsShowFailure:(s,a)=>{console.error("❌ Unity interstitial failed:",s,a),n(!1)}};window.UnityAds?window.UnityAds.show(e,r):n(!1)})}catch(e){return console.error("❌ Unity interstitial error:",e),!1}}async showRewardedAd(){if(!this.canShowAds())return{success:!1,placementId:this.placements.rewarded,rewardAmount:0,error:"Unity Ads not available"};try{console.log("🎮 Showing Unity rewarded ad...");const e=this.placements.rewarded;return this.isReady("rewarded")||(console.warn("⚠️ Unity rewarded ad not ready, attempting to load..."),await this.loadAd(e)),new Promise(n=>{const r={onUnityAdsShowStart:s=>{console.log("▶️ Unity rewarded ad started:",s)},onUnityAdsShowClick:s=>{console.log("👆 Unity rewarded ad clicked:",s)},onUnityAdsShowComplete:(s,a)=>{console.log("✅ Unity rewarded ad completed:",s,a);const o=a==="COMPLETED";n({success:o,placementId:s,rewardAmount:o?15:0,skipped:a==="SKIPPED"})},onUnityAdsShowFailure:(s,a)=>{console.error("❌ Unity rewarded ad failed:",s,a),n({success:!1,placementId:s,rewardAmount:0,error:a.toString()})}};window.UnityAds?window.UnityAds.show(e,r):n({success:!1,placementId:e,rewardAmount:0,error:"Unity Ads SDK not available"})})}catch(e){return console.error("❌ Unity rewarded ad error:",e),{success:!1,placementId:this.placements.rewarded,rewardAmount:0,error:e instanceof Error?e.message:"Unknown error"}}}async loadAd(e){return window.UnityAds?new Promise(n=>{const r={onUnityAdsAdLoaded:s=>{console.log("✅ Unity ad loaded:",s),n(!0)},onUnityAdsFailedToLoad:(s,a)=>{console.error("❌ Unity ad failed to load:",s,a),n(!1)}};window.UnityAds.load(e,r),setTimeout(()=>n(!1),1e4)}):!1}createUnityBannerPlaceholder(){const e=document.createElement("div");e.style.cssText=`
      width: 100%;
      height: 90px;
      background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;
    `,e.innerHTML=`
      <div style="text-align: center; z-index: 2;">
        <div style="font-size: 14px; font-weight: bold; margin-bottom: 4px;">
          🎮 Unity Ads
        </div>
        <div style="font-size: 10px; opacity: 0.9;">
          Mediated through AdMob
        </div>
      </div>
      <div style="
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
        background-size: 20px 20px;
        animation: float 3s ease-in-out infinite;
        z-index: 1;
      "></div>
    `;const n=document.createElement("style");return n.textContent=`
      @keyframes float {
        0% { transform: translate(0, 0) rotate(0deg); }
        33% { transform: translate(2px, -2px) rotate(1deg); }
        66% { transform: translate(-2px, 2px) rotate(-1deg); }
        100% { transform: translate(0, 0) rotate(0deg); }
      }
    `,document.head.appendChild(n),e}canShowAds(){return this.isInitialized?window.UnityAds?!0:(console.warn("⚠️ Unity Ads SDK not available"),!1):(console.warn("⚠️ Unity Ads not initialized"),!1)}getMetrics(){return{isInitialized:this.isInitialized,isSDKLoaded:this.isSDKLoaded,gameId:this.config.gameId,testMode:this.config.testMode,placementStates:{banner:this.isReady("banner"),interstitial:this.isReady("interstitial"),rewarded:this.isReady("rewarded")},estimatedECPM:{banner:1.8,interstitial:4.2,rewarded:9.5},fillRate:.92}}getMediationConfig(){return{networkName:"Unity Ads",networkId:"unity",gameId:this.config.gameId,placements:this.placements,priority:2,eCPMFloor:{banner:1.5,interstitial:3,rewarded:8},geoTargeting:{tier1:{multiplier:1.5,countries:["US","CA","GB","AU"]},tier2:{multiplier:1.2,countries:["DE","FR","JP","KR"]},tier3:{multiplier:1,countries:["IN","BR","MX","PH"]}}}}optimizeForMediation(){console.log("🎯 Optimizing Unity Ads for mediation..."),this.isInitialized&&window.UnityAds&&Object.values(this.placements).forEach(n=>{window.UnityAds.isReady(n)||this.loadAd(n)});const e=this.getMetrics();console.log("📊 Unity Ads Metrics:",e)}};se(sa,"instance");let f0=sa;const sr=f0.getInstance();function Ky({onRewardEarned:t,disabled:e=!1,variant:n="default",className:r="",preferUnity:s=!0}){const[a,o]=y.useState(!1),[l,c]=y.useState("checking..."),{addCoins:d}=Tr(),{isUltraPremium:h,isProMonthly:f}=Nt();if(h()||f())return null;const g={onClick:async()=>{if(!(a||e)){o(!0),c("loading...");try{let T,b="Unknown";if(s&&sr.isReady("rewarded"))console.log("🎮 Trying Unity Ads first..."),c("Unity Ads"),T=await sr.showRewardedAd(),b="Unity Ads",T.success||(console.log("🔄 Unity failed, trying mediation fallback..."),c("AdMob Mediation"),T=await Pa.showMediatedRewardedAd(),b=T.network||"AdMob");else if(console.log("📱 Using AdMob mediation..."),c("AdMob Mediation"),T=await Pa.showMediatedRewardedAd(),b=T.network||"AdMob",!T.success){console.log("🔄 Mediation failed, trying basic ad service..."),c("AdSense");const v=await cl.showRewardedAd();T={success:v.success,reward:v.rewardAmount,network:"AdSense"},b="AdSense"}if(T.success){const v=T.reward||T.rewardAmount||10;await d(v),cl.trackAdEvent("rewarded",`${b.toLowerCase()}_video`),t==null||t(v);const k=b==="Unity Ads"?"🎮":b.includes("Facebook")?"📘":b.includes("AppLovin")?"🔷":"📱";alert(`🎉 You earned ${v} coins from ${k} ${b}!`),c("completed")}else alert(`❌ Could not complete ad: ${T.error||"Unknown error"}`),c("failed")}catch(T){console.error("Rewarded ad error:",T),alert("❌ Failed to load ad. Please try again later."),c("error")}finally{o(!1)}}},disabled:e||a,className:`rewarded-ad-button ${r}`};if(n==="compact")return i.jsx(F,{...g,size:"sm",className:`bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white ${r}`,children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),l]}):i.jsxs(i.Fragment,{children:[s&&sr.isReady("rewarded")?i.jsx(ya,{className:"w-4 h-4 mr-1"}):i.jsx(zn,{className:"w-4 h-4 mr-1"}),"+",s?"15":"10"]})});if(n==="premium"){const T=s&&sr.isReady("rewarded"),b=T?15:10;return i.jsx(F,{...g,className:`${T?"bg-gradient-to-r from-orange-500 via-red-500 to-purple-500 hover:from-orange-600 hover:via-red-600 hover:to-purple-600":"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 hover:from-yellow-600 hover:via-orange-600 hover:to-red-600"} text-white font-bold py-4 px-6 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105 ${r}`,children:a?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-lg",children:"Watching..."}),i.jsx("div",{className:"text-sm opacity-90",children:l})]})]}):i.jsxs("div",{className:"flex items-center",children:[T?i.jsx(ya,{className:"w-5 h-5 mr-3"}):i.jsx(qa,{className:"w-5 h-5 mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-lg",children:T?"Unity Ad":"Watch Ad"}),i.jsxs("div",{className:"text-sm opacity-90",children:["Earn ",b," Coins",T&&i.jsx("span",{className:"ml-1",children:"🎮"})]})]})]})})}const w=s&&sr.isReady("rewarded"),j=w?15:10;return i.jsx(F,{...g,className:`${w?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600"} text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200 ${r}`,children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),l]}):i.jsxs(i.Fragment,{children:[w?i.jsx(ya,{className:"w-4 h-4 mr-2"}):i.jsx(zn,{className:"w-4 h-4 mr-2"}),"Watch Ad for ",j," Coins",i.jsx(Ti,{className:"w-4 h-4 ml-2"})]})})}function zS({isOpen:t,onClose:e}){const{coins:n,addCoins:r,watchAd:s,claimDailyBonus:a,completeChat:o,adsWatchedToday:l,maxAdsPerDay:c,canClaimDailyBonus:d,currentStreak:h,hasCompletedOnboarding:f}=Tr(),{isPremium:p}=Nt(),g=Ge(),[w,j]=y.useState(!1),[T,b]=y.useState(!0),[v,k]=y.useState(3600),[R,D]=y.useState("");y.useEffect(()=>{if(t){j(!0);const _=setTimeout(()=>j(!1),1e3);return()=>clearTimeout(_)}},[t]),y.useEffect(()=>{if(v>0){const _=setTimeout(()=>k(v-1),1e3);return()=>clearTimeout(_)}},[v]),y.useEffect(()=>{const _=["⚡ Flash Sale! Don't miss out!","🔥 Limited Time Offer!","💎 Exclusive Deal Today Only!","⏰ Hurry! Sale ends soon!","🎯 Best Value Pack!"],P=_[Math.floor(Math.random()*_.length)];D(P)},[t]);const O=_=>{const P=Math.floor(_/3600),S=Math.floor(_%3600/60),C=_%60;return`${P.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`};if(!t)return null;const A=[{id:"starter",coins:100,price:"₹19",originalPrice:"₹39",popular:!1,bonus:"+0 Free!",savings:"51% OFF",tag:"STARTER",color:"from-blue-500 to-blue-600",bgGradient:"from-blue-50 to-sky-50",description:"Perfect for beginners"},{id:"popular",coins:200,price:"₹29",originalPrice:"₹49",popular:!0,bonus:"+0 FREE!",savings:"41% OFF",tag:"MOST POPULAR",color:"from-purple-500 to-pink-500",bgGradient:"from-purple-50 to-pink-50",description:"Best value for money",badge:"💖 Loved by 89% users"},{id:"mega",coins:800,price:"₹99",originalPrice:"₹199",popular:!1,bonus:"+0 FREE!",savings:"50% OFF",tag:"MEGA DEAL",color:"from-emerald-500 to-green-600",bgGradient:"from-emerald-50 to-green-50",description:"For power users",badge:"🔥 Limited time"},{id:"ultimate",coins:2e3,price:"₹199",originalPrice:"₹399",popular:!1,bonus:"+0 FREE!",savings:"50% OFF",tag:"ULTIMATE",color:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50",description:"Maximum value pack",badge:"💎 VIP Special",vip:!0}],N=_=>{const P=`🎉 Great choice! You're getting ${_.coins+parseInt(_.bonus.replace(/\D/g,""))} coins for just ${_.price}!

💰 That's ${_.savings} savings!

Confirm purchase?`;confirm(P)&&((async()=>{try{const C=_.coins+parseInt(_.bonus.replace(/\D/g,"")),G=await r(C);alert(G?`🎊 SUCCESS! ${C} coins added to your account!

✨ Enjoy your enhanced chat experience!`:"❌ Purchase failed. Please try again.")}catch(C){console.error("Error purchasing coins:",C),alert("❌ Purchase failed. Please try again.")}})(),e())},I=[{id:"daily",title:"Daily Login Bonus",coins:10,icon:DS,color:"from-peach-400 to-coral-500",bgColor:"bg-gradient-to-br from-peach-50 to-coral-50",description:"Open the app daily for rewards",action:a,available:d,buttonText:d?"🎁 Earn +10 Coins":"✅ Claimed Today",streak:h,highlight:"Earn +10"},{id:"ads",title:"Watch Rewarded Ads",coins:15,icon:zn,color:"from-blush-400 to-peach-500",bgColor:"bg-gradient-to-br from-blush-50 to-peach-50",description:"Watch ads and earn instant coins",action:s,available:l<c,buttonText:l<c?`🎯 Earn +15 Coins (${c-l} left)`:"✅ Daily Limit Reached",progress:`${l}/${c} today`,highlight:"Earn +15"}];return i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-start justify-center z-50 p-2 overflow-y-auto",children:i.jsxs(J,{className:"w-full max-w-lg mx-auto bg-gradient-to-br from-peach-25 via-cream-25 to-blush-25 border-2 border-peach-200 shadow-3xl relative overflow-hidden my-2 min-h-fit max-h-[98vh]",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 bg-peach-200 rounded-full opacity-30 animate-pulse"}),i.jsx("div",{className:"absolute top-12 right-8 w-6 h-6 bg-coral-200 rounded-full opacity-40 animate-bounce"}),i.jsx("div",{className:"absolute bottom-16 left-8 w-4 h-4 bg-blush-200 rounded-full opacity-25 animate-pulse",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute bottom-8 right-4 w-5 h-5 bg-cream-200 rounded-full opacity-30 animate-bounce",style:{animationDelay:"2s"}})]}),i.jsxs(Ft,{className:"text-center relative z-10 pb-3",children:[i.jsx(F,{variant:"ghost",size:"sm",onClick:e,className:"absolute right-2 top-2 p-2 text-peach-500 hover:bg-peach-100 rounded-full transition-all duration-200 hover:scale-110",children:i.jsx(Wn,{size:22})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`relative ${w?"animate-bounce":""} transform hover:scale-110 transition-transform duration-300`,children:i.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-peach-400 via-coral-500 to-blush-400 rounded-2xl relative overflow-hidden shadow-2xl border-3 border-peach-300 flex items-center justify-center",children:[i.jsx(r7,{className:"h-12 w-12 text-white drop-shadow-lg"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-black/10 rounded-2xl"}),w&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute -top-3 -left-3 text-jasmine-300 text-xl animate-ping",children:"✨"}),i.jsx("div",{className:"absolute -top-4 -right-2 text-peach-300 text-lg animate-ping",style:{animationDelay:"0.2s"},children:"💎"}),i.jsx("div",{className:"absolute -top-2 left-1/2 text-coral-300 text-lg animate-ping",style:{animationDelay:"0.4s"},children:"✨"}),i.jsx("div",{className:"absolute -bottom-1 -left-2 text-cream-400 text-sm animate-ping",style:{animationDelay:"0.6s"},children:"💫"}),i.jsx("div",{className:"absolute -bottom-2 -right-1 text-blush-400 text-sm animate-ping",style:{animationDelay:"0.8s"},children:"✨"})]})]})})}),i.jsx(Vt,{className:"text-2xl font-extrabold bg-gradient-to-r from-peach-600 via-coral-600 to-blush-600 bg-clip-text text-transparent mb-2",children:"💰 Coin Store 💰"}),i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-2 inline-block border-2 border-peach-300 shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5 text-peach-600 animate-pulse"}),i.jsxs("span",{className:"font-extrabold text-lg text-peach-700",children:[n," Coins"]})]})}),T&&i.jsx("div",{className:"bg-gradient-to-r from-peach-500 to-coral-500 text-white rounded-full px-4 py-2 mt-2 inline-block animate-pulse",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold",children:[i.jsx(Ha,{className:"h-4 w-4"}),i.jsx("span",{children:R}),i.jsx("span",{children:O(v)})]})}),i.jsxs("div",{className:"mt-3",children:[i.jsx("button",{onClick:()=>{e(),g("/spin-wheel")},className:"bg-gradient-to-r from-peach-500 via-coral-500 to-blush-500 text-white px-6 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",style:{animation:"bounce 1s infinite"},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wy,{className:"h-5 w-5"}),i.jsx("span",{children:"🎰 Spin & Win Coins!"}),i.jsx(i7,{className:"h-4 w-4"})]})}),i.jsx("div",{className:"text-xs text-peach-600 font-semibold mt-1 bg-peach-100 rounded-full px-3 py-1 inline-block",children:"✨ Try your luck! Watch ads to win up to 50 coins! ✨"})]})]}),i.jsxs(ce,{className:"space-y-4 relative z-10 overflow-y-auto max-h-[calc(98vh-180px)] pb-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-cream-100 to-peach-100 rounded-xl p-3 border border-peach-300",children:i.jsxs("div",{className:"flex items-center gap-2 text-center justify-center",children:[i.jsx(Re,{className:"h-5 w-5 text-peach-600"}),i.jsxs("span",{className:"text-peach-800 font-semibold text-sm",children:["🎉 ",i.jsx("strong",{children:"2,847"})," users bought coins today!"]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-bold text-peach-800 text-center flex items-center justify-center gap-2 text-base",children:[i.jsx("div",{className:"bg-peach-100 p-1.5 rounded-full",children:i.jsx(oe,{className:"h-5 w-5 text-peach-600"})}),"💎 Special Coin Packs"]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map((_,P)=>i.jsxs("div",{className:`relative p-3 rounded-xl border-2 cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${_.popular?"border-peach-500 bg-gradient-to-br from-peach-50 to-coral-50 shadow-lg ring-2 ring-peach-200":"border-gray-300 bg-white hover:border-peach-300"}`,onClick:()=>N(_),children:[_.popular&&i.jsxs("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-peach-500 to-coral-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:[_.tag," 🔥"]}),_.vip&&i.jsxs("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-coral-500 to-peach-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:["💎 ",_.tag]}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-peach-500 text-white text-xs px-2 py-1 rounded-full font-bold transform rotate-12",children:_.savings}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl font-bold text-peach-700 mb-1",children:_.coins}),i.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"base coins"}),_.bonus&&i.jsx("div",{className:"text-xs text-cream-600 font-bold mb-2 bg-cream-100 rounded-full px-2 py-1 animate-pulse",children:_.bonus}),i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-xs text-gray-500 line-through",children:_.originalPrice}),i.jsx("div",{className:"font-bold text-lg text-gray-800",children:_.price})]}),i.jsx("div",{className:"text-xs text-gray-600 mb-2",children:_.description}),_.badge&&i.jsx("div",{className:"text-xs text-peach-600 font-semibold bg-peach-100 rounded px-2 py-1",children:_.badge}),i.jsxs("div",{className:"text-xs text-cream-700 font-bold mt-2 bg-cream-50 rounded px-2 py-1",children:["Total:"," ",_.coins+parseInt(_.bonus.replace(/\D/g,"")||"0")," ","coins"]})]})]},_.id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-bold text-peach-800 text-center flex items-center justify-center gap-2 text-base",children:[i.jsx("div",{className:"bg-gradient-to-r from-peach-100 to-coral-100 p-2 rounded-full shadow-md",children:i.jsx(qa,{className:"h-6 w-6 text-peach-600"})}),"🎁 Free Coins - No Payment!"]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:I.map(_=>i.jsxs("div",{className:`${_.bgColor} rounded-xl p-4 border-2 border-peach-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]`,children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`bg-gradient-to-r ${_.color} p-2 rounded-full shadow-lg animate-pulse`,children:i.jsx(_.icon,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-800 text-base",children:_.title}),i.jsx("p",{className:"text-sm text-gray-600",children:_.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"bg-gradient-to-r from-peach-500 to-coral-500 text-white px-3 py-1 rounded-full font-bold text-sm shadow-md",children:_.highlight}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"coins"})]})]})}),_.progress&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:_.progress}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`bg-gradient-to-r ${_.color} h-2 rounded-full transition-all duration-300`,style:{width:`${l/c*100}%`}})})]}),_.id==="ads"?i.jsx(Ky,{variant:"premium",disabled:!_.available,className:"w-full",onRewardEarned:P=>{console.log(`User earned ${P} coins from TreasureChest ad`)}}):i.jsx(F,{onClick:_.action,disabled:!_.available,className:`w-full font-bold py-3 rounded-xl shadow-lg transition-all duration-300 text-base transform hover:scale-105 ${_.available?`bg-gradient-to-r ${_.color} hover:shadow-xl text-white animate-pulse`:"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:_.buttonText})]},_.id))})]}),i.jsxs("div",{className:"bg-gradient-to-r from-peach-100 to-coral-100 rounded-xl p-3 border-2 border-peach-200 text-center",children:[i.jsx("div",{className:"text-peach-800 font-bold text-sm mb-1",children:"💫 Why Buy Coins?"}),i.jsx("div",{className:"text-peach-700 text-xs",children:"• Skip waiting times • Premium features • Unlimited chats • Special filters"})]})]})]})})}const S7=["Is a creep","Spam","Nudity","Harassment","Fake profile","Other"];function p1({isOpen:t,onClose:e,onSubmit:n}){const[r,s]=y.useState(""),[a,o]=y.useState("");return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-xs flex flex-col items-center shadow-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-rose-600 mb-4",children:"Report this user"}),i.jsxs("div",{className:"flex flex-col gap-2 w-full mb-4",children:[S7.map(l=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"report-reason",value:l,checked:r===l,onChange:()=>s(l)}),i.jsx("span",{children:l})]},l)),r==="Other"&&i.jsx("textarea",{className:"w-full border rounded p-2 mt-2 text-sm",placeholder:"Describe the issue...",value:a,onChange:l=>o(l.target.value),rows:2})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(F,{className:"flex-1",variant:"outline",onClick:e,children:"Cancel"}),i.jsx(F,{className:"flex-1 bg-rose-500 text-white",disabled:!r||r==="Other"&&!a.trim(),onClick:()=>{n(r==="Other"?a:r),s(""),o("")},children:"Submit"})]})]})}):null}function C7({isOpen:t,onClose:e,onBlock:n}){return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-xs flex flex-col items-center shadow-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-rose-600 mb-4",children:"Block this user?"}),i.jsx("p",{className:"text-sm text-gray-700 mb-6 text-center",children:"You won't be matched with this user again."}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(F,{className:"flex-1",variant:"outline",onClick:e,children:"Cancel"}),i.jsx(F,{className:"flex-1 bg-rose-500 text-white",onClick:n,children:"Block"})]})]})}):null}function I7({isOpen:t,onClose:e,onStayConnected:n,partnerName:r="Stranger"}){const[s,a]=y.useState(!1);if(!t)return null;const o=()=>{a(!0),n(!0)},l=()=>{n(!1),e()};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(J,{className:"w-full max-w-sm mx-auto bg-white border-2 border-rose-200 shadow-2xl",children:[i.jsxs(Ft,{className:"text-center relative",children:[i.jsx(F,{variant:"ghost",size:"sm",onClick:e,className:"absolute right-2 top-2 p-1",children:i.jsx(Wn,{size:20})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-600 p-4 rounded-full",children:i.jsx(gt,{className:"h-8 w-8 text-white"})})}),i.jsx(Vt,{className:"text-xl font-bold text-rose-700",children:"Stay Connected?"})]}),i.jsxs(ce,{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-gray-700 mb-2",children:["Do you want to stay connected with ",i.jsx("span",{className:"font-semibold text-rose-600",children:r}),"?"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"You'll be added to each other's friends list and can video call anytime!"})]}),s?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Waiting for ",r,"'s response..."]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs(F,{onClick:o,className:"w-full bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white font-semibold py-3 rounded-xl shadow-md",children:[i.jsx(Re,{className:"h-5 w-5 mr-2"}),"Yes, Stay Connected! 💕"]}),i.jsx(F,{onClick:l,variant:"outline",className:"w-full border-2 border-gray-300 text-gray-700 hover:bg-gray-50 font-semibold py-3 rounded-xl",children:"No, Thanks"})]})]})]})})}function A7({friendName:t,onCall:e,onDismiss:n}){const[r,s]=y.useState(!0);return y.useEffect(()=>{const a=setTimeout(()=>{s(!1),n()},1e4);return()=>clearTimeout(a)},[n]),r?i.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-sm px-4",children:i.jsx(J,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-2xl border-0 animate-slide-down",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-300 rounded-full animate-pulse"}),i.jsx("span",{className:"font-semibold text-sm",children:"Friend Online"})]}),i.jsxs("p",{className:"text-white font-medium",children:[i.jsx("span",{className:"font-bold",children:t})," is online now - call them?"]})]}),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>{s(!1),n()},className:"text-white hover:bg-white/20 p-1",children:i.jsx(Wn,{size:16})})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs(F,{onClick:()=>{s(!1),e()},className:"flex-1 bg-white text-green-600 hover:bg-gray-100 font-semibold py-2 rounded-lg",children:[i.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Call Now"]}),i.jsx(F,{onClick:()=>{s(!1),n()},variant:"ghost",className:"text-white hover:bg-white/20 px-4",children:"Later"})]})]})})}):null}var P7={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function R7(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return P7[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function g1(t){var e=R7(t);return"".concat(e.value).concat(e.unit)}var O7=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var a=s.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(o,0),r},ef=function(){return ef=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ef.apply(this,arguments)},M7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},D7=O7("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function x1(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,s=r===void 0?"#000000":r,a=t.speedMultiplier,o=a===void 0?1:a,l=t.cssOverride,c=l===void 0?{}:l,d=t.size,h=d===void 0?35:d,f=M7(t,["loading","color","speedMultiplier","cssOverride","size"]),p=ef({background:"transparent !important",width:g1(h),height:g1(h),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(D7," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},c);return n?y.createElement("span",ef({style:p},f)):null}const L7={theme:"system",setTheme:()=>null},BS=y.createContext(L7);function U7({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=y.useState(()=>localStorage.getItem(n)||e);y.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(n,l),a(l)}};return i.jsx(BS.Provider,{...r,value:o,children:t})}const F7=()=>{const t=y.useContext(BS);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};class m0{static async createMockRemoteStream(){const e=document.createElement("canvas");e.width=640,e.height=480;const n=e.getContext("2d"),r=()=>{const o=n.createLinearGradient(0,0,e.width,e.height);o.addColorStop(0,"#ec4899"),o.addColorStop(.5,"#f43f5e"),o.addColorStop(1,"#a855f7"),n.fillStyle=o,n.fillRect(0,0,e.width,e.height);const l=Date.now()*.001;n.fillStyle="rgba(255, 255, 255, 0.3)";for(let c=0;c<5;c++){const d=(Math.sin(l+c)+1)*e.width/2,h=(Math.cos(l+c*.5)+1)*e.height/2;n.beginPath(),n.arc(d,h,20+Math.sin(l+c)*10,0,Math.PI*2),n.fill()}n.fillStyle="white",n.font="bold 24px Arial",n.textAlign="center",n.fillText("Demo Partner",e.width/2,e.height/2-50),n.font="16px Arial",n.fillText("This is a demo connection",e.width/2,e.height/2),n.fillText("🎥 Mock Video Stream",e.width/2,e.height/2+30),n.font="12px monospace",n.fillText(new Date().toLocaleTimeString(),e.width/2,e.height-20)},s=()=>{r(),requestAnimationFrame(s)};s();const a=e.captureStream(30);try{const o=new AudioContext,l=o.createOscillator(),c=o.createGain();l.connect(c),c.connect(o.destination),l.frequency.setValueAtTime(440,o.currentTime),c.gain.setValueAtTime(.01,o.currentTime),l.start();const d=o.createMediaStreamDestination();c.connect(d);const h=d.stream.getAudioTracks()[0];h&&a.addTrack(h)}catch(o){console.log("Could not create mock audio track:",o)}return a}static async simulateConnection(e){console.log("🤖 Simulating WebRTC connection..."),setTimeout(async()=>{try{const n=await this.createMockRemoteStream();console.log("🤖 Mock remote stream created"),e(n)}catch(n){console.error("Failed to create mock stream:",n)}},2e3+Math.random()*3e3)}}se(m0,"remoteVideoElement",null);function V7(t={}){const{isPremium:e}=Nt(),n=y.useRef(0),r=y.useRef(0),{minTimeBetweenAds:s=180,maxAdsPerSession:a=8,showOnCallEnd:o=!0,showOnAppStart:l=!1}=t,c=y.useCallback(()=>{if(e)return console.log("🔒 Premium user - skipping interstitial ad"),!1;if(r.current>=a)return console.log("📊 Max ads per session reached"),!1;const T=(Date.now()-n.current)/1e3;return T<s?(console.log(`⏰ Too soon for next ad (${Math.round(s-T)}s remaining)`),!1):!0},[e,s,a]),d=y.useCallback(async j=>{if(!c())return!1;try{return console.log(`🎬 Showing interstitial ad (trigger: ${j})`),await cl.showInterstitialAd()?(n.current=Date.now(),r.current+=1,cl.trackAdEvent("shown","interstitial"),console.log(`✅ Interstitial ad shown successfully (${r.current}/${a})`),!0):(console.log("❌ Interstitial ad failed to show"),!1)}catch(T){return console.error("🚨 Interstitial ad error:",T),!1}},[c,a]),h=y.useCallback(()=>o?d("call_end"):Promise.resolve(!1),[d,o]),f=y.useCallback(()=>l?d("app_start"):Promise.resolve(!1),[d,l]),p=y.useCallback(j=>d(`navigation_${j}`),[d]),g=y.useCallback(j=>d(`action_${j}`),[d]),w=y.useCallback(()=>({adsShownThisSession:r.current,maxAdsPerSession:a,canShowAd:c(),timeSinceLastAd:n.current?(Date.now()-n.current)/1e3:0,timeUntilNextAd:Math.max(0,s-(Date.now()-n.current)/1e3),isPremiumUser:e}),[c,a,s,e]);return{showAd:d,showOnVideoCallEnd:h,showOnAppLaunch:f,showOnNavigation:p,showOnAction:g,canShowAd:c,getAdInfo:w}}const p0=[{id:"none",name:"No Filter",icon:"🚫",description:"Original video",category:"fun",isPremium:!1},{id:"vintage",name:"Vintage",icon:"📷",description:"Classic vintage look",category:"effects",isPremium:!1,cssFilter:"sepia(0.8) contrast(1.2) brightness(1.1)"},{id:"black-white",name:"Black & White",icon:"⚫",description:"Classic monochrome",category:"effects",isPremium:!1,cssFilter:"grayscale(1) contrast(1.1)"},{id:"heart-eyes",name:"Heart Eyes",icon:"😍",description:"Add heart eyes effect",category:"romantic",isPremium:!0,canvasEffect:$7},{id:"flower-crown",name:"Flower Crown",icon:"🌸",description:"Beautiful flower crown",category:"romantic",isPremium:!0,canvasEffect:z7},{id:"sparkles",name:"Sparkles",icon:"✨",description:"Magical sparkle effect",category:"romantic",isPremium:!0,canvasEffect:B7},{id:"soft-glow",name:"Soft Glow",icon:"🌟",description:"Romantic soft glow",category:"beauty",isPremium:!0,cssFilter:"brightness(1.1) contrast(0.9) blur(0.5px)"},{id:"rose-tint",name:"Rose Tint",icon:"🌹",description:"Romantic rose color",category:"romantic",isPremium:!0,cssFilter:"hue-rotate(15deg) saturate(1.2) brightness(1.05)"},{id:"dreamy",name:"Dreamy",icon:"💭",description:"Dreamy romantic effect",category:"romantic",isPremium:!0,cssFilter:"contrast(0.8) brightness(1.2) saturate(1.1) blur(0.3px)"},{id:"golden-hour",name:"Golden Hour",icon:"🌅",description:"Warm golden lighting",category:"beauty",isPremium:!0,cssFilter:"sepia(0.3) saturate(1.3) brightness(1.1) hue-rotate(15deg)"},{id:"neon-glow",name:"Neon Glow",icon:"💫",description:"Futuristic neon effect",category:"effects",isPremium:!0,cssFilter:"contrast(1.5) saturate(2) hue-rotate(180deg) brightness(1.2)"}];function $7(t,e){const n=t.canvas,r=Math.min(n.width,n.height)*.08,s=n.width*.35,a=n.width*.65,o=n.height*.4;t.font=`${r}px Arial`,t.fillText("💖",s-r/2,o),t.fillText("💖",a-r/2,o)}function z7(t,e){const n=t.canvas,r=Math.min(n.width,n.height)*.06,s=["🌸","🌺","🌻","🌷","🌹"],a=5;for(let o=0;o<a;o++){const l=n.width/(a+1)*(o+1),c=n.height*.15,d=s[o%s.length];t.font=`${r}px Arial`,t.fillText(d,l-r/2,c)}}function B7(t,e){const n=t.canvas,r=Math.min(n.width,n.height)*.03,s=["✨","⭐","💫","🌟"],a=8;for(let o=0;o<a;o++){const l=Math.random()*n.width,c=Math.random()*n.height,d=s[Math.floor(Math.random()*s.length)];t.font=`${r}px Arial`,t.globalAlpha=.7+Math.random()*.3,t.fillText(d,l,c)}t.globalAlpha=1}class H7{constructor(e){se(this,"canvas");se(this,"ctx");se(this,"video");se(this,"currentFilter",null);se(this,"animationFrame",null);this.video=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=e.videoWidth||640,this.canvas.height=e.videoHeight||480}applyFilter(e){if(this.currentFilter=e,e.id==="none"){this.stopFilter();return}e.cssFilter&&(this.video.style.filter=e.cssFilter),e.canvasEffect&&this.startCanvasEffect()}startCanvasEffect(){this.animationFrame&&cancelAnimationFrame(this.animationFrame);const e=()=>{var n;(n=this.currentFilter)!=null&&n.canvasEffect&&((this.canvas.width!==this.video.videoWidth||this.canvas.height!==this.video.videoHeight)&&(this.canvas.width=this.video.videoWidth||640,this.canvas.height=this.video.videoHeight||480),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.currentFilter.canvasEffect(this.ctx,this.video),this.animationFrame=requestAnimationFrame(e))};e()}stopFilter(){this.currentFilter=null,this.video.style.filter="",this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null)}getFilteredStream(){return!this.currentFilter||!this.currentFilter.canvasEffect?null:this.canvas.captureStream(30)}destroy(){this.stopFilter()}}function q7(t){const[e,n]=y.useState(null),[r,s]=y.useState(!1),a=y.useRef(null);y.useEffect(()=>(t&&!a.current&&(a.current=new H7(t)),()=>{a.current&&(a.current.destroy(),a.current=null)}),[t]);const o=d=>{a.current&&(n(d),a.current.applyFilter(d),s(d.id!=="none"))};return{currentFilter:e,isFilterActive:r,applyFilter:o,removeFilter:()=>{const d=p0.find(h=>h.id==="none");d&&o(d)},getFilteredStream:()=>a.current?a.current.getFilteredStream():null}}function W7({isOpen:t,onClose:e,onFilterSelect:n,currentFilter:r,isUltraPremium:s,onUpgrade:a}){const[o,l]=y.useState("all");if(!t)return null;const c=[{key:"all",name:"All Filters",icon:"🎭"},{key:"fun",name:"Fun",icon:"😄"},{key:"romantic",name:"Romantic",icon:"💕"},{key:"beauty",name:"Beauty",icon:"✨"},{key:"effects",name:"Effects",icon:"🎨"}],d=o==="all"?p0:p0.filter(f=>f.category===o),h=f=>{if(f.isPremium&&!s){a();return}n(f)};return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center p-4",children:i.jsxs(J,{className:"w-full max-w-md bg-white rounded-t-3xl shadow-2xl max-h-[80vh] overflow-hidden animate-slide-up",children:[i.jsxs(Ft,{className:"text-center relative bg-gradient-to-r from-passion-500 to-romance-600 text-white",children:[i.jsx(F,{variant:"ghost",size:"sm",onClick:e,className:"absolute right-2 top-2 p-2 text-white hover:bg-white/20 rounded-full",children:i.jsx(Wn,{size:20})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-sm",children:i.jsx(Aa,{className:"h-8 w-8 text-white"})})}),i.jsx(Vt,{className:"text-xl font-bold",children:"Face Filters"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Apply filters to your partner's video"}),!s&&i.jsxs("div",{className:"flex items-center justify-center gap-2 bg-yellow-400/20 backdrop-blur-sm px-3 py-1 rounded-full mt-2",children:[i.jsx(oe,{className:"h-4 w-4 text-yellow-300"}),i.jsx("span",{className:"text-yellow-100 text-sm font-bold",children:"ULTRA+ Feature"})]})]}),i.jsxs(ce,{className:"p-0",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:c.map(f=>i.jsxs("button",{onClick:()=>l(f.key),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all flex items-center gap-2 ${o===f.key?"bg-passion-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[i.jsx("span",{children:f.icon}),f.name]},f.key))})}),i.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:i.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.map(f=>{const p=(r==null?void 0:r.id)===f.id,g=f.isPremium&&!s;return i.jsxs("button",{onClick:()=>h(f),className:`relative p-4 rounded-xl border-2 transition-all transform hover:scale-105 ${p?"border-passion-500 bg-passion-50 shadow-lg":g?"border-gray-200 bg-gray-50 opacity-75":"border-gray-200 hover:border-passion-300 hover:bg-passion-25"}`,children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:f.icon}),i.jsx("div",{className:"text-xs font-medium text-gray-800 mb-1",children:f.name}),i.jsx("div",{className:"text-xs text-gray-500",children:f.description})]}),g&&i.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-xl flex items-center justify-center",children:i.jsx(oe,{className:"w-6 h-6 text-yellow-500"})}),f.isPremium&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full p-1",children:i.jsx(oe,{className:"w-3 h-3 text-white"})}),p&&i.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-passion-500 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]},f.id)})})}),!s&&i.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-t border-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(oe,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-bold text-purple-800",children:"Upgrade to ULTRA+"})]}),i.jsx("p",{className:"text-sm text-purple-600 mb-3",children:"Unlock all premium face filters and apply them to your partner's video!"}),i.jsxs(F,{onClick:a,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold px-6 py-2 rounded-full",children:[i.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})]})}),i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"How it works"}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("p",{children:"• Select a filter to apply to your partner's video"}),i.jsx("p",{children:"• Only you will see the filter effect"}),i.jsx("p",{children:"• Premium filters require ULTRA+ subscription"}),i.jsx("p",{children:'• Tap "No Filter" to remove effects'})]})]})})]})]})})}function bp({plan:t,size:e="md",className:n=""}){const r=()=>{switch(t){case"ultra-quarterly":return{icon:Si,text:"ULTRA+",colors:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",iconColor:"text-purple-200"};case"pro-monthly":return{icon:oe,text:"PRO",colors:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",iconColor:"text-yellow-200"};case"weekly":return{icon:oe,text:"PREMIUM",colors:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",iconColor:"text-blue-200"};default:return{icon:oe,text:"PREMIUM",colors:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",iconColor:"text-blue-200"}}},s=()=>{switch(e){case"sm":return"px-2 py-0.5 text-xs gap-1";case"lg":return"px-4 py-2 text-sm gap-2";default:return"px-3 py-1 text-xs gap-1.5"}},a=()=>{switch(e){case"sm":return"h-3 w-3";case"lg":return"h-5 w-5";default:return"h-4 w-4"}},o=r(),l=o.icon;return i.jsxs("div",{className:`inline-flex items-center rounded-full font-bold shadow-md ${o.colors} ${s()} ${n}`,children:[i.jsx(l,{className:`${a()} ${o.iconColor}`}),i.jsx("span",{children:o.text})]})}function G7({onFlairSend:t,onSuperEmoji:e,disabled:n=!1,isVisible:r=!0}){const[s,a]=y.useState([]),[o,l]=y.useState([]);y.useEffect(()=>{const h=setInterval(()=>{const f=Date.now();a(p=>p.filter(g=>f-g.timestamp<3e3)),l(p=>p.filter(g=>f-g.timestamp<4e3))},100);return()=>clearInterval(h)},[]);const c=()=>{if(n)return;const h=[];for(let f=0;f<8;f++)h.push({id:`flair-${Date.now()}-${f}`,x:Math.random()*80+10,y:Math.random()*60+20,timestamp:Date.now()});a(f=>[...f,...h]),t()},d=()=>{if(n)return;const h={id:`super-${Date.now()}`,timestamp:Date.now()};l(f=>[...f,h]),e()};return r?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F,{onClick:c,disabled:n,className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white p-3 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200",title:"Send Flaire ✨",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(gt,{className:"h-4 w-4"}),i.jsx(Kr,{className:"h-3 w-3"})]})}),i.jsx(F,{onClick:d,disabled:n,className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white p-3 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200",title:"Super Emoji 💫",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ci,{className:"h-4 w-4"}),i.jsx($i,{className:"h-3 w-3"})]})})]}),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:s.map(h=>i.jsx(K7,{x:h.x,y:h.y,timestamp:h.timestamp},h.id))}),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 flex items-center justify-center",children:o.map(h=>i.jsx(Y7,{timestamp:h.timestamp},h.id))})]}):null}function K7({x:t,y:e,timestamp:n}){const[r,s]=y.useState(!0);return y.useEffect(()=>{const a=setTimeout(()=>{s(!1)},2800);return()=>clearTimeout(a)},[]),r?i.jsx("div",{className:"absolute animate-ping",style:{left:`${t}%`,top:`${e}%`,animationDuration:"2s",animationIterationCount:"1"},children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-4xl animate-bounce",children:"💖"}),i.jsx("div",{className:"absolute -top-2 -left-2 text-xl animate-spin",children:"✨"}),i.jsx("div",{className:"absolute -bottom-2 -right-2 text-lg animate-pulse",children:"💫"}),i.jsx("div",{className:"absolute top-0 -right-3 text-sm animate-bounce",style:{animationDelay:"0.5s"},children:"🌟"}),i.jsx("div",{className:"absolute -top-6 left-2 text-sm animate-float",children:"💕"}),i.jsx("div",{className:"absolute -top-8 -left-4 text-xs animate-float",style:{animationDelay:"0.3s"},children:"💘"})]})}):null}function Y7({timestamp:t}){const[e,n]=y.useState(0);y.useEffect(()=>{const s=setTimeout(()=>n(1),500),a=setTimeout(()=>n(2),2e3);return()=>{clearTimeout(s),clearTimeout(a)}},[]);const r=()=>{switch(e){case 0:return"animate-zoom-in";case 1:return"animate-wiggle";case 2:return"animate-zoom-out";default:return""}};return i.jsxs("div",{className:`text-center ${r()}`,children:[i.jsx("div",{className:"text-8xl mb-4 filter drop-shadow-2xl",children:"🔥"}),i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent text-2xl font-bold mb-2 animate-pulse",children:"SUPER LIKE!"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-16 -left-16 text-3xl animate-spin",children:"🌟"}),i.jsx("div",{className:"absolute -top-20 left-16 text-2xl animate-bounce",children:"💫"}),i.jsx("div",{className:"absolute -top-12 -right-16 text-3xl animate-ping",children:"✨"}),i.jsx("div",{className:"absolute top-4 -left-20 text-xl animate-pulse",children:"💖"}),i.jsx("div",{className:"absolute top-8 right-20 text-xl animate-bounce",style:{animationDelay:"0.5s"},children:"💘"})]}),i.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((s,a)=>i.jsx("div",{className:"absolute w-2 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-particle",style:{left:`${50+Math.cos(a*30*Math.PI/180)*40}%`,top:`${50+Math.sin(a*30*Math.PI/180)*40}%`,animationDelay:`${a*.1}s`,animationDuration:"2s"}},a))})]})}function HS({lastSeen:t,isOnline:e=!1,username:n="User",isVisible:r=!0,className:s=""}){const[a,o]=y.useState("");return y.useEffect(()=>{if(!t||e)return;const l=()=>{const d=typeof t=="string"?new Date(t):t,f=Math.floor((new Date().getTime()-d.getTime())/1e3);if(f<60)o("just now");else if(f<3600){const p=Math.floor(f/60);o(`${p}m ago`)}else if(f<86400){const p=Math.floor(f/3600);o(`${p}h ago`)}else if(f<604800){const p=Math.floor(f/86400);o(`${p}d ago`)}else o("long time ago")};l();const c=setInterval(l,6e4);return()=>clearInterval(c)},[t,e]),r?i.jsx("div",{className:`flex items-center gap-2 text-sm ${s}`,children:e?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-green-600 font-medium",children:"Online now"})]}):i.jsxs(i.Fragment,{children:[i.jsx(vr,{className:"h-3 w-3 text-gray-400"}),i.jsxs("span",{className:"text-gray-500",children:["Last seen ",a]})]})}):null}class Q7{constructor(){se(this,"isSupported",!1);se(this,"isIOSDevice",!1);this.isSupported=this.checkSupport(),this.isIOSDevice=this.checkIOSDevice()}checkSupport(){return"vibrate"in navigator||"webkitVibrate"in navigator}checkIOSDevice(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}impact(e="medium"){if(this.isSupported)try{const n={light:[10],medium:[20],heavy:[30],selection:[5],impact:[15],notification:[10,50,10]},r=n[e]||n.medium;navigator.vibrate&&navigator.vibrate(r)}catch(n){console.warn("Haptic feedback failed:",n)}}success(){this.impact("notification")}error(){if(this.isSupported)try{navigator.vibrate&&navigator.vibrate([100,50,100])}catch(e){console.warn("Error haptic feedback failed:",e)}}buttonTap(){this.impact("light")}selectionChange(){this.impact("selection")}longPress(){this.impact("heavy")}swipe(){this.impact("medium")}premiumAction(){if(this.isSupported)try{navigator.vibrate&&navigator.vibrate([5,10,5,10,15])}catch(e){console.warn("Premium haptic feedback failed:",e)}}matchFound(){if(this.isSupported)try{navigator.vibrate&&navigator.vibrate([20,30,20,30,50])}catch(e){console.warn("Match found haptic feedback failed:",e)}}isHapticsSupported(){return this.isSupported}disable(){this.isSupported=!1}enable(){this.isSupported=this.checkSupport()}}const Xn=new Q7;function qS(){return{impact:t=>Xn.impact(t),success:()=>Xn.success(),error:()=>Xn.error(),buttonTap:()=>Xn.buttonTap(),selectionChange:()=>Xn.selectionChange(),longPress:()=>Xn.longPress(),swipe:()=>Xn.swipe(),premiumAction:()=>Xn.premiumAction(),matchFound:()=>Xn.matchFound(),isSupported:()=>Xn.isHapticsSupported(),disable:()=>Xn.disable(),enable:()=>Xn.enable()}}function Nl(){const t=Ge(),e=Di(),{isUltraPremium:n}=Nt(),{selectionChange:r}=qS(),[s,a]=y.useState(""),o=[{id:"home",path:"/",icon:US,label:"Home",color:"from-rose-400 to-pink-400"},{id:"chat",path:"/video-chat",icon:ar,label:"Chat",color:"from-pink-400 to-rose-400"},{id:"ai",path:"/ai-chatbot",icon:am,label:"AI Chat",color:"from-amber-400 to-orange-400"},{id:"friends",path:"/friends",icon:Re,label:"Friends",color:"from-orange-400 to-amber-400"},{id:"profile",path:"/profile",icon:Ii,label:"Profile",color:"from-rose-400 to-pink-400"}];y.useEffect(()=>{const c=o.find(d=>d.path===e.pathname||d.path!=="/"&&e.pathname.startsWith(d.path));a((c==null?void 0:c.id)||"home")},[e.pathname]);const l=c=>{r(),a(c.id),t(c.path)};return n()?i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 safe-area-bottom h-20 sm:h-18 md:h-20 lg:h-24 flex items-center",children:[i.jsx("div",{className:"absolute inset-0 bg-rose-50/95 border-t border-rose-200/50 shadow-2xl"}),i.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 animate-gradient-shift"}),i.jsx("div",{className:"relative px-4 py-3 sm:py-2 pb-safe",children:i.jsx("div",{className:"flex items-center justify-around px-2 py-4 sm:py-3",children:o.map((c,d)=>{const h=s===c.id,f=c.icon;return i.jsxs("button",{onClick:()=>l(c),className:`relative flex flex-col items-center gap-2 py-3 sm:py-2 px-3 sm:px-3 rounded-xl transition-all duration-200 touch-action-manipulation min-w-[64px] sm:min-w-[60px] min-h-[60px] sm:min-h-[56px] ${h?"scale-105":"scale-100 hover:scale-105 active:scale-95"}`,children:[h&&i.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${c.color} rounded-xl shadow-lg opacity-90`}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-1",children:[i.jsxs("div",{className:`relative p-2.5 sm:p-2 rounded-lg transition-all duration-200 min-h-[40px] min-w-[40px] flex items-center justify-center ${h?"bg-white/20":"hover:bg-gray-100 active:bg-gray-200"}`,children:[i.jsx(f,{className:`h-5 w-5 sm:h-5 sm:w-5 md:h-6 md:w-6 transition-all duration-200 ${h?"text-white":"text-amber-600"}`}),h&&i.jsx("div",{className:"absolute -top-0.5 -right-0.5",children:i.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),i.jsx("span",{className:`text-xs sm:text-xs md:text-sm font-medium transition-all duration-200 leading-none ${h?"text-white":"text-amber-600"}`,children:c.label})]})]},c.id)})})})]}):null}function Ga({children:t}){const{isUltraPremium:e}=Nt(),[n,r]=y.useState(!1);return e()?i.jsxs("div",{className:"ultra-page-wrapper",children:[i.jsx("div",{className:"fixed inset-2 border border-purple-200/50 rounded-3xl pointer-events-none z-10 shadow-2xl shadow-purple-500/5"}),i.jsx("div",{className:"relative z-20 min-h-screen",children:t}),n&&i.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-sm z-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-3 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("div",{className:"text-purple-700 font-semibold",children:"ULTRA+ Transition"})]})})]}):i.jsx(i.Fragment,{children:t})}function X7(){const{socket:t,mockMatching:e,isUsingMockMode:n}=em(),{isPremium:r,setPremium:s,isUltraPremium:a,isProMonthly:o}=Nt(),{coins:l,isLoading:c}=Tr(),{addFriend:d,canAddMoreFriends:h,friends:f}=BT();y.useEffect(()=>{Tl(a())},[r,a]);const p=Di(),[g,w]=y.useState(null),[j,T]=y.useState(!1),[b,v]=y.useState(null),[k,R]=y.useState(null),[D,O]=y.useState(null),[A,N]=y.useState(!1),[I,_]=y.useState([]),[P,S]=y.useState(!1),[C,G]=y.useState(!0),[de,je]=y.useState(!0),[le,B]=y.useState(!1),[Q,ne]=y.useState(!1),[ge,Ne]=y.useState(!1),[Ae,St]=y.useState(!1),[Yn,tt]=y.useState(null),[Ct,Tl]=y.useState(!1),[Ya,zi]=y.useState(!1),[dt,It]=y.useState(null),{currentFilter:At,isFilterActive:Yr,applyFilter:Bi}=q7(Yn),[Cs,Cn]=y.useState(!1),[In,Qa]=y.useState(null),[Sr,Hi]=y.useState(null),[An,Qr]=y.useState("Stranger"),[ht,Xa]=y.useState(!1),[z,me]=y.useState({show:!1,friendName:"",friendId:""}),[at,Fe]=y.useState(!1),[Ja,Za]=y.useState(!1),[qi,Sl]=y.useState(!1),[Vu,eo]=y.useState(!1),[cm,Cl]=y.useState(!1),[Il,Al]=y.useState(!1),{theme:$u}=F7(),qt=Ge(),{showOnVideoCallEnd:Pl,showOnNavigation:to}=V7({minTimeBetweenAds:120,maxAdsPerSession:6,showOnCallEnd:!0}),Cr=$u==="dark"?"#D1D5DB":"#4B5563";y.useEffect(()=>{const L=p.state;L!=null&&L.friendCall?(Xa(!0),Qr(L.friendName||"Friend"),setTimeout(()=>{alert("🎬 Enjoy your call! Another ad will show after the call ends.")},1e3)):L!=null&&L.isSearching&&(T(!0),t&&t.emit("find:match")),L!=null&&L.voiceOnly&&r&&(ne(!0),G(!1))},[p.state,r,t]),y.useEffect(()=>{const Y=setInterval(()=>{const ee=f.filter(xe=>xe.isOnline);if(ee.length>0&&Math.random()<.3){const xe=ee[Math.floor(Math.random()*ee.length)];me({show:!0,friendName:xe.name,friendId:xe.id})}},3e4);return()=>clearInterval(Y)},[f]),y.useCallback(L=>{console.log(`Processing payment for ${L} plan`);const Y=new Date,ee=new Date(Y);L==="weekly"?ee.setDate(Y.getDate()+7):ee.setMonth(Y.getMonth()+1),s(!0,ee,L),alert(`🎉 Welcome to Premium! Your ${L} subscription is now active until ${ee.toLocaleDateString()}`)},[s]);const{completeChat:Rl}=Tr(),Is=y.useCallback(()=>{g&&Rl()},[g,Rl]),Pn=y.useCallback(async()=>{if(!ht&&g){Is(),Cn(!0);return}g&&(Is(),a()||setTimeout(()=>{Pl()},1e3)),te.peer.getTransceivers().forEach(L=>{L.stop&&L.stop()}),te.peer.getSenders().forEach(L=>{L.track&&(L.track.stop(),te.peer.removeTrack(L))}),te.peer.onicecandidate=null,te.peer.ontrack=null,te.peer.onnegotiationneeded=null,te.peer.signalingState!=="closed"&&te.peer.close(),te.initPeer(),_([]),N(!1),R(null),w(null),t==null||t.emit("skip")},[t,ht,g,Is]),Wi=y.useCallback(()=>{ht?(alert("🎬 Thanks for using AjnabiCam! Here's your post-call ad."),Pn()):Cn(!0)},[ht,Pn]),Ol=y.useCallback(()=>{qt("/premium")},[qt]),Pt=y.useCallback(L=>{if(Hi(L),L){if(!h){Cn(!1),qt("/premium");return}t==null||t.emit("stay:connected:response",{targetChatToken:g,wantToStay:!0})}else t==null||t.emit("stay:connected:response",{targetChatToken:g,wantToStay:!1}),Cn(!1),Pn()},[h,g,t,Pn]),zu=L=>{var Y;me({show:!1,friendName:"",friendId:""}),qt("/video-chat",{state:{friendCall:!0,friendId:L,friendName:((Y=f.find(ee=>ee.id===L))==null?void 0:Y.name)||"Friend"}})},Ir=y.useCallback(async()=>{try{const L=await navigator.mediaDevices.getUserMedia({video:!Q,audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,sampleSize:16,channelCount:2}});return v(L),L}catch(L){console.error("Error getting user media:",L);try{const Y=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0});return v(Y),Y}catch(Y){throw console.error("Fallback media access also failed:",Y),Y}}},[Q]);y.useEffect(()=>{b||Ir()},[Ir,b]),y.useEffect(()=>{if(j&&!g&&!ht){if(t&&!n)console.log("Socket connected, finding match..."),t.emit("find:match");else{console.log("Using mock matching service...");const Y="user_"+Math.random().toString(36).substr(2,9);e.findMatch(Y,ee=>{console.log("Mock match found:",ee),w(ee),Ne(!1),T(!1),Yg("match"),Fe(!0),Qr("Demo Partner"),m0.simulateConnection(xe=>{R(xe)})})}const L=setTimeout(()=>{j&&!g&&(T(!1),alert("No matches found at the moment. Please try again!"),qt("/"))},3e4);return()=>clearTimeout(L)}},[t,n,e,j,g,ht,qt]);const Gi=y.useCallback(async()=>{if(!r){qt("/premium");return}try{if(Q){const Y=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];b==null||b.addTrack(Y);const ee=te.peer.getSenders().find(xe=>{var On;return((On=xe.track)==null?void 0:On.kind)==="video"});ee&&await ee.replaceTrack(Y),G(!0),ne(!1)}else{const L=b==null?void 0:b.getVideoTracks()[0];if(L){L.stop(),b==null||b.removeTrack(L);const Y=te.peer.getSenders().find(ee=>{var xe;return((xe=ee.track)==null?void 0:xe.kind)==="video"});Y&&await Y.replaceTrack(null)}G(!1),ne(!0)}}catch(L){console.error("Error toggling voice-only mode:",L)}},[r,Q,b]),um=y.useCallback(async()=>{if(b)try{const L=b.getVideoTracks()[0],Y=te.peer.getSenders().find(ee=>{var xe;return((xe=ee.track)==null?void 0:xe.kind)==="video"});if(C)L&&(L.stop(),b.removeTrack(L)),Y&&await Y.replaceTrack(null);else{const xe=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];b.addTrack(xe),Y&&await Y.replaceTrack(xe)}G(!C)}catch(L){console.error("Error toggling camera:",L)}},[b,C]),dm=y.useCallback(async()=>{if(b)try{const L=b.getAudioTracks()[0],Y=te.peer.getSenders().find(ee=>{var xe;return((xe=ee.track)==null?void 0:xe.kind)==="audio"});if(de)L&&(L.stop(),b.removeTrack(L)),Y&&await Y.replaceTrack(null);else{const xe=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0];b.addTrack(xe),Y&&await Y.replaceTrack(xe)}je(!de)}catch(L){console.error("Error toggling mic:",L)}},[b,de]),Rn=y.useCallback(()=>{if(b){const L=b.getVideoTracks()[0],Y=b.getAudioTracks()[0],ee=te.peer.getSenders();L&&(ee.find(On=>On.track===L)||te.peer.addTrack(L,b)),Y&&(ee.find(On=>On.track===Y)||te.peer.addTrack(Y,b))}},[b]),hm=y.useCallback(async()=>{try{if(P){const L=b==null?void 0:b.getVideoTracks()[0],Y=te.peer.getSenders().find(ee=>{var xe;return((xe=ee.track)==null?void 0:xe.kind)==="video"});if(L&&Y&&await Y.replaceTrack(L),D==null||D.getTracks().forEach(ee=>ee.stop()),O(null),S(!1),te.peer.signalingState==="stable"){const ee=await te.getOffer();t==null||t.emit("peer:nego:needed",{offer:ee,targetChatToken:g})}}else{const L=await navigator.mediaDevices.getDisplayMedia({video:!0});O(L),S(!0);const Y=L.getVideoTracks()[0],ee=te.peer.getSenders().find(xe=>{var On;return((On=xe.track)==null?void 0:On.kind)==="video"});if(ee?await ee.replaceTrack(Y):te.peer.addTrack(Y,L),te.peer.signalingState==="stable"){const xe=await te.getOffer();t==null||t.emit("peer:nego:needed",{offer:xe,targetChatToken:g})}}}catch(L){console.error("Error sharing screen:",L)}},[P,b,D,g,t]),Bu=L=>{const Y=L.getSenders().find(ee=>ee.track&&ee.track.kind==="audio");if(Y){const ee=Y.getParameters();ee.encodings&&ee.encodings[0]&&(ee.encodings[0].maxBitrate=128e3,Y.setParameters(ee))}},As=y.useCallback(async L=>{if(console.log("Match found:",L),w(L),Ne(!1),T(!1),Yg("match"),Fe(!0),n||L.startsWith("bot_"))console.log("🤖 Using mock WebRTC connection"),Qr("Demo Partner"),m0.simulateConnection(Y=>{R(Y)});else{const Y=await te.getOffer();t==null||t.emit("offer",{offer:Y,to:L})}},[t,n]),no=y.useCallback(async({offer:L,from:Y})=>{if(w(Y),await Ir(),te.peer.signalingState==="stable"){const ee=await te.getAnswer(L);Bu(te.peer),t==null||t.emit("answer",{answer:ee,to:Y}),Rn()}else console.warn("Cannot handle incoming offer in signaling state:",te.peer.signalingState)},[Ir,t,Rn]),Ki=y.useCallback(async({answer:L})=>{te.peer.signalingState==="have-local-offer"?(await te.setRemoteDescription(L),Rn()):console.warn("Peer not in a proper state to set remote description.")},[Rn]),ro=L=>L.replace(/a=fmtp:111 .*opus.*/,"a=fmtp:111 maxplaybackrate=48000;stereo=1;sprop-stereo=1;maxaveragebitrate=510000;useinbandfec=1"),Qn=y.useCallback(async()=>{if(te.peer.signalingState==="stable"){const L=await te.getOffer();if(L&&L.sdp){const Y=ro(L.sdp),ee=new RTCSessionDescription({type:L.type,sdp:Y});Bu(te.peer),t==null||t.emit("peer:nego:needed",{offer:ee,targetChatToken:g})}}else console.warn("Peer is not in a stable state for negotiation.")},[g,t]),so=y.useCallback(async({offer:L,from:Y})=>{if(te.peer.signalingState==="stable"||te.peer.signalingState==="have-local-offer"){const ee=await te.getAnswer(L);t==null||t.emit("peer:nego:done",{answer:ee,to:Y})}else console.warn("Cannot handle negotiation in state:",te.peer.signalingState)},[t]),io=y.useCallback(async({answer:L})=>{te.peer.signalingState==="have-local-offer"||te.peer.signalingState==="have-remote-offer"?(await te.setRemoteDescription(L),Rn()):te.peer.signalingState==="stable"?console.log("Connection is stable, no need for further negotiation."):console.warn("Cannot set remote description: Peer connection is in state",te.peer.signalingState)},[Rn]);y.useEffect(()=>(A!==!0&&(te.peer.addEventListener("negotiationneeded",Qn),N(!1)),()=>{te.peer.removeEventListener("negotiationneeded",Qn)}),[A,Qn]),y.useEffect(()=>{const L=Y=>{const[ee]=Y.streams;R(ee)};return te.peer.addEventListener("track",L),()=>{te.peer.removeEventListener("track",L)}},[]);const Ar=y.useCallback(async()=>{N(!0),te.peer.getTransceivers().forEach(L=>{L.stop&&L.stop()}),te.peer.getSenders().forEach(L=>{te.peer.removeTrack(L)}),te.peer.onicecandidate=null,te.peer.ontrack=null,te.peer.onnegotiationneeded=null,te.peer.signalingState!=="closed"&&te.peer.close(),R(null),w(null),Ne(!1),te.initPeer(),_([])},[]);y.useEffect(()=>(t==null||t.on("skipped",Ar),()=>{t==null||t.off("skipped",Ar)}),[t,Ar]),y.useEffect(()=>{te.peer.onicecandidate=L=>{L.candidate&&(t==null||t.emit("ice-candidate",{candidate:L.candidate,to:g}))}},[t,g]),y.useEffect(()=>(t==null||t.on("ice-candidate",L=>{if(L.candidate){const Y=new RTCIceCandidate(L.candidate);te.peer.addIceCandidate(Y).then(()=>{console.log("Added ICE candidate:",Y)}).catch(ee=>{console.error("Error adding ICE candidate:",ee)})}}),()=>{t==null||t.off("ice-candidate")}),[t]),y.useEffect(()=>(t==null||t.on("stay:connected:response",async({wantToStay:L,from:Y})=>{Qa(L),Sr===!0&&L===!0?(await d(Y,An,`https://images.pexels.com/photos/${Math.floor(Math.random()*1e6)}/pexels-photo.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop`)?alert(`🎉 You and ${An} are now friends! You can find them in your Friends list.`):(alert(`❌ Couldn't add ${An} as friend. You've reached the free limit of 3 friends. Upgrade to Premium for unlimited friends!`),qt("/premium")),Cn(!1),Pn()):Sr!==null&&(Cn(!1),Pn())}),t==null||t.on("stay:connected:request",({wantToStay:L,from:Y})=>{L&&Cn(!0)}),()=>{t==null||t.off("stay:connected:response"),t==null||t.off("stay:connected:request")}),[t,Sr,An,d,Pn]),y.useEffect(()=>(t==null||t.on("user:connect",As),t==null||t.on("offer",no),t==null||t.on("answer",Ki),t==null||t.on("peer:nego:needed",so),t==null||t.on("peer:nego:final",io),t==null||t.on("partnerDisconnected",Ar),t==null||t.on("partner:premium:status",({isPremium:L})=>{Ne(L)}),t==null||t.on("premium:reaction",({type:L})=>{L==="flair"?console.log("Partner sent a flair! ✨"):L==="super_emoji"&&console.log("Partner sent a super emoji! 🔥")}),t==null||t.on("partner:last_seen",({lastSeen:L})=>{(a()||o())&&It(new Date(L))}),()=>{t==null||t.off("user:connect",As),t==null||t.off("offer",no),t==null||t.off("answer",Ki),t==null||t.off("peer:nego:needed",so),t==null||t.off("peer:nego:final",io),t==null||t.off("partnerDisconnected",Ar),t==null||t.off("partner:premium:status"),t==null||t.off("premium:reaction"),t==null||t.off("partner:last_seen")}),[Ki,no,io,so,As,t,Ar]),y.useEffect(()=>{g&&t&&t.emit("send:premium:status",{isPremium:r,targetChatToken:g})},[r,g,t]);const Ml=y.useCallback(()=>{try{b&&(b.getTracks().forEach(L=>{L.stop()}),v(null)),D&&(D.getTracks().forEach(L=>{L.stop()}),O(null),S(!1)),k&&(k.getTracks().forEach(L=>{L.stop()}),R(null)),te.peer&&te.peer.signalingState!=="closed"&&(te.peer.close(),te.initPeer()),g&&!a()&&setTimeout(()=>{to("home")},500)}catch(L){console.error("Error during cleanup:",L)}finally{qt("/")}},[b,qt,D,k,g,to]),Dl=L=>{const Y=Number(localStorage.getItem(`ajnabicam_reports_${g}`)||0)+1;localStorage.setItem(`ajnabicam_reports_${g}`,String(Y)),Sl(!0),Fe(!1),Za(!1),Y>=20&&(localStorage.setItem("ajnabicam_suspend_until",String(Date.now()+24*60*60*1e3)),eo(!0)),Y<20&&alert("You have been reported. Please follow decency guidelines or your account may be suspended."),setTimeout(()=>Sl(!1),2e3)},Hu=()=>{if(g){let L=JSON.parse(localStorage.getItem("ajnabicam_blocked")||"[]");L.includes(g)||(L.push(g),localStorage.setItem("ajnabicam_blocked",JSON.stringify(L))),Al(!0),Cl(!1),setTimeout(()=>Al(!1),2e3)}},fm=y.useCallback(()=>{!(a()||o())||!g||t==null||t.emit("premium:reaction",{type:"flair",targetChatToken:g})},[a,o,g,t]),ao=y.useCallback(()=>{!(a()||o())||!g||t==null||t.emit("premium:reaction",{type:"super_emoji",targetChatToken:g})},[a,o,g,t]);return y.useEffect(()=>{JSON.parse(localStorage.getItem("ajnabicam_blocked")||"[]").includes(g)&&(alert("You have blocked this user. You will not be matched with them again."),Pn())},[g,Pn]),y.useEffect(()=>{const L=localStorage.getItem("ajnabicam_suspend_until");L&&Date.now()<Number(L)&&eo(!0)},[]),Vu?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:i.jsxs("div",{className:"bg-rose-100 border border-rose-300 rounded-2xl p-8 shadow-xl flex flex-col items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-rose-600 mb-4",children:"Account Suspended"}),i.jsx("p",{className:"text-rose-500 text-center mb-4",children:"Your account has been suspended for 24 hours due to excessive amounts of reports."}),i.jsx("p",{className:"text-xs text-rose-400",children:"Please try again later."})]})}):i.jsx(Ga,{children:i.jsxs("div",{className:`relative min-h-screen w-full ${a()?"max-w-full":"max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl xl:max-w-4xl"} mx-auto ${a()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-white"} flex flex-col items-center justify-between overflow-y-auto`,children:[i.jsx("div",{className:`w-full ${a()?"bg-gradient-to-r from-purple-600/95 via-pink-600/95 to-purple-700/95 backdrop-blur-lg":"bg-white"} shadow-sm px-3 sm:px-4 lg:px-6 py-3 sm:py-4 z-20 border-b ${a()?"border-purple-300/50":"border-pink-100"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(F,{variant:"ghost",className:`rounded-full p-2 ${a()?"hover:bg-white/20 text-white":"hover:bg-rose-50"}`,onClick:Ml,children:i.jsx(Sn,{size:22,className:a()?"text-white":"text-rose-500"})}),i.jsx("div",{className:"flex-1 flex justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:`font-bold text-xl tracking-wide ${a()?"text-white drop-shadow-lg":"text-rose-600"}`,children:a()?"AjnabiCam ULTRA+":"AjnabiCam"}),a()&&i.jsx(bp,{plan:"ultra-quarterly",size:"sm"}),o()&&i.jsx(bp,{plan:"pro-monthly",size:"sm"}),r&&!a()&&!o()&&i.jsx(bp,{plan:"weekly",size:"sm"})]}),ht&&i.jsx("span",{className:`text-xs font-medium ${a()?"text-green-300":"text-green-600"}`,children:"Friend Call"})]})}),i.jsxs(F,{onClick:()=>B(!0),disabled:c,className:`${a()?"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600":"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700"} text-white font-semibold px-3 py-2 rounded-full shadow-md`,children:[i.jsx(Ti,{className:"h-4 w-4 mr-1"}),c?"...":l]})]})}),!ht&&i.jsx("div",{className:"w-full px-4 py-2",children:i.jsx(T7,{isPremium:r,isConnected:g!==null,partnerPremium:ge,onTimeUp:Wi,onUpgrade:Ol,isUltraPremium:a()})}),i.jsxs("div",{className:`flex-1 flex flex-col w-full px-2 pb-32 pt-2 gap-2 ${a()?"max-w-6xl mx-auto":""}`,children:[i.jsxs("div",{className:`w-full h-[42vh] rounded-2xl shadow-xl ${a()?"bg-gradient-to-br from-purple-100 via-pink-50 to-purple-100 border-2 border-purple-200/50":"bg-gradient-to-br from-peach-100 via-cream-50 to-blush-100 border-2 border-peach-200/50"} overflow-hidden relative flex items-center justify-center`,children:[k?Q?i.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-blue-400 to-teal-400",children:[i.jsx("div",{className:"text-5xl mb-2",children:"🎙️"}),i.jsxs("p",{className:"text-white text-base font-semibold drop-shadow",children:[An,"'s Voice"]}),ht&&i.jsx("div",{className:"mt-2 bg-green-500 px-3 py-1 rounded-full",children:i.jsx("span",{className:"text-white text-sm font-bold",children:"Friend"})}),Yr&&i.jsx("div",{className:"mt-2 bg-purple-500 px-3 py-1 rounded-full",children:i.jsxs("span",{className:"text-white text-sm font-bold",children:["Filter: ",At==null?void 0:At.name]})})]}):i.jsx(s1,{className:"w-full h-full object-cover",url:k,playing:!0,muted:!1,width:"100%",height:"100%",onReady:()=>{const L=document.querySelector('video[src*="blob:"]');L&&tt(L)}}):i.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-rose-100 to-pink-100",children:[i.jsx(x1,{color:Cr,size:35}),i.jsx("p",{className:"text-gray-600 mt-3 text-sm font-medium",children:j?"🔍 Finding your perfect match...":ht?`📞 Calling ${An}...`:"��� Waiting for connection..."}),j&&i.jsxs("div",{className:"mt-3 flex flex-col items-center",children:[i.jsxs("div",{className:"flex space-x-1 mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center px-4",children:"Finding someone special just for you..."})]})]}),ht&&k&&i.jsx("div",{className:"absolute top-3 left-3 bg-green-500 px-2 py-1 rounded-full z-30",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"👥 Friend Call"})}),(a()||o())&&k&&!ht&&i.jsx("div",{className:"absolute bottom-3 right-3 bg-black/50 backdrop-blur-sm px-2 py-1 rounded-lg z-30",children:i.jsx(HS,{lastSeen:dt||void 0,isOnline:!0,username:An,isVisible:!0,className:"text-white text-xs"})}),Yr&&k&&i.jsx("div",{className:"absolute top-3 right-3 bg-purple-500 px-2 py-1 rounded-full z-30 flex items-center gap-1",children:i.jsxs("span",{className:"text-white text-xs font-bold",children:[At==null?void 0:At.icon," ",At==null?void 0:At.name]})}),k&&!Q&&i.jsxs("div",{className:"absolute bottom-3 left-3 z-30",children:[i.jsx(F,{onClick:()=>St(!0),className:`p-2 rounded-full shadow-lg transition-all duration-200 ${Ct?Yr?"bg-purple-500 hover:bg-purple-600 text-white":"bg-white/90 hover:bg-white text-purple-500":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!Ct,children:i.jsx("span",{className:"text-base",children:"🎭"})}),!Ct&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 rounded-full p-1",children:i.jsx(oe,{className:"w-3 h-3 text-white"})})]})]}),i.jsxs("div",{className:`w-full h-[42vh] rounded-2xl shadow-xl ${a()?"bg-gradient-to-br from-pink-100 via-purple-50 to-pink-100 border-2 border-pink-200/50":"bg-gradient-to-br from-coral-100 via-peach-50 to-blush-100 border-2 border-coral-200/50"} overflow-hidden relative flex items-center justify-center`,children:[b&&!Q?i.jsx(s1,{className:"w-full h-full object-cover",url:b,playing:!0,muted:!0,width:"100%",height:"100%"}):b&&Q?i.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-purple-400 to-pink-400",children:[i.jsx("div",{className:"text-5xl mb-2",children:"🎙️"}),i.jsx("p",{className:"text-white text-base font-semibold drop-shadow",children:"Your Voice"}),r&&i.jsxs("div",{className:"flex items-center gap-1 bg-yellow-400 px-2 py-1 rounded-full text-xs font-bold text-white mt-2",children:[i.jsx(oe,{className:"h-3 w-3"})," PREMIUM"]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gradient-to-br from-coral-100 to-rose-100",children:[i.jsx(x1,{color:Cr,size:30}),i.jsx("p",{className:"text-gray-600 mt-2 text-xs font-medium",children:"Setting up your camera..."})]}),i.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 rounded-full z-30 ${a()?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-coral-500"}`,children:i.jsx("span",{className:"text-white text-xs font-bold",children:a()?"👑 ULTRA+":"📷 You"})}),i.jsx("div",{className:"absolute top-3 right-3 z-30",children:i.jsx("div",{className:`p-1 rounded-full ${C?"bg-green-500":"bg-red-500"}`,children:C?i.jsx(Ai,{className:"w-3 h-3 text-white"}):i.jsx(m1,{className:"w-3 h-3 text-white"})})}),i.jsx("div",{className:"absolute bottom-3 right-3 z-30",children:i.jsx("div",{className:`p-1 rounded-full ${de?"bg-green-500":"bg-red-500"}`,children:de?i.jsx(pu,{className:"w-3 h-3 text-white"}):i.jsx(d1,{className:"w-3 h-3 text-white"})})})]})]}),i.jsxs("div",{className:`fixed bottom-0 left-0 w-full z-40 flex flex-col items-center pb-4 ${a()?"max-w-full":"max-w-md"} mx-auto`,children:[i.jsxs("div",{className:`w-full max-w-md mx-auto flex flex-row justify-center items-center gap-2 ${a()?"bg-gradient-to-r from-white/95 via-purple-50/95 to-pink-50/95 backdrop-blur-lg border border-purple-200/50":"bg-white border border-pink-100"} rounded-2xl shadow-2xl px-3 py-2`,children:[i.jsxs(F,{className:"flex-1 mx-1 p-3 bg-rose-500 text-white rounded-xl text-lg font-bold shadow-md",onClick:Pn,disabled:g===null,children:[i.jsx(v7,{size:22}),i.jsx("span",{className:"ml-2",children:ht?"End":"Skip"})]}),i.jsx(F,{className:`flex-1 mx-1 p-3 rounded-xl text-lg font-bold shadow-md flex items-center justify-center ${C?"bg-gray-200 text-rose-500":"bg-rose-500 text-white"}`,onClick:um,children:C?i.jsx(Ai,{size:22}):i.jsx(m1,{size:22})}),i.jsx(F,{className:`flex-1 mx-1 p-3 rounded-xl text-lg font-bold shadow-md flex items-center justify-center ${de?"bg-gray-200 text-rose-500":"bg-rose-500 text-white"}`,onClick:dm,children:de?i.jsx(pu,{size:22}):i.jsx(d1,{size:22})}),i.jsx(F,{className:"flex-1 mx-1 p-3 bg-fuchsia-500 text-white rounded-xl text-lg font-bold shadow-md",onClick:hm,children:i.jsx(y7,{size:22})})]}),r&&g&&i.jsx("div",{className:"w-full flex justify-center mt-2",children:i.jsxs(F,{className:`px-6 py-2 rounded-xl font-semibold shadow-md ${Q?"bg-purple-500 text-white":"bg-white text-purple-500 border border-purple-300"}`,onClick:Gi,children:[i.jsx(p7,{className:"h-4 w-4 mr-2"}),Q?"Switch to Video":"Voice Only"]})}),(a()||o())&&g&&i.jsx("div",{className:"w-full flex justify-center mt-2",children:i.jsx(G7,{onFlairSend:fm,onSuperEmoji:ao,disabled:!g,isVisible:!0})}),!ht&&i.jsxs("div",{className:"w-full flex flex-row justify-center gap-2 mt-2",children:[i.jsx(F,{className:"bg-gray-100 text-gray-700 font-semibold rounded-xl px-6 py-2",onClick:()=>Cl(!0),children:"Block"}),i.jsx(F,{className:"bg-rose-100 text-rose-700 font-semibold rounded-xl px-6 py-2",onClick:()=>Fe(!0),children:"Report"})]})]}),z.show&&i.jsx(A7,{friendName:z.friendName,onCall:()=>zu(z.friendId),onDismiss:()=>me({show:!1,friendName:"",friendId:""})}),i.jsx(zS,{isOpen:le,onClose:()=>B(!1)}),i.jsx(W7,{isOpen:Ae,onClose:()=>St(!1),onFilterSelect:L=>{Bi(L),St(!1)},currentFilter:At,isUltraPremium:Ct,onUpgrade:Ol}),i.jsx(I7,{isOpen:Cs,onClose:()=>Cn(!1),onStayConnected:Pt,partnerName:An}),i.jsx(p1,{isOpen:at,onClose:()=>Fe(!1),onSubmit:Dl}),i.jsx(p1,{isOpen:Ja,onClose:()=>Za(!1),onSubmit:Dl}),i.jsx(C7,{isOpen:cm,onClose:()=>Cl(!1),onBlock:Hu}),qi&&i.jsx("div",{className:"fixed bottom-32 left-1/2 -translate-x-1/2 bg-green-100 text-green-700 px-4 py-2 rounded-full shadow-lg z-50",children:"Thank you for your report."}),Il&&i.jsx("div",{className:"fixed bottom-40 left-1/2 -translate-x-1/2 bg-rose-100 text-rose-700 px-4 py-2 rounded-full shadow-lg z-50",children:"User blocked. You won't be matched again."})]})})}async function om(){try{console.log("🔍 Testing Firebase Storage connection...");const t=Ba(Un,"connection-test/test.txt"),e=new Blob(["Firebase Storage connection test"],{type:"text/plain"});await za(t,e),console.log("✅ Write operation successful");const n=await ki(t);return console.log("✅ Read operation successful",n),await by(t),console.log("✅ Delete operation successful"),{isConnected:!0,status:"success",message:"Firebase Storage is connected and working perfectly!",details:{canRead:!0,canWrite:!0,canDelete:!0}}}catch(t){console.error("❌ Firebase Storage connection test failed:",t);let e="Firebase Storage connection failed",n={canRead:!1,canWrite:!1,canDelete:!1,error:t.message};switch(t.code){case"storage/unauthorized":e="Unauthorized: Check Firebase Storage security rules";break;case"storage/quota-exceeded":e="Storage quota exceeded";break;case"storage/unauthenticated":e="Not authenticated: User authentication required";break;case"storage/retry-limit-exceeded":e="Connection timeout: Check network and Firebase configuration";break;case"storage/invalid-url":e="Invalid storage URL: Check Firebase configuration";break;case"storage/no-default-bucket":e="No default storage bucket configured";break;default:t.message.includes("CORS")?e="CORS error: Configure CORS for your storage bucket":t.message.includes("network")&&(e="Network error: Check internet connection")}return{isConnected:!1,status:"error",message:e,details:n}}}async function J7(t=3){let e;for(let n=1;n<=t;n++){if(console.log(`🔄 Connection test attempt ${n}/${t}`),e=await om(),e.isConnected)return e;if(n<t){const r=Math.pow(2,n)*1e3;console.log(`⏳ Waiting ${r}ms before retry...`),await new Promise(s=>setTimeout(s,r))}}return e}function Z7(){try{return{bucket:Un.app.options.storageBucket,projectId:Un.app.options.projectId,apiKey:Un.app.options.apiKey?"***"+Un.app.options.apiKey.slice(-4):"Not set",authDomain:Un.app.options.authDomain}}catch(t){return{error:"Failed to get storage configuration",details:t}}}async function e$(t){try{const e=Ba(Un,`test-uploads/test_${Date.now()}_${t.name}`);await za(e,t);const n=await ki(e);return await by(e),{isConnected:!0,status:"success",message:`Successfully uploaded and cleaned up test file: ${t.name}`,details:{canRead:!0,canWrite:!0,canDelete:!0,url:n}}}catch(e){return{isConnected:!1,status:"error",message:`File upload test failed: ${e.message}`,details:{canRead:!1,canWrite:!1,canDelete:!1,error:e.message}}}}function t$({onComplete:t}){var a;const[e,n]=y.useState(!0);console.log("SplashScreen rendered");const[r,s]=y.useState({isTestingConnection:!1,connectionResult:null,showConnectionTest:!1});return y.useEffect(()=>{const o=setTimeout(()=>{s(c=>({...c,isTestingConnection:!0,showConnectionTest:!0})),om().then(c=>{s(d=>({...d,isTestingConnection:!1,connectionResult:c}))}).catch(c=>{s(d=>({...d,isTestingConnection:!1,connectionResult:{isConnected:!1,status:"error",message:"Connection test failed",details:{canRead:!1,canWrite:!1,canDelete:!1,error:c.message}}}))})},1e3),l=setTimeout(()=>{console.log("SplashScreen: hiding splash after timeout"),n(!1),setTimeout(()=>{console.log("SplashScreen: calling onComplete"),t()},300)},2e3);return()=>{clearTimeout(l),clearTimeout(o)}},[t]),e?i.jsx("div",{style:{background:"linear-gradient(to bottom right, #ffd1a3, #fff0c4, #ffb3b3)",transition:"opacity 0.5s"},className:`fixed inset-0 z-50 flex items-center justify-center px-4 sm:px-6 lg:px-8 ${e?"opacity-100":"opacity-0"}`,children:i.jsxs("div",{className:"flex flex-col items-center justify-center animate-fade-in max-w-lg w-full",children:[i.jsxs("div",{className:"relative mb-4 sm:mb-6 lg:mb-8 transform hover:scale-105 transition-transform duration-300",children:[i.jsx("img",{src:"/splash-image.png",alt:"AjnabiCam Splash",className:"w-64 sm:w-72 md:w-80 lg:w-96 h-auto rounded-2xl sm:rounded-3xl shadow-2xl max-w-full"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl sm:rounded-3xl"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-4 sm:mt-6",children:[i.jsx("div",{style:{backgroundColor:"#ff9a56"},className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full animate-bounce shadow-lg"}),i.jsx("div",{style:{backgroundColor:"#ff6b6b",animationDelay:"0.1s"},className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full animate-bounce shadow-lg"}),i.jsx("div",{style:{backgroundColor:"#ff6b6b",animationDelay:"0.2s"},className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full animate-bounce shadow-lg"})]}),i.jsx("p",{style:{color:"#e55a1b"},className:"text-base sm:text-lg lg:text-xl font-medium mt-3 sm:mt-4 animate-pulse text-center px-4",children:"💕 Finding your perfect match..."}),r.showConnectionTest&&i.jsxs("div",{className:"mt-4 sm:mt-6 bg-white/90 backdrop-blur-sm rounded-xl p-3 sm:p-4 shadow-xl border border-passion-200 w-full max-w-sm mx-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx(Fu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-passion-600 flex-shrink-0"}),i.jsx("span",{className:"font-semibold text-romance-800 text-sm sm:text-base",children:"Firebase Storage"}),r.isTestingConnection?i.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 ml-auto",children:[i.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-passion-300 border-t-passion-600 rounded-full animate-spin"}),i.jsx("span",{className:"text-xs sm:text-sm text-romance-700",children:"Testing..."})]}):r.connectionResult?i.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2 ml-auto",children:r.connectionResult.isConnected?i.jsxs(i.Fragment,{children:[i.jsx(Lr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"}),i.jsx($S,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"}),i.jsx("span",{className:"text-xs sm:text-sm text-green-700 font-medium",children:"Connected"})]}):i.jsxs(i.Fragment,{children:[i.jsx(cs,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-600"}),i.jsx("span",{className:"text-xs sm:text-sm text-red-700 font-medium",children:"Failed"})]})}):null]}),r.connectionResult&&i.jsx("p",{className:`text-xs sm:text-sm mt-2 ${r.connectionResult.isConnected?"text-green-600":"text-red-600"}`,children:r.connectionResult.message}),((a=r.connectionResult)==null?void 0:a.details)&&!r.isTestingConnection&&i.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 mt-2 text-xs",children:[i.jsxs("span",{className:`flex items-center gap-1 ${r.connectionResult.details.canWrite?"text-green-600":"text-red-600"}`,children:[r.connectionResult.details.canWrite?"✓":"✗"," ","Write"]}),i.jsxs("span",{className:`flex items-center gap-1 ${r.connectionResult.details.canRead?"text-green-600":"text-red-600"}`,children:[r.connectionResult.details.canRead?"✓":"✗"," ","Read"]}),i.jsxs("span",{className:`flex items-center gap-1 ${r.connectionResult.details.canDelete?"text-green-600":"text-red-600"}`,children:[r.connectionResult.details.canDelete?"✓":"✗"," ","Delete"]})]})]})]})}):null}const kl=y.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:Ts("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));kl.displayName="Input";const WS=y.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:Ts("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));WS.displayName="Textarea";const GS=y.createContext(null),Yy=()=>{const t=y.useContext(GS);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},y1={en:{"app.name":"AjnabiCam: Love Connects","app.tagline":"Where Every Connection Sparks a Story ✨","onboarding.welcome":"Welcome to AjnabiCam","onboarding.subtitle":"Set up your profile to get started","onboarding.username":"Username","onboarding.username.placeholder":"Enter your username","onboarding.gender":"Gender","onboarding.gender.male":"Male","onboarding.gender.female":"Female","onboarding.language":"Language","onboarding.continue":"Continue","onboarding.skip":"Skip for now","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"Find Your Match 💕","home.features.hd":"HD Video","home.features.secure":"Safe & Private","home.features.instant":"Instant Spark","nav.home":"Home","nav.chat":"Chat","nav.friends":"Friends","nav.voice":"Voice","nav.profile":"Profile","profile.title":"Profile","profile.premium.active":"Premium Active","profile.premium.enjoying":"Enjoying all premium features! ✨","profile.premium.upgrade":"Upgrade to Premium","profile.premium.unlock":"Unlock exclusive features and enhanced experience!","profile.premium.features.gender":"✓ Gender Filter","profile.premium.features.voice":"✓ Voice Mode","profile.premium.features.unlimited":"✓ Unlimited Time","profile.username":"Username","profile.addPhoto":"Add Photo","profile.referral.title":"Referral Rewards","profile.referral.id":"Your Referral ID","profile.referral.copy":"Copy","profile.referral.reward":"🎁 Refer 1 friend successfully = 24h Premium FREE!","profile.referral.share":"Share your code and both you and your friend get premium benefits","profile.settings":"Settings","profile.settings.privacy":"Privacy Settings","profile.settings.notifications":"Notification Preferences","profile.settings.account":"Account Settings","profile.settings.language":"Language Settings","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.save":"Save","common.back":"Back"},hi:{"app.name":"अजनबीकैम","app.tagline":"अजनबियों से तुरंत जुड़ें","onboarding.welcome":"अजनबीकैम में आपका स्वागत है","onboarding.subtitle":"शुरू करने के लिए अपनी प्रोफ़ाइल सेट करें","onboarding.username":"उपयोगकर्ता नाम","onboarding.username.placeholder":"अपना उपयोगकर्ता नाम दर्ज ��रें","onboarding.gender":"लिंग","onboarding.gender.male":"पुरुष","onboarding.gender.female":"महिला","onboarding.language":"भाषा","onboarding.continue":"जारी रखें","onboarding.skip":"अभी छोड़ें","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"चैट शुरू करें","home.features.hd":"HD वीडियो","home.features.secure":"सुरक्षित","home.features.instant":"तुरंत","nav.home":"होम","nav.chat":"चैट","nav.friends":"दोस्त","nav.voice":"आवाज़","nav.profile":"प्रोफ़ाइल","profile.title":"प्रोफ़ाइल","profile.premium.active":"प्���ीमियम सक्रिय","profile.premium.enjoying":"सभी प्रीमियम सुविधाओं का आनंद ले रहे हैं! ✨","profile.premium.upgrade":"प्रीमियम में अपग्रेड करें","profile.premium.unlock":"विशेष सुविधाओं और बेहतर अनुभव को अनलॉक करें!","profile.premium.features.gender":"✓ जेंडर फिल्टर","profile.premium.features.voice":"✓ वॉयस मोड","profile.premium.features.unlimited":"✓ असीमित समय","profile.username":"उपयोगकर्ता नाम","profile.addPhoto":"फोटो जोड़ें","profile.referral.title":"रेफरल रिवार्ड्स","profile.referral.id":"आपका रेफरल आईडी","profile.referral.copy":"कॉपी करें","profile.referral.reward":"🎁 1 दोस्त को सफलतापूर्वक रेफर करें = 24 घंटे प्रीमियम मुफ्त!","profile.referral.share":"अपना कोड शेयर करें और आप और आपके दोस्त दोनों ��ो प्रीमियम लाभ मिलें","profile.settings":"सेटिंग्स","profile.settings.privacy":"प्राइवेसी सेटिंग्स","profile.settings.notifications":"नोटिफिकेशन प्राथमिकताएं","profile.settings.account":"खाता सेटिंग्स","profile.settings.language":"भाषा सेटिंग्स","common.loading":"लोड हो रहा है...","common.error":"त्रुटि","common.success":"सफलता","common.cancel":"रद्द करें","common.save":"सेव करें","common.back":"वापस"},bn:{"app.name":"আজনবীক্যাম","app.tagline":"অপরিচিতদের সাথে তাৎক্ষণিক সংযোগ","onboarding.welcome":"আজনবীক্যামে স্বাগতম","onboarding.subtitle":"শুরু করতে আপনার প্রোফাইল সেট করুন","onboarding.username":"ব্যবহারকারীর নাম","onboarding.username.placeholder":"আপনার ব্যবহারকারীর নাম লিখুন","onboarding.gender":"লিঙ্গ","onboarding.gender.male":"পুরুষ","onboarding.gender.female":"মহিলা","onboarding.language":"ভাষা","onboarding.continue":"অব্যাহত রাখুন","onboarding.skip":"এখনকার জন্য এড়িয়ে যান","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"চ্যাট শুরু করুন","home.features.hd":"HD ভিডিও","home.features.secure":"নিরাপদ","home.features.instant":"তাৎক্ষণিক","nav.home":"হোম","nav.chat":"চ্যাট","nav.friends":"বন্ধুরা","nav.voice":"কণ্ঠস্বর","nav.profile":"প্রোফাইল","common.loading":"লোড হচ্ছে...","common.error":"ত্রুটি","common.success":"সফল","common.cancel":"বাতিল","common.save":"সংরক্ষণ","common.back":"পিছনে"},te:{"app.name":"అజ్ఞాతక్యామ్","app.tagline":"అపరిచితులతో తక్షణ ��నెక్షన్","onboarding.welcome":"అజ్ఞాతక్యామ్‌కు స్వాగతం","onboarding.subtitle":"ప్రారంభించడానికి మీ ప్రొఫైల్‌ను సెట్ చేయండి","onboarding.username":"వినియోగదారు పేరు","onboarding.username.placeholder":"మీ వినియో��దారు పేరును నమోదు చేయండి","onboarding.gender":"లింగం","onboarding.gender.male":"పురుషుడు","onboarding.gender.female":"స్త్రీ","onboarding.language":"భాష","onboarding.continue":"కొనసాగించు","onboarding.skip":"ఇప్పుడు దాటవేయి","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"చాట్ ప్రారంభించండి","nav.home":"హోమ్","nav.chat":"చాట్","nav.friends":"స్నేహితులు","nav.voice":"వాయిస్","nav.profile":"ప్రొఫైల్","common.loading":"లోడ్ అవుతోంది...","common.error":"లోపం","common.success":"విజయం","common.cancel":"రద్దు చేయి","common.save":"సేవ్ చేయి","common.back":"వెనుకకు"},mr:{"app.name":"अजनबीकॅम","app.tagline":"अनोळखी लोकांशी तत्काळ कनेक्शन","onboarding.welcome":"अजनबीकॅममध्ये आपले स्वागत आहे","onboarding.subtitle":"सुरुवात करण्यासाठी आपली प्रोफाइल ��ेट करा","onboarding.username":"वापरकर्त्याचे नाव","onboarding.username.placeholder":"आपले वापरकर्त्याचे नाव प्रविष्ट करा","onboarding.gender":"लिंग","onboarding.gender.male":"पुरुष","onboarding.gender.female":"स्त्री","onboarding.language":"���ाषा","onboarding.continue":"सुरू ठेवा","onboarding.skip":"आत्तासाठी वगळा","language.english":"English","language.hindi":"हिं���ी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"चॅट सुरू करा","nav.home":"होम","nav.chat":"चॅट","nav.friends":"मित्र","nav.voice":"आवाज","nav.profile":"प्रोफाइल","common.loading":"लोड होत आहे...","common.error":"त्रुटी","common.success":"यशस्वी","common.cancel":"रद्द करा","common.save":"सेव्ह करा","common.back":"मागे"},ta:{"app.name":"அஜ்னபிகாம்","app.tagline":"அறியாதவர்களுடன் உடனடி இணைப்பு","onboarding.welcome":"அஜ்னபிகாம்-க்கு வரவேற்கிறோம்","onboarding.subtitle":"தொடங்க உங்கள் சுயவிவரத்தை அமைக்கவும்","onboarding.username":"பயனர் பெயர்","onboarding.username.placeholder":"உங்கள் பயனர் பெயரை உள்ளிடவும்","onboarding.gender":"பாலினம்","onboarding.gender.male":"ஆண்","onboarding.gender.female":"பெண்","onboarding.language":"மொழி","onboarding.continue":"தொடரவும்","onboarding.skip":"இப்போது தவிர்க்கவும��","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"அரட்டையை தொடங்குங்கள்","nav.home":"வீடு","nav.chat":"அரட்டை","nav.friends":"நண்பர்கள்","nav.voice":"குரல்","nav.profile":"சுயவிவரம்","common.loading":"ஏற்றுகிறது...","common.error":"பிழை","common.success":"வெற்றி","common.cancel":"ரத்துச��ய்","common.save":"சேமி","common.back":"பின்னால்"},gu:{"app.name":"અજનબીકૅમ","app.tagline":"અજાણ્યા લોકો સાથે તાત્કાલિક કનેક્શન","onboarding.welcome":"અજનબીકૅમમાં આપનું સ્વાગત છે","onboarding.subtitle":"શરૂ કરવા માટે તમારી પ્રોફાઇલ સેટ કરો","onboarding.username":"વપરાશકર્તા નામ","onboarding.username.placeholder":"તમારું વપરાશકર્તા નામ દાખલ કરો","onboarding.gender":"લિંગ","onboarding.gender.male":"પુરુષ","onboarding.gender.female":"સ્ત્રી","onboarding.language":"ભાષા","onboarding.continue":"ચાલુ રાખો","onboarding.skip":"હમણાં માટે છોડો","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"ચેટ શરૂ કરો","nav.home":"ઘર","nav.chat":"ચેટ","nav.friends":"મિત્રો","nav.voice":"અવાજ","nav.profile":"પ્રોફાઇલ","common.loading":"લોડ થઈ રહ્યું છે...","common.error":"ભૂલ","common.success":"સફળતા","common.cancel":"રદ કરો","common.save":"સેવ કરો","common.back":"પાછળ"},ur:{"app.name":"اجنبی کیم","app.tagline":"اجنبیوں سے فوری رابطہ","onboarding.welcome":"اجنبی کیم میں خوش آمدید","onboarding.subtitle":"شروع کرنے کے لیے اپنا پروفائل سیٹ کریں","onboarding.username":"صارف کا نام","onboarding.username.placeholder":"اپنا صارف نام درج کریں","onboarding.gender":"جنس","onboarding.gender.male":"مرد","onboarding.gender.female":"عورت","onboarding.language":"زبان","onboarding.continue":"جاری رکھیں","onboarding.skip":"ابھی چھوڑیں","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"چیٹ شروع کریں","nav.home":"ہوم","nav.chat":"چیٹ","nav.friends":"دوست","nav.voice":"آواز","nav.profile":"پروفائل","common.loading":"لوڈ ہو رہا ہے...","common.error":"خرابی","common.success":"کامیابی","common.cancel":"منسوخ کریں","common.save":"محفوظ کریں","common.back":"واپس"},kn:{"app.name":"ಅಜ್ಞಾತಕ್ಯಾಮ್","app.tagline":"ಅಪರಿಚಿತರೊಂದಿಗೆ ತಕ್ಷಣ ಸಂಪರ್ಕ","onboarding.welcome":"ಅಜ್ಞಾತಕ್ಯಾಮ್‌ಗೆ ಸ್ವಾಗತ","onboarding.subtitle":"ಪ್ರಾರಂಭಿಸಲು ನಿಮ್ಮ ಪ್ರೊಫೈಲ್ ಹೊಂದಿಸಿ","onboarding.username":"ಬಳಕೆದಾರ ಹೆಸರು","onboarding.username.placeholder":"ನಿಮ್ಮ ಬಳಕೆದಾರ ಹೆಸರನ್ನು ನಮೂದಿಸಿ","onboarding.gender":"ಲಿಂಗ","onboarding.gender.male":"ಪುರುಷ","onboarding.gender.female":"ಮಹಿಳೆ","onboarding.language":"ಭಾಷೆ","onboarding.continue":"ಮುಂದುವರಿಸಿ","onboarding.skip":"ಈಗ ಬಿಟ್ಟುಬಿಡಿ","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"ಚಾಟ್ ಪ್ರಾರಂಭಿಸಿ","nav.home":"ಮನೆ","nav.chat":"ಚಾಟ್","nav.friends":"ಸ್ನೇಹಿತರು","nav.voice":"ಧ್ವನಿ","nav.profile":"ಪ್ರೊಫೈಲ್","common.loading":"ಲೋಡ್ ಆಗುತ್ತಿದೆ...","common.error":"ದೋಷ","common.success":"ಯಶಸ್ಸು","common.cancel":"ರದ್ದುಗೊಳಿಸಿ","common.save":"ಉಳಿಸಿ","common.back":"ಹಿಂದೆ"},ml:{"app.name":"അജ്ഞാതക്യാം","app.tagline":"അപരിചിതരുമായി തൽക്ഷണ കണക്ഷൻ","onboarding.welcome":"അജ്ഞാതക്യാമിലേക്ക് സ്വാഗതം","onboarding.subtitle":"ആരംഭിക്കാൻ നിങ്ങളുടെ പ്രൊഫൈൽ സജ്ജമാക്കുക","onboarding.username":"ഉപയോക്തൃനാമം","onboarding.username.placeholder":"നിങ്ങളുടെ ഉപയോക്തൃനാമം നൽകുക","onboarding.gender":"ലിംഗം","onboarding.gender.male":"പുരുഷൻ","onboarding.gender.female":"സ്ത്രീ","onboarding.language":"ഭാഷ","onboarding.continue":"തുടരുക","onboarding.skip":"ഇപ്പോൾ ഒഴിവാക്കുക","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"ചാറ്റ് ആരംഭിക്കുക","nav.home":"ഹോം","nav.chat":"ചാറ്റ്","nav.friends":"സുഹൃത്തുക്കൾ","nav.voice":"ശബ്ദം","nav.profile":"പ്രൊഫൈൽ","common.loading":"ലോഡുചെയ്യുന്നു...","common.error":"പിശക്","common.success":"വിജയം","common.cancel":"റദ്ദാക്കുക","common.save":"സംരക്ഷിക്കുക","common.back":"പിന്നോട്ട്"},pa:{"app.name":"ਅਜਨਬੀਕੈਮ","app.tagline":"ਅਜਨਬੀਆਂ ਨਾਲ ਤੁਰੰਤ ਕਨੈਕਸ਼ਨ","onboarding.welcome":"ਅਜਨਬੀਕੈਮ ਵਿੱਚ ਤੁਹਾਡਾ ਸਵਾਗਤ ਹੈ","onboarding.subtitle":"ਸ਼ੁਰੂ ਕਰਨ ਲਈ ਆਪਣਾ ਪ੍ਰੋਫਾਈਲ ਸੈੱਟ ਕਰੋ","onboarding.username":"ਯੂਜ਼ਰ ਨਾਮ","onboarding.username.placeholder":"ਆਪਣਾ ਯੂਜ਼ਰ ਨਾਮ ਦਾਖਲ ਕਰੋ","onboarding.gender":"ਲਿੰਗ","onboarding.gender.male":"ਮਰਦ","onboarding.gender.female":"ਔਰਤ","onboarding.language":"ਭਾਸ਼ਾ","onboarding.continue":"ਜਾਰੀ ਰੱਖੋ","onboarding.skip":"ਹੁਣ ਛੱਡੋ","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"ਚੈਟ ਸ਼ੁਰੂ ਕਰੋ","nav.home":"ਘਰ","nav.chat":"ਚੈਟ","nav.friends":"ਦੋਸਤ","nav.voice":"ਆਵਾਜ਼","nav.profile":"ਪ੍ਰੋਫਾਈਲ","common.loading":"ਲੋਡ ਹੋ ਰਿਹਾ ਹੈ...","common.error":"ਗਲਤੀ","common.success":"ਸਫਲਤਾ","common.cancel":"ਰੱਦ ਕਰੋ","common.save":"ਸੇਵ ਕਰੋ","common.back":"ਵਾਪਸ"},es:{"app.name":"AjnabiCam","app.tagline":"Conecta con extraños al instante","onboarding.welcome":"Bienvenido a AjnabiCam","onboarding.subtitle":"Configura tu perfil para comenzar","onboarding.username":"Nombre de usuario","onboarding.username.placeholder":"Ingresa tu nombre de usuario","onboarding.gender":"Género","onboarding.gender.male":"Masculino","onboarding.gender.female":"Femenino","onboarding.language":"Idioma","onboarding.continue":"Continuar","onboarding.skip":"Omitir por ahora","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"Comenzar a chatear","nav.home":"Inicio","nav.chat":"Chat","nav.friends":"Amigos","nav.voice":"Voz","nav.profile":"Perfil","common.loading":"Cargando...","common.error":"Error","common.success":"Éxito","common.cancel":"Cancelar","common.save":"Guardar","common.back":"Atrás"},fr:{"app.name":"AjnabiCam","app.tagline":"Connectez-vous instantanément avec des inconnus","onboarding.welcome":"Bienvenue sur AjnabiCam","onboarding.subtitle":"Configurez votre profil pour commencer","onboarding.username":"Nom d'utilisateur","onboarding.username.placeholder":"Entrez votre nom d'utilisateur","onboarding.gender":"Genre","onboarding.gender.male":"Masculin","onboarding.gender.female":"Féminin","onboarding.language":"Langue","onboarding.continue":"Continuer","onboarding.skip":"Passer pour maintenant","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"Commencer à chatter","nav.home":"Accueil","nav.chat":"Chat","nav.friends":"Amis","nav.voice":"Voix","nav.profile":"Profil","common.loading":"Chargement...","common.error":"Erreur","common.success":"Succès","common.cancel":"Annuler","common.save":"Sauvegarder","common.back":"Retour"},de:{"app.name":"AjnabiCam","app.tagline":"Verbinde dich sofort mit Fremden","onboarding.welcome":"Willkommen bei AjnabiCam","onboarding.subtitle":"Richte dein Profil ein, um zu beginnen","onboarding.username":"Benutzername","onboarding.username.placeholder":"Gib deinen Benutzernamen ein","onboarding.gender":"Geschlecht","onboarding.gender.male":"Männlich","onboarding.gender.female":"Weiblich","onboarding.language":"Sprache","onboarding.continue":"Weiter","onboarding.skip":"Vorerst überspringen","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Espa��ol (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"Chat starten","nav.home":"Startseite","nav.chat":"Chat","nav.friends":"Freunde","nav.voice":"Stimme","nav.profile":"Profil","common.loading":"Lädt...","common.error":"Fehler","common.success":"Erfolg","common.cancel":"Abbrechen","common.save":"Speichern","common.back":"Zurück"},pt:{"app.name":"AjnabiCam","app.tagline":"Conecte-se instantaneamente com estranhos","onboarding.welcome":"Bem-vindo ao AjnabiCam","onboarding.subtitle":"Configure seu perfil para começar","onboarding.username":"Nome de usuário","onboarding.username.placeholder":"Digite seu nome de usuário","onboarding.gender":"Gênero","onboarding.gender.male":"Masculino","onboarding.gender.female":"Feminino","onboarding.language":"Idioma","onboarding.continue":"Continuar","onboarding.skip":"Pular por agora","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"Começar a conversar","nav.home":"Início","nav.chat":"Chat","nav.friends":"Amigos","nav.voice":"Voz","nav.profile":"Perfil","common.loading":"Carregando...","common.error":"Erro","common.success":"Sucesso","common.cancel":"Cancelar","common.save":"Salvar","common.back":"Voltar"},ar:{"app.name":"أجنبي كام","app.tagline":"تواصل مع الغرباء فوراً","onboarding.welcome":"مرحباً بك في أجنبي كام","onboarding.subtitle":"ق�� بإعداد ملفك الشخصي للبدء","onboarding.username":"اسم المستخدم","onboarding.username.placeholder":"أدخل اسم المستخدم","onboarding.gender":"الجنس","onboarding.gender.male":"ذكر","onboarding.gender.female":"أنثى","onboarding.language":"اللغة","onboarding.continue":"متابعة","onboarding.skip":"تخطي الآن","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"بدء المحادثة","nav.home":"الرئيسية","nav.chat":"المحادثة","nav.friends":"الأصدقاء","nav.voice":"الصوت","nav.profile":"الملف الشخصي","common.loading":"جاري التحميل...","common.error":"خطأ","common.success":"نجح","common.cancel":"إلغاء","common.save":"حفظ","common.back":"رجوع"},zh:{"app.name":"陌生人摄像头","app.tagline":"立即与陌生人连接","onboarding.welcome":"欢迎来到陌生人摄像头","onboarding.subtitle":"设置您的个人资料以开始","onboarding.username":"用户名","onboarding.username.placeholder":"输入您的用户名","onboarding.gender":"性别","onboarding.gender.male":"男性","onboarding.gender.female":"女性","onboarding.language":"语言","onboarding.continue":"继续","onboarding.skip":"暂时跳过","language.english":"English","language.hindi":"हिंदी (Hindi)","language.bengali":"বাংলা (Bengali)","language.telugu":"తెలుగు (Telugu)","language.marathi":"मराठी (Marathi)","language.tamil":"தமிழ் (Tamil)","language.gujarati":"ગુજરાતી (Gujarati)","language.urdu":"اردو (Urdu)","language.kannada":"ಕನ್ನಡ (Kannada)","language.malayalam":"മലയാളം (Malayalam)","language.punjabi":"ਪੰਜਾਬੀ (Punjabi)","language.spanish":"Español (Spanish)","language.french":"Français (French)","language.german":"Deutsch (German)","language.portuguese":"Português (Portuguese)","language.arabic":"العربية (Arabic)","language.chinese":"中文 (Chinese)","home.start":"开始聊天","nav.home":"首页","nav.chat":"聊天","nav.friends":"朋友","nav.voice":"语音","nav.profile":"个人资料","common.loading":"加载中...","common.error":"错误","common.success":"成功","common.cancel":"取消","common.save":"保存","common.back":"返回"}},n$=({children:t})=>{const[e,n]=y.useState("en");y.useEffect(()=>{const a=localStorage.getItem("ajnabicam_language");a&&y1[a]&&n(a)},[]);const r=a=>{n(a),localStorage.setItem("ajnabicam_language",a)},s=a=>y1[e][a]||a;return i.jsx(GS.Provider,{value:{language:e,setLanguage:r,t:s},children:t})},v1=[{code:"en",name:"English",flag:"🇺🇸"},{code:"hi",name:"हिंदी",flag:"🇮🇳"},{code:"bn",name:"বাংলা",flag:"🇧🇩"},{code:"te",name:"తెలుగు",flag:"🇮🇳"},{code:"mr",name:"मराठी",flag:"🇮🇳"},{code:"ta",name:"தமிழ்",flag:"🇮🇳"},{code:"gu",name:"ગુજરાતી",flag:"🇮🇳"},{code:"ur",name:"اردو",flag:"🇵🇰"},{code:"kn",name:"ಕನ್ನಡ",flag:"🇮🇳"},{code:"ml",name:"മലയാളം",flag:"🇮🇳"},{code:"pa",name:"ਪੰਜਾਬੀ",flag:"🇮🇳"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"fr",name:"Français",flag:"🇫🇷"},{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"pt",name:"Português",flag:"🇧🇷"},{code:"ar",name:"العربية",flag:"🇸🇦"},{code:"zh",name:"中文",flag:"🇨🇳"}];function r$(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,a]=y.useState(""),[o,l]=y.useState([{id:1,file:null,preview:null,isProfile:!0},{id:2,file:null,preview:null,isProfile:!1},{id:3,file:null,preview:null,isProfile:!1}]),[c,d]=y.useState(!1),[h,f]=y.useState(!1),[p,g]=y.useState(0),{language:w,setLanguage:j,t:T}=Yy(),b=Ge(),v=Xf(Ns),k=(S,C)=>{var de;const G=(de=S.target.files)==null?void 0:de[0];if(G){if(!G.type.startsWith("image/")){alert("Please select a valid image file");return}if(G.size>5*1024*1024){alert("Image size should be less than 5MB");return}const je=new FileReader;je.onload=le=>{var B;(B=le.target)!=null&&B.result&&l(Q=>Q.map(ne=>{var ge;return ne.id===C?{...ne,file:G,preview:(ge=le.target)==null?void 0:ge.result}:ne}))},je.readAsDataURL(G)}},R=S=>{l(C=>C.map(G=>G.id===S?{...G,file:null,preview:null}:G))},D=S=>{l(C=>C.map(G=>({...G,isProfile:G.id===S})))},O=async(S,C)=>{try{const G=Ba(Un,`profile-images/${C}_${Date.now()}`),de=await za(G,S);return await ki(de.ref)}catch(G){return console.error("Error uploading image:",G),null}},A=async(S,C)=>{const G={profileImage:null,additionalImages:[]};for(const de of S)if(de.file){const je=await O(de.file,C);je&&(de.isProfile?G.profileImage=je:G.additionalImages.push(je))}return G},N=async()=>{if(!t.trim()){alert("Please enter a username");return}if(!n){alert("Please select your gender");return}if(!o.some(C=>C.isProfile&&C.file)){alert("Please upload at least one photo and set it as your profile picture");return}if(!h){f(!0),g(0);try{const C=v.currentUser;if(!C)throw new Error("No authenticated user found");g(30);const G=await A(o,C.uid);if(!G.profileImage)throw new Error("Failed to upload profile image");g(70);const de=qe(ae,"users",C.uid);await du(de,{username:t.trim(),gender:n,bio:s.trim(),profileImageUrl:G.profileImage,additionalImages:G.additionalImages,language:w,onboardingComplete:!0,coins:100,createdAt:new Date,updatedAt:new Date},{merge:!0}),g(100),console.log("User onboarding data saved to Firestore"),setTimeout(()=>{b("/")},500)}catch(C){console.error("Error saving onboarding data:",C),alert("Error saving your information. Please try again.")}finally{f(!1),g(0)}}},I=async()=>{if(!h){f(!0);try{const S=v.currentUser;if(!S)throw new Error("No authenticated user found");const C=qe(ae,"users",S.uid);await du(C,{username:"User",gender:"other",bio:"",profileImageUrl:"",additionalImages:[],language:w,onboardingComplete:!0,coins:100,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log("User skipped onboarding, minimal data saved to Firestore"),b("/")}catch(S){console.error("Error saving skip data:",S),alert("Error completing setup. Please try again.")}finally{f(!1)}}},_=[{value:"male",label:T("onboarding.gender.male"),emoji:"👨"},{value:"female",label:T("onboarding.gender.female"),emoji:"👩"}],P=v1.find(S=>S.code===w);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-peach-100 via-cream-50 to-blush-100 flex items-center justify-center px-4 py-8",children:i.jsxs(J,{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 relative",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"text-6xl mb-4",children:"💕"}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-peach-600 to-coral-600 bg-clip-text text-transparent mb-2",children:T("onboarding.welcome")}),i.jsx("p",{className:"text-gray-600",children:T("onboarding.subtitle")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Aa,{className:"h-4 w-4"}),"Add Photos (Up to 3)"]}),i.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:o.map((S,C)=>i.jsx("div",{className:"relative aspect-[3/4] group",children:S.preview?i.jsxs("div",{className:"relative w-full h-full",children:[i.jsx("img",{src:S.preview,alt:`Photo ${C+1}`,className:"w-full h-full object-cover rounded-xl border-2 border-gray-200 shadow-md"}),S.isProfile&&i.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold flex items-center gap-1",children:[i.jsx(Ci,{className:"h-3 w-3"}),"Main"]}),i.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center gap-2",children:[!S.isProfile&&i.jsx(F,{size:"sm",onClick:()=>D(S.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white text-xs px-2 py-1",disabled:h,children:i.jsx(Ci,{className:"h-3 w-3"})}),i.jsx(F,{size:"sm",onClick:()=>R(S.id),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-2 py-1",disabled:h,children:i.jsx(Wn,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"w-full h-full border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer group",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:G=>k(G,S.id),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:h}),i.jsx(ea,{className:"h-6 w-6 text-gray-400 group-hover:text-gray-600 mb-1"}),i.jsx("span",{className:"text-xs text-gray-500 text-center px-1",children:C===0?"Main Photo":`Photo ${C+1}`})]})},S.id))}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"📸 Add up to 3 photos • First photo will be your main profile picture"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"💡 Tip: Tap the star to set a photo as your main profile picture"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(qy,{className:"h-4 w-4"}),T("onboarding.language")]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>d(!c),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-peach-500 focus:border-transparent bg-white flex items-center justify-between hover:border-peach-300 transition-colors",disabled:h,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:P==null?void 0:P.flag}),i.jsx("span",{className:"font-medium",children:P==null?void 0:P.name})]}),i.jsx(Z8,{className:`h-4 w-4 transition-transform ${c?"rotate-180":""}`})]}),c&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto",children:v1.map(S=>i.jsxs("button",{onClick:()=>{j(S.code),d(!1)},className:`w-full px-4 py-3 text-left hover:bg-peach-50 flex items-center gap-3 transition-colors ${w===S.code?"bg-peach-100 text-peach-700":"text-gray-700"}`,disabled:h,children:[i.jsx("span",{className:"text-xl",children:S.flag}),i.jsx("span",{className:"font-medium",children:S.name})]},S.code))})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[i.jsx(Ii,{className:"h-4 w-4"}),T("onboarding.username")]}),i.jsx(kl,{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:T("onboarding.username.placeholder"),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-peach-500 focus:border-transparent",maxLength:20,disabled:h})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[i.jsx(Ii,{className:"h-4 w-4"}),"About You"]}),i.jsx(WS,{value:s,onChange:S=>a(S.target.value),placeholder:"Tell people a bit about yourself... What makes you unique? What are you looking for?",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-peach-500 focus:border-transparent resize-none",rows:4,maxLength:500,disabled:h}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"💭 Share your interests, hobbies, or what you're looking for"}),i.jsxs("span",{className:"text-xs text-gray-400",children:[s.length,"/500"]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Re,{className:"h-4 w-4"}),T("onboarding.gender")]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:_.map(S=>i.jsxs("button",{onClick:()=>r(S.value),className:`py-3 px-4 rounded-xl border-2 transition-all flex items-center gap-3 ${n===S.value?"border-peach-500 bg-peach-50 text-peach-700":"border-gray-300 text-gray-700 hover:border-peach-300 hover:bg-peach-25"}`,disabled:h,children:[i.jsx("span",{className:"text-2xl",children:S.emoji}),i.jsx("span",{className:"font-medium",children:S.label})]},S.value))})]}),h&&p>0&&i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Uploading..."}),i.jsxs("span",{children:[p,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-peach-500 to-coral-500 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsx(F,{onClick:N,disabled:!t.trim()||!n||!o.some(S=>S.isProfile&&S.file)||h,className:"w-full py-3 rounded-xl bg-gradient-to-r from-peach-500 via-coral-500 to-blush-600 hover:from-peach-600 hover:via-coral-600 hover:to-blush-700 text-white font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-200",children:h?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),p>0?`Uploading... ${p}%`:"Saving..."]}):T("onboarding.continue")}),i.jsx(F,{onClick:I,variant:"outline",disabled:h,className:"w-full py-3 rounded-xl border-2 border-peach-300 text-peach-700 hover:bg-peach-50 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":T("onboarding.skip")})]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"🔒 Your information is kept private and secure"})})]})})}function w1(){const[t,e]=y.useState(!1),n=Ge(),r=()=>{e(!0);const a=Date.now()+24*60*60*1e3;localStorage.setItem("ajnabicam_premium_trial","true"),localStorage.setItem("ajnabicam_premium_trial_expiry",a.toString()),setTimeout(()=>n("/"),2e3)};return i.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-gradient-to-br from-green-50 via-rose-100 to-rose-200 px-4 py-6",children:i.jsxs("div",{className:"w-full max-w-xs bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center",children:[i.jsx("h2",{className:"text-xl font-bold text-rose-600 mb-4 text-center",children:"Unlock Premium for 24 Hours!"}),i.jsxs("p",{className:"text-base text-rose-500 mb-6 text-center font-semibold",children:["Refer AjnabiCam to ",i.jsx("span",{className:"text-green-600 font-bold",children:"1 friend"})," and get ",i.jsx("span",{className:"text-yellow-500 font-bold",children:"24 hours"})," of premium features for free!"]}),t?i.jsx("div",{className:"w-full text-center text-green-600 font-semibold mb-2",children:"Referral successful! Enjoy your 24h premium 🎉"}):i.jsx(F,{className:"w-full py-3 rounded-xl bg-green-500 text-white font-bold text-base mb-2",onClick:r,children:"Refer to a Friend"}),i.jsx(F,{className:"w-full py-3 rounded-xl border border-rose-300 text-rose-600 bg-white font-semibold text-base",variant:"outline",onClick:()=>n("/"),children:"Back to Home"})]})})}function s$(){return Math.random().toString(36).substring(2,8).toUpperCase()+Math.floor(Math.random()*1e3)}function i$(){const[t]=y.useState(()=>{let p=localStorage.getItem("ajnabicam_referral_code");return p||(p=s$(),localStorage.setItem("ajnabicam_referral_code",p)),p}),[e,n]=y.useState(""),[r,s]=y.useState(!1),[a,o]=y.useState(""),[l,c]=y.useState(!1),d=Ge(),h=async()=>{if(!(!e.trim()||l)){if(e===t){o("You cannot use your own referral code.");return}c(!0),o("");try{const p=dn.currentUser;if(!p)throw new Error("No authenticated user found");const g=qe(ae,"users",p.uid);await it(g,{referredBy:e,updatedAt:new Date}),console.log("Referral code saved to Firestore:",e),localStorage.setItem("ajnabicam_referral_applied",e);const j=Date.now()+24*60*60*1e3;localStorage.setItem("ajnabicam_premium_trial","true"),localStorage.setItem("ajnabicam_premium_trial_expiry",j.toString()),s(!0),setTimeout(()=>d("/gender-select"),1500)}catch(p){console.error("Error applying referral code:",p),o("Error applying referral code. Please try again.")}finally{c(!1)}}},f=p=>{const g=`Join me on AjnabiCam! Use my referral code: ${t} to unlock 24h Premium. https://ajnabicam.com`;p==="whatsapp"?window.open(`https://wa.me/?text=${encodeURIComponent(g)}`):p==="instagram"?window.open(`https://www.instagram.com/direct/new/?text=${encodeURIComponent(g)}`):p==="sms"&&window.open(`sms:?body=${encodeURIComponent(g)}`)};return i.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-gradient-to-br from-pink-50 via-rose-100 to-fuchsia-100 px-4 py-6",children:i.jsxs("div",{className:"w-full max-w-xs bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center",children:[i.jsx("h2",{className:"text-xl font-bold text-rose-600 mb-2 text-center",children:"Invite Friends & Unlock Premium"}),i.jsxs("div",{className:"mb-4 w-full text-center",children:[i.jsx("div",{className:"text-sm text-rose-500 mb-1",children:"Your Referral Code"}),i.jsx("div",{className:"font-mono text-lg bg-rose-100 rounded-lg px-3 py-2 mb-2 select-all inline-block",children:t}),i.jsxs("div",{className:"flex gap-2 justify-center mb-2",children:[i.jsx(F,{size:"sm",onClick:()=>f("whatsapp"),disabled:l,children:"WhatsApp"}),i.jsx(F,{size:"sm",onClick:()=>f("instagram"),disabled:l,children:"Instagram"}),i.jsx(F,{size:"sm",onClick:()=>f("sms"),disabled:l,children:"Message"})]})]}),i.jsxs("div",{className:"w-full mb-4",children:[i.jsx("label",{className:"block text-xs text-rose-400 mb-1",children:"Add Referral Code (optional)"}),i.jsx("input",{type:"text",className:"w-full border border-rose-200 rounded-lg px-3 py-2 mb-2 focus:outline-none focus:ring-2 focus:ring-rose-300 disabled:opacity-50",placeholder:"Paste or enter code",value:e,onChange:p=>n(p.target.value.toUpperCase()),disabled:r||l}),i.jsx(F,{className:"w-full py-2 rounded-lg bg-rose-500 text-white font-bold text-base disabled:opacity-50",onClick:h,disabled:r||!e.trim()||l,children:l?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Applying..."]}):r?"Applied!":"Apply Code"}),a&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:a})]}),i.jsx(F,{className:"w-full py-2 rounded-lg border border-rose-300 text-rose-600 bg-white font-semibold text-base disabled:opacity-50",variant:"outline",onClick:()=>d("/gender-select"),disabled:l,children:"Continue"})]})})}function a$(){const t=Ge(),[e,n]=y.useState(!1),[r,s]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const l=dn.currentUser;if(!l){t("/onboarding");return}const c=qe(ae,"users",l.uid),d=await Va(c);if(d.exists()){const h=d.data();if(h.gender&&(h.gender==="male"||h.gender==="female")){t("/");return}}}catch(l){console.error("Error checking gender status:",l)}finally{s(!1)}})()},[t,dn]);const a=async o=>{if(!e){n(!0);try{const l=dn.currentUser;if(!l)throw new Error("No authenticated user found");const c=qe(ae,"users",l.uid);await it(c,{gender:o,updatedAt:new Date}),console.log("Gender updated in Firestore:",o),t("/")}catch(l){console.error("Error updating gender:",l),alert("Error saving gender selection. Please try again.")}finally{n(!1)}}};return r?i.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-gradient-to-br from-pink-50 via-rose-100 to-fuchsia-100 px-4 py-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),i.jsx("p",{className:"text-rose-600 font-medium",children:"Loading..."})]})}):i.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-gradient-to-br from-pink-50 via-rose-100 to-fuchsia-100 px-4 py-6",children:i.jsxs("div",{className:"w-full max-w-xs bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center",children:[i.jsx("h2",{className:"text-xl font-bold text-rose-600 mb-4 text-center",children:"Select Your Gender"}),i.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[i.jsx(F,{className:"w-full py-3 rounded-xl bg-rose-500 text-white font-bold text-base disabled:opacity-50",onClick:()=>a("female"),disabled:e,children:e?"Saving...":"Female"}),i.jsx(F,{className:"w-full py-3 rounded-xl bg-blue-500 text-white font-bold text-base disabled:opacity-50",onClick:()=>a("male"),disabled:e,children:e?"Saving...":"Male"})]})]})})}var o$=function(t,e,n,r,s,a,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,a,o,l],h=0;c=new Error(e.replace(/%s/g,function(){return d[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},l$=o$;const b1=gu(l$);var c$=function(e,n,r,s){var a=r?r.call(s,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),d=0;d<o.length;d++){var h=o[d];if(!c(h))return!1;var f=e[h],p=n[h];if(a=r?r.call(s,f,p,h):void 0,a===!1||a===void 0&&f!==p)return!1}return!0};const u$=gu(c$);var KS=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(KS||{}),_p={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_1=Object.values(KS),Qy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},d$=Object.entries(Qy).reduce((t,[e,n])=>(t[n]=e,t),{}),br="data-rh",Go={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ko=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},h$=t=>{let e=Ko(t,"title");const n=Ko(t,Go.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Ko(t,Go.DEFAULT_TITLE);return e||r||void 0},f$=t=>Ko(t,Go.ON_CHANGE_CLIENT_STATE)||(()=>{}),jp=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),m$=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const l=s[a].toLowerCase();if(t.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),p$=t=>console&&typeof console.warn=="function"&&console.warn(t),sc=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&p$(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,a)=>{const o={};a.filter(c=>{let d;const h=Object.keys(c);for(let p=0;p<h.length;p+=1){const g=h[p],w=g.toLowerCase();e.indexOf(w)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(w==="rel"&&c[w].toLowerCase()==="stylesheet")&&(d=w),e.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(d=g)}if(!d||!c[d])return!1;const f=c[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][f]?!1:(o[d][f]=!0,!0)}).reverse().forEach(c=>s.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],h={...r[d],...o[d]};r[d]=h}return s},[]).reverse()},g$=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},x$=t=>({baseTag:m$(["href"],t),bodyAttributes:jp("bodyAttributes",t),defer:Ko(t,Go.DEFER),encode:Ko(t,Go.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:jp("htmlAttributes",t),linkTags:sc("link",["rel","href"],t),metaTags:sc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:sc("noscript",["innerHTML"],t),onChangeClientState:f$(t),scriptTags:sc("script",["src","innerHTML"],t),styleTags:sc("style",["cssText"],t),title:h$(t),titleAttributes:jp("titleAttributes",t),prioritizeSeoTags:g$(t,Go.PRIORITIZE_SEO_TAGS)}),YS=t=>Array.isArray(t)?t.join(""):t,y$=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Np=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(y$(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},j1=(t,e)=>({...t,[e]:void 0}),v$=["noscript","script","style"],g0=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),QS=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),w$=(t,e,n,r)=>{const s=QS(n),a=YS(e);return s?`<${t} ${br}="true" ${s}>${g0(a,r)}</${t}>`:`<${t} ${br}="true">${g0(a,r)}</${t}>`},b$=(t,e,n=!0)=>e.reduce((r,s)=>{const a=s,o=Object.keys(a).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,h)=>{const f=typeof a[h]>"u"?h:`${h}="${g0(a[h],n)}"`;return d?`${d} ${f}`:f},""),l=a.innerHTML||a.cssText||"",c=v$.indexOf(t)===-1;return`${r}<${t} ${br}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),XS=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Qy[r];return n[s||r]=t[r],n},e),_$=(t,e,n)=>{const r={key:e,[br]:!0},s=XS(n,r);return[ss.createElement("title",s,e)]},sh=(t,e)=>e.map((n,r)=>{const s={key:r,[br]:!0};return Object.keys(n).forEach(a=>{const l=Qy[a]||a;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=n[a]}),ss.createElement(t,s)}),Jn=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>_$(t,e.title,e.titleAttributes),toString:()=>w$(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>XS(e),toString:()=>QS(e)};default:return{toComponent:()=>sh(t,e),toString:()=>b$(t,e,n)}}},j$=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=Np(t,_p.meta),a=Np(e,_p.link),o=Np(n,_p.script);return{priorityMethods:{toComponent:()=>[...sh("meta",s.priority),...sh("link",a.priority),...sh("script",o.priority)],toString:()=>`${Jn("meta",s.priority,r)} ${Jn("link",a.priority,r)} ${Jn("script",o.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:o.default}},N$=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=t;let{linkTags:h,metaTags:f,scriptTags:p}=t,g={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:g,linkTags:h,metaTags:f,scriptTags:p}=j$(t)),{priority:g,base:Jn("base",e,r),bodyAttributes:Jn("bodyAttributes",n,r),htmlAttributes:Jn("htmlAttributes",s,r),link:Jn("link",h,r),meta:Jn("meta",f,r),noscript:Jn("noscript",a,r),script:Jn("script",p,r),style:Jn("style",o,r),title:Jn("title",{title:l,titleAttributes:c},r)}},x0=N$,Cd=[],JS=!!(typeof window<"u"&&window.document&&window.document.createElement),y0=class{constructor(t,e){se(this,"instances",[]);se(this,"canUseDOM",JS);se(this,"context");se(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Cd:this.instances,add:t=>{(this.canUseDOM?Cd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Cd:this.instances).indexOf(t);(this.canUseDOM?Cd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=x0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},k$={},ZS=ss.createContext(k$),da,eC=(da=class extends y.Component{constructor(n){super(n);se(this,"helmetData");this.helmetData=new y0(this.props.context||{},da.canUseDOM)}render(){return ss.createElement(ZS.Provider,{value:this.helmetData.value},this.props.children)}},se(da,"canUseDOM",JS),da),po=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${br}]`),s=[].slice.call(r),a=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const h=d,f=typeof l[h]>"u"?"":l[h];c.setAttribute(d,f)}c.setAttribute(br,"true"),s.some((d,h)=>(o=h,c.isEqualNode(d)))?s.splice(o,1):a.push(c)}),s.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),a.forEach(l=>n.appendChild(l)),{oldTags:s,newTags:a}},v0=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(br),s=r?r.split(","):[],a=[...s],o=Object.keys(e);for(const l of o){const c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),s.indexOf(l)===-1&&s.push(l);const d=a.indexOf(l);d!==-1&&a.splice(d,1)}for(let l=a.length-1;l>=0;l-=1)n.removeAttribute(a[l]);s.length===a.length?n.removeAttribute(br):n.getAttribute(br)!==o.join(",")&&n.setAttribute(br,o.join(","))},E$=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=YS(t)),v0("title",e)},N1=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:h,title:f,titleAttributes:p}=t;v0("body",r),v0("html",s),E$(f,p);const g={baseTag:po("base",n),linkTags:po("link",a),metaTags:po("meta",o),noscriptTags:po("noscript",l),scriptTags:po("script",d),styleTags:po("style",h)},w={},j={};Object.keys(g).forEach(T=>{const{newTags:b,oldTags:v}=g[T];b.length&&(w[T]=b),v.length&&(j[T]=g[T].oldTags)}),e&&e(),c(t,w,j)},ic=null,T$=t=>{ic&&cancelAnimationFrame(ic),t.defer?ic=requestAnimationFrame(()=>{N1(t,()=>{ic=null})}):(N1(t),ic=null)},S$=T$,k1=class extends y.Component{constructor(){super(...arguments);se(this,"rendered",!1)}shouldComponentUpdate(e){return!u$(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=x$(e.get().map(a=>{const o={...a.props};return delete o.context,o}));eC.canUseDOM?S$(s):x0&&(r=x0(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ep,El=(Ep=class extends y.Component{shouldComponentUpdate(t){return!JV(j1(this.props,"helmetData"),j1(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return b1(_1.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_1.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),b1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ss.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,o=Object.keys(a).reduce((c,d)=>(c[d$[d]||d]=a[d],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,s),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,s);break;default:e=this.mapObjectTypeChildren(r,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof y0)){const s=r;r=new y0(s.context,!0),delete n.helmetData}return r?ss.createElement(k1,{...n,context:r.value}):ss.createElement(ZS.Consumer,null,s=>ss.createElement(k1,{...n,context:s}))}},se(Ep,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ep);function Ka(){const t=Ge(),e=Di(),{t:n}=Yy(),r=[{label:n("nav.home"),icon:US,path:"/"},{label:n("nav.chat"),icon:ar,path:"/chat"},{label:"AI Chat",icon:am,path:"/ai-chatbot"},{label:n("nav.friends"),icon:Re,path:"/friends"},{label:n("nav.profile"),icon:Ii,path:"/profile"}];return i.jsx("nav",{style:{background:"linear-gradient(to right, #fef9f0, #fffbf0, #fef7f7)",borderTop:"3px solid #f5b1b1",borderRadius:"24px 24px 0 0",boxShadow:"0 15px 35px -12px rgba(245, 177, 177, 0.3)"},className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-md flex justify-around items-center h-20 sm:h-18 md:h-20 lg:h-24 w-full max-w-full sm:max-w-lg md:max-w-xl lg:max-w-2xl xl:max-w-4xl mx-auto safe-area-inset-bottom",children:r.map(s=>{const a=s.icon,o=e.pathname===s.path;return i.jsxs("button",{className:`relative flex flex-col items-center justify-center flex-1 py-3 sm:py-3 px-3 sm:px-2 focus:outline-none transition-all duration-300 transform min-h-[60px] sm:min-h-[56px] touch-manipulation ${o?"scale-110 sm:scale-115":"hover:scale-105 active:scale-95"}`,onClick:()=>t(s.path),children:[o&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-romance-200/40 via-passion-100/30 to-coral-200/40 rounded-2xl blur-sm"}),i.jsx("div",{className:`relative p-2.5 sm:p-2.5 md:p-3 rounded-xl transition-all duration-300 min-h-[40px] min-w-[40px] flex items-center justify-center ${o?"bg-gradient-to-br from-romance-200 via-passion-200 to-coral-200 shadow-lg shadow-romance-200/40":"bg-gradient-to-br from-white/90 to-romance-50/80 hover:from-romance-100/90 hover:to-passion-100/80 active:from-romance-200/90 active:to-passion-200/80"}`,children:i.jsx(a,{size:20,style:{color:o?"#ffffff":"#e25d5d",filter:"drop-shadow(0 1px 2px rgba(226, 93, 93, 0.2))"},className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 transition-colors duration-300"})}),i.jsx("span",{style:{color:o?"#b53535":"#e25d5d",textShadow:"0 1px 2px rgba(226, 93, 93, 0.2)"},className:"text-xs sm:text-xs md:text-sm font-semibold leading-none mt-2 transition-colors duration-300",children:s.label}),o&&i.jsx("div",{className:"absolute -top-1 right-1/2 transform translate-x-1/2 w-2.5 h-2.5 sm:w-2 sm:h-2 bg-gradient-to-r from-romance-400 to-passion-400 rounded-full shadow-sm animate-pulse"})]},s.label)})})}const C$=()=>{const t=Ge(),{isUltraPremium:e}=Nt(),n=em(),r=n.socket||n,[s,a]=y.useState([]),[o,l]=y.useState(""),[c,d]=y.useState(!1),[h,f]=y.useState(!1),[p,g]=y.useState(!1),w=y.useRef(null),j=()=>{t(-1)},T=()=>{var O;(O=w.current)==null||O.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{T()},[s]),y.useEffect(()=>{if(r)return r.on("chat-connected",()=>{d(!0),g(!0),a([])}),r.on("chat-message",O=>{const A={id:Date.now().toString(),text:O.message,timestamp:new Date(O.timestamp),isOwnMessage:!1};a(N=>[...N,A])}),r.on("partner-disconnected",()=>{g(!1);const O={id:Date.now().toString(),text:"Your chat partner has disconnected. Looking for a new partner...",timestamp:new Date,isOwnMessage:!1};a(A=>[...A,O])}),r.on("partner-typing",()=>{f(!0),setTimeout(()=>f(!1),3e3)}),r.on("chat-disconnected",()=>{d(!1),g(!1)}),()=>{r.off("chat-connected"),r.off("chat-message"),r.off("partner-disconnected"),r.off("partner-typing"),r.off("chat-disconnected")}},[r]);const b=()=>{r&&(r.emit("start-text-chat"),d(!0))},v=()=>{if(!o.trim()||!r||!p)return;const O={id:Date.now().toString(),text:o,timestamp:new Date,isOwnMessage:!0};a(A=>[...A,O]),r.emit("send-chat-message",o),l("")},k=O=>{l(O.target.value),r&&p&&r.emit("typing")},R=O=>{O.key==="Enter"&&v()},D=()=>{r&&(r.emit("stop-chat"),d(!1),g(!1),a([]))};return i.jsxs(i.Fragment,{children:[i.jsx(El,{children:i.jsx("title",{children:"AjnabiCam - Text Chat"})}),i.jsx(Ga,{children:i.jsxs("main",{className:`flex flex-col min-h-screen w-full ${e()?"max-w-full":"max-w-md"} mx-auto ${e()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-white"} relative`,children:[i.jsxs("div",{className:`w-full flex items-center p-4 ${e()?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white font-bold text-xl shadow-lg`,children:[i.jsx("button",{onClick:j,className:"mr-3 text-white font-bold text-xl hover:scale-110 transition-transform",children:i.jsx(Sn,{size:24})}),i.jsx("h1",{className:"flex-grow text-center",children:"Text Chat"}),i.jsx(ar,{className:"h-6 w-6"})]}),i.jsx("div",{className:"p-4 bg-white border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${p?"bg-green-500":"bg-gray-400"}`}),i.jsx("span",{className:"text-sm font-medium",children:p?"Connected to stranger":"Not connected"})]}),c&&i.jsx(F,{onClick:D,variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",children:"Stop Chat"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:c?i.jsxs(i.Fragment,{children:[s.length===0&&p&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(ar,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),i.jsx("p",{children:"Start your conversation! Say hello 👋"})]}),s.map(O=>i.jsx("div",{className:`flex ${O.isOwnMessage?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${O.isOwnMessage?"bg-gradient-to-r from-rose-500 to-pink-600 text-white":"bg-white text-gray-800 border border-gray-200"} shadow-sm`,children:[i.jsx("p",{className:"text-sm",children:O.text}),i.jsx("p",{className:`text-xs mt-1 ${O.isOwnMessage?"text-rose-100":"text-gray-400"}`,children:O.timestamp.toLocaleTimeString()})]})},O.id)),h&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-white text-gray-800 border border-gray-200 rounded-2xl px-4 py-2 shadow-sm",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),i.jsx("div",{ref:w})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"💬"}),i.jsx("h2",{className:"text-2xl font-bold text-rose-600 mb-2",children:"Text Chat"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with strangers through anonymous text conversations"}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-6 border border-purple-200 max-w-sm mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(oe,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-semibold text-purple-700",children:"Premium Feature"})]}),i.jsx("p",{className:"text-sm text-purple-600",children:"Text chat is available for all users. Premium users get priority matching!"})]}),i.jsxs(F,{onClick:b,className:"w-full max-w-sm py-4 text-lg font-bold rounded-2xl bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[i.jsx(Re,{className:"h-5 w-5 mr-2"}),"Start Text Chat"]})]})}),c&&p&&i.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kl,{type:"text",placeholder:"Type your message...",value:o,onChange:k,onKeyPress:R,className:"flex-1 rounded-full border-gray-300 focus:border-rose-500"}),i.jsx(F,{onClick:v,disabled:!o.trim(),className:"rounded-full w-12 h-12 p-0 bg-gradient-to-r from-rose-500 to-pink-600 hover:shadow-lg transition-all duration-200",children:i.jsx(Gy,{className:"h-5 w-5"})})]})}),!c&&i.jsx("div",{className:"pb-20",children:e()?i.jsx(Nl,{}):i.jsx(Ka,{})})]})})]})};function I$(){const t=Ge(),{isUltraPremium:e}=Nt(),n=()=>{t(-1)},r=()=>{t("/video-chat",{state:{voiceOnly:!0}})};return i.jsxs(i.Fragment,{children:[i.jsx(El,{children:i.jsx("title",{children:"AjnabiCam - Voice Chat"})}),i.jsx(Ga,{children:i.jsxs("main",{className:`flex flex-col items-center min-h-screen w-full ${e()?"max-w-full":"max-w-md"} mx-auto ${e()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-white"} px-2 py-4 relative pb-20`,children:[i.jsxs("div",{className:`w-full flex items-center p-4 ${e()?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white font-bold text-xl rounded-t-2xl shadow-lg`,children:[i.jsx("button",{onClick:n,className:"mr-3 text-white font-bold text-xl hover:scale-110 transition-transform",children:i.jsx(Sn,{size:24})}),i.jsx("h1",{className:"flex-grow text-center",children:"Voice Chat"}),i.jsx(pu,{className:"h-6 w-6"})]}),i.jsx("div",{className:"w-full flex flex-col bg-white rounded-b-2xl border border-rose-100 shadow-xl mb-6 overflow-hidden",children:i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🎙️"}),i.jsx("h2",{className:"text-2xl font-bold text-rose-600 mb-2",children:"Voice-Only Mode"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with people through voice conversations only. Perfect for those who prefer audio-only interactions."}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-6 border border-purple-200",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(oe,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-semibold text-purple-700",children:"Premium Feature"})]}),i.jsx("p",{className:"text-sm text-purple-600",children:"Voice-only mode is available for Premium users. Upgrade to unlock this feature!"})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center bg-rose-50 p-3 rounded-lg border border-rose-200",children:[i.jsx("span",{className:"text-2xl mr-3",children:"🔊"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-semibold text-rose-700",children:"High Quality Audio"}),i.jsx("div",{className:"text-xs text-rose-500",children:"Crystal clear voice conversations"})]})]}),i.jsxs("div",{className:"flex items-center bg-rose-50 p-3 rounded-lg border border-rose-200",children:[i.jsx("span",{className:"text-2xl mr-3",children:"🎧"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-semibold text-rose-700",children:"Privacy Focused"}),i.jsx("div",{className:"text-xs text-rose-500",children:"No video, just voice connections"})]})]}),i.jsxs("div",{className:"flex items-center bg-rose-50 p-3 rounded-lg border border-rose-200",children:[i.jsx("span",{className:"text-2xl mr-3",children:"⚡"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-semibold text-rose-700",children:"Low Bandwidth"}),i.jsx("div",{className:"text-xs text-rose-500",children:"Works great on slower connections"})]})]})]}),i.jsxs(F,{onClick:r,className:"w-full py-4 text-lg font-bold rounded-2xl bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[i.jsx(pu,{className:"h-5 w-5 mr-2"}),"Start Voice Chat"]}),i.jsx("p",{className:"text-xs text-rose-400 mt-4",children:"Note: Voice-only mode requires Premium subscription"})]})}),e()?i.jsx(Nl,{}):i.jsx(Ka,{})]})})]})}function A$({isOpen:t,title:e,message:n,type:r="info",icon:s,actions:a=[],onClose:o,autoClose:l=!1,autoCloseDelay:c=5e3}){const[d,h]=y.useState(!1);y.useEffect(()=>{if(t&&(h(!0),l)){const j=setTimeout(()=>{f()},c);return()=>clearTimeout(j)}},[t,l,c]);const f=()=>{h(!1),setTimeout(o,300)},p=()=>{switch(r){case"success":return{container:"from-emerald-50 to-green-100 border-green-200",titleColor:"text-green-800",messageColor:"text-green-700",icon:i.jsx(Xs,{className:"h-6 w-6 text-green-600"}),iconBg:"bg-green-100"};case"warning":return{container:"from-amber-50 to-yellow-100 border-yellow-200",titleColor:"text-amber-800",messageColor:"text-amber-700",icon:i.jsx(Jh,{className:"h-6 w-6 text-amber-600"}),iconBg:"bg-amber-100"};case"error":return{container:"from-red-50 to-rose-100 border-red-200",titleColor:"text-red-800",messageColor:"text-red-700",icon:i.jsx(Jh,{className:"h-6 w-6 text-red-600"}),iconBg:"bg-red-100"};case"bonus":return{container:"from-marigold-50 to-bollywood-100 border-marigold-200",titleColor:"text-marigold-800",messageColor:"text-bollywood-700",icon:i.jsx(qa,{className:"h-6 w-6 text-marigold-600"}),iconBg:"bg-marigold-100"};case"premium":return{container:"from-purple-50 to-royal-100 border-purple-200",titleColor:"text-purple-800",messageColor:"text-royal-700",icon:i.jsx(oe,{className:"h-6 w-6 text-purple-600"}),iconBg:"bg-purple-100"};default:return{container:"from-passion-50 to-romance-100 border-passion-200",titleColor:"text-passion-800",messageColor:"text-romance-700",icon:i.jsx($i,{className:"h-6 w-6 text-passion-600"}),iconBg:"bg-passion-100"}}},g=(j="primary")=>{switch(j){case"secondary":return"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300";case"danger":return"bg-red-500 hover:bg-red-600 text-white";default:return r==="bonus"?"bg-gradient-to-r from-marigold-500 to-bollywood-600 hover:from-marigold-600 hover:to-bollywood-700 text-white":"bg-gradient-to-r from-passion-500 to-romance-600 hover:from-passion-600 hover:to-romance-700 text-white"}},w=p();return t?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[i.jsx("div",{className:`absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onClick:f}),i.jsxs("div",{className:`relative max-w-sm w-full bg-gradient-to-br ${w.container} rounded-2xl border-2 shadow-2xl transform transition-all duration-300 ${d?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}`,children:[i.jsx("button",{onClick:f,className:"absolute top-3 right-3 p-1 rounded-full bg-white/80 hover:bg-white transition-all duration-200 hover:scale-110",children:i.jsx(Wn,{className:"h-4 w-4 text-gray-600"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:`p-3 rounded-full ${w.iconBg} shadow-lg`,children:s||w.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-bold text-lg ${w.titleColor} mb-1`,children:e}),i.jsx("p",{className:`text-sm ${w.messageColor} leading-relaxed`,children:n})]})]}),a.length>0&&i.jsx("div",{className:"flex gap-3 mt-6",children:a.map((j,T)=>i.jsx("button",{onClick:()=>{j.onClick(),f()},className:`flex-1 px-4 py-3 rounded-xl font-semibold text-sm transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl ${g(j.variant)}`,children:j.label},T))})]}),r==="bonus"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 bg-marigold-400 rounded-full opacity-70 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-bollywood-400 rounded-full opacity-70 animate-pulse delay-300"}),i.jsx("div",{className:"absolute top-1/2 -left-1 w-4 h-4 bg-coral-400 rounded-full opacity-50 animate-bounce delay-500"})]}),r==="premium"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute top-4 right-8 text-yellow-400 animate-pulse",children:"✨"}),i.jsx("div",{className:"absolute bottom-4 left-8 text-purple-400 animate-bounce delay-200",children:"✨"})]})]})]}):null}function P$(){const[t,e]=y.useState({isOpen:!1,title:"",message:""}),n=o=>{e({...o,isOpen:!0})},r=()=>{e(o=>({...o,isOpen:!1}))};return{showNotification:n,hideNotification:r,showBonusNotification:(o,l,c)=>{n({title:o,message:l,type:"bonus",actions:[{label:"Claim Now",onClick:c,variant:"primary"},{label:"Later",onClick:()=>{},variant:"secondary"}]})},NotificationComponent:()=>i.jsx(A$,{isOpen:t.isOpen,title:t.title,message:t.message,type:t.type,icon:t.icon,actions:t.actions,onClose:r,autoClose:t.autoClose})}}const R$=({canClaimDailyBonus:t,currentUser:e,hasCompletedOnboarding:n,showBonusNotification:r,claimDailyBonus:s})=>{const a=y.useRef(!1),o=y.useRef(""),l=y.useRef({showBonusNotification:r,claimDailyBonus:s});y.useEffect(()=>{l.current={showBonusNotification:r,claimDailyBonus:s}},[r,s]),y.useEffect(()=>{const c=new Date().toDateString();if(o.current!==c&&(a.current=!1,o.current=c),!t||!e||!n||a.current)return;const d=`daily_bonus_shown_${c}`;if(!sessionStorage.getItem(d)){a.current=!0,sessionStorage.setItem(d,"true");const f=setTimeout(()=>{l.current.showBonusNotification("🎁 Daily Bonus Available!","Claim your 5 coins now and keep your streak going!",l.current.claimDailyBonus)},2e3);return()=>clearTimeout(f)}},[t,e,n])};function O$({isPremium:t,onGenderSelect:e,onUpgrade:n}){const[r,s]=y.useState("any"),a=[{id:"any",label:"Anyone",icon:Re,description:"Connect with all genders",emoji:"👥",color:"from-blue-500 to-purple-600",bgColor:"bg-blue-50 hover:bg-blue-100"},{id:"male",label:"Male",icon:Ii,description:"Connect with males only",emoji:"👨",color:"from-cyan-500 to-blue-600",bgColor:"bg-cyan-50 hover:bg-cyan-100"},{id:"female",label:"Female",icon:Ii,description:"Connect with females only",emoji:"👩",color:"from-pink-500 to-rose-600",bgColor:"bg-pink-50 hover:bg-pink-100"}],o=l=>{if(!t&&l!=="any"){n();return}s(l),e(l)};return i.jsxs(J,{className:"w-full bg-white/95 backdrop-blur-sm shadow-xl border-rose-200 overflow-hidden",children:[i.jsx(Ft,{className:"pb-3 bg-gradient-to-r from-rose-50 to-pink-50 rounded-t-lg px-4 py-4",children:i.jsxs(Vt,{className:"text-lg flex items-center gap-2 text-rose-700",children:[i.jsx("div",{className:"p-2 bg-rose-100 rounded-full",children:i.jsx(Re,{className:"h-5 w-5 text-rose-600"})}),"Gender Preference 💗"]})}),i.jsxs(ce,{className:"p-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:a.map((l,c)=>{const d=!t&&l.id!=="any",h=r===l.id;return i.jsxs("div",{className:`relative group transform transition-all duration-500 hover:scale-102 ${h?"scale-105 z-10":""} animate-slide-in`,style:{animationDelay:`${c*150}ms`},children:[h&&i.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-rose-400/30 via-pink-400/30 to-purple-400/30 rounded-3xl blur-xl animate-pulse"}),i.jsxs(F,{variant:"ghost",className:`w-full h-auto p-4 sm:p-5 rounded-3xl transition-all duration-500 border-2 relative overflow-hidden group ${h?`bg-gradient-to-r ${l.color} text-white shadow-2xl border-white/50 animate-pulse-glow`:`${l.bgColor} border-gray-200 hover:border-gray-300 hover:shadow-xl group-hover:shadow-2xl`} ${d?"opacity-75":""}`,onClick:()=>o(l.id),children:[h&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12 animate-shimmer"}),i.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[h&&i.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-rose-400/20 via-pink-400/20 to-purple-400/20 rounded-full blur-xl animate-pulse"}),i.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center text-3xl sm:text-4xl transition-all duration-700 relative ${h?"bg-white/25 backdrop-blur-md shadow-2xl animate-bounce scale-110":"bg-white/90 group-hover:bg-white shadow-xl group-hover:shadow-2xl group-hover:scale-105"}`,children:i.jsx("span",{className:`transition-all duration-500 ${h?"animate-pulse":""}`,children:l.emoji})}),h&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute -inset-3 border-2 border-white/30 rounded-full animate-ping"}),i.jsx("div",{className:"absolute -inset-2 border-2 border-white/50 rounded-full animate-pulse",style:{animationDelay:"0.5s"}})]}),h&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute -top-1 -right-1 text-yellow-300 text-sm animate-bounce",children:"✨"}),i.jsx("div",{className:"absolute -bottom-1 -left-1 text-pink-300 text-xs animate-pulse",style:{animationDelay:"0.3s"},children:"⭐"})]})]}),i.jsxs("div",{className:"text-left flex-1 min-w-0 pr-2",children:[i.jsx("div",{className:`text-base sm:text-lg font-bold mb-1 transition-all duration-300 leading-tight ${h?"text-white drop-shadow-lg":"text-gray-800 group-hover:text-gray-900"}`,children:l.label}),i.jsx("div",{className:`text-xs sm:text-sm font-medium transition-all duration-300 leading-tight break-words ${h?"text-white/90":"text-gray-600 group-hover:text-gray-700"}`,children:l.description})]})]})]})]},l.id)})}),!t&&i.jsxs("div",{className:"mt-10 relative group animate-fade-in-up",children:[i.jsx("div",{className:"absolute -inset-8 bg-gradient-to-r from-purple-500/15 via-pink-500/15 to-orange-500/15 backdrop-blur-2xl rounded-3xl animate-pulse opacity-80"}),i.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-purple-400/25 via-pink-400/25 to-orange-400/25 backdrop-blur-xl rounded-3xl animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-300/35 via-pink-300/35 to-orange-300/35 backdrop-blur-lg rounded-3xl"}),i.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-200/45 via-pink-200/45 to-orange-200/45 backdrop-blur-md rounded-3xl"}),i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-white/20 via-white/10 to-white/20 backdrop-blur-sm rounded-3xl"}),i.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 rounded-3xl opacity-20 blur-xl animate-pulse"}),i.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-orange-600 p-8 rounded-3xl shadow-2xl border-3 border-white/60 overflow-hidden group-hover:scale-105 transition-all duration-500",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 animate-shimmer"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-purple-500/10 animate-pulse"}),i.jsx("div",{className:"absolute -top-3 -left-3 w-6 h-6 bg-yellow-400 rounded-full animate-bounce opacity-80"}),i.jsx("div",{className:"absolute -top-2 -right-4 w-4 h-4 bg-pink-300 rounded-full animate-pulse opacity-70"}),i.jsx("div",{className:"absolute -bottom-3 -left-4 w-5 h-5 bg-orange-400 rounded-full animate-bounce opacity-75",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute -bottom-2 -right-3 w-7 h-7 bg-purple-300 rounded-full animate-pulse opacity-60",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute top-4 right-6 text-yellow-300 text-xl animate-bounce",children:"✨"}),i.jsx("div",{className:"absolute bottom-4 left-6 text-pink-300 text-lg animate-pulse",children:"⭐"}),i.jsxs("div",{className:"relative z-10 text-center text-white",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/25 backdrop-blur-sm px-4 py-2 rounded-full text-base font-bold shadow-lg border border-white/30",children:[i.jsx(oe,{className:"h-5 w-5 text-yellow-300 animate-pulse"}),"Premium Feature",i.jsx(oe,{className:"h-5 w-5 text-yellow-300 animate-pulse"})]})}),i.jsx("h3",{className:"text-2xl font-bold mb-3 drop-shadow-lg animate-pulse",children:"🎯 Unlock Gender Filtering!"}),i.jsx("p",{className:"text-white/95 text-base mb-6 leading-relaxed",children:"Choose exactly who you want to meet with premium gender preferences"}),i.jsxs("div",{className:"flex justify-center gap-4 mb-6 text-sm font-medium",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-white/20 px-3 py-1 rounded-full",children:[i.jsx("span",{children:"👨"})," Male Filter"]}),i.jsxs("div",{className:"flex items-center gap-1 bg-white/20 px-3 py-1 rounded-full",children:[i.jsx("span",{children:"👩"})," Female Filter"]})]}),i.jsxs(F,{onClick:n,className:"bg-white text-purple-700 hover:bg-yellow-100 font-bold px-8 py-4 rounded-2xl shadow-2xl transform hover:scale-110 transition-all duration-300 border-3 border-yellow-300 hover:border-yellow-400 text-lg group",children:[i.jsx(oe,{className:"h-5 w-5 mr-2 text-yellow-600 group-hover:animate-bounce"}),"Upgrade Now ✨",i.jsx("div",{className:"ml-2 text-sm opacity-75",children:"Premium"})]})]})]})]})]})]})}const M$=["just came online! 💕","is ready to chat! ✨","wants to connect! 💖","is online and looking gorgeous! 🌟","just arrived! Time to sparkle! ✨","is here and ready to make magic! 💫","came online! Your heart might skip a beat! 💘","is online! Romance is in the air! 🌹","just logged in! Cupid is working! 💘","is ready for some fun! 🎉"],D$=["Your friend is online! 👫","is ready to catch up! 💕","came online! Time to reconnect! ✨","is here! Your bestie awaits! 💖","just arrived! Friendship goals! 🌟","is online! BFF time! 💫","came online! Let the fun begin! 🎉"];function L$({isVisible:t,onClose:e,onStartChat:n,user:r}){const[s,a]=y.useState(""),[o,l]=y.useState(!1);y.useEffect(()=>{if(t){l(!0);const h=r.isFriend?D$:M$,f=h[Math.floor(Math.random()*h.length)];a(f);const p=setTimeout(()=>{c()},6e3);return()=>clearTimeout(p)}},[t,r.isFriend]);const c=()=>{l(!1),setTimeout(e,300)},d=()=>{n&&n(),c()};return t?i.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:i.jsx("div",{className:`transform transition-all duration-300 ${o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:i.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border-l-4 border-pink-400 rounded-lg shadow-lg p-4 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[r.isFriend?i.jsx(Re,{className:"h-5 w-5 text-pink-500"}):i.jsx(gt,{className:"h-5 w-5 text-rose-500 animate-pulse"}),i.jsx("span",{className:"font-semibold text-gray-800",children:r.isFriend?"Friend Online!":"Someone Special!"})]}),i.jsx(F,{onClick:c,variant:"ghost",size:"sm",className:"p-1 h-6 w-6 text-gray-400 hover:text-gray-600",children:i.jsx(Wn,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs("div",{className:"relative",children:[r.profileImage?i.jsx("img",{src:r.profileImage,alt:r.name,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-200"}):i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-400 to-purple-400 flex items-center justify-center text-white font-bold text-lg",children:r.name.charAt(0).toUpperCase()}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium text-gray-800 flex items-center gap-2",children:[r.name,i.jsx(Kr,{className:"h-4 w-4 text-yellow-500 animate-spin"})]}),i.jsx("div",{className:"text-sm text-gray-600",children:s})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F,{onClick:d,className:"flex-1 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white text-sm py-2 shadow-md transform hover:scale-105 transition-all duration-200",children:[i.jsx(ar,{className:"h-4 w-4 mr-2"}),r.isFriend?"Say Hi!":"Start Chat"]}),i.jsx(F,{onClick:c,variant:"outline",className:"px-4 text-sm border-pink-200 text-pink-600 hover:bg-pink-50",children:"Later"})]}),i.jsx("div",{className:"absolute -top-2 -right-2 pointer-events-none",children:i.jsx("div",{className:"text-lg animate-bounce",children:"💖"})}),i.jsx("div",{className:"absolute top-1 -left-2 pointer-events-none",children:i.jsx("div",{className:"text-sm animate-pulse",children:"✨"})})]})})}):null}function U$(){const[t,e]=y.useState([]),n=r=>{e(s=>s.filter(a=>a.id!==r))};return y.useEffect(()=>{const r=setInterval(()=>{const s=Date.now();e(a=>a.filter(o=>s-o.timestamp<1e4))},1e3);return()=>clearInterval(r)},[]),i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map((r,s)=>i.jsx("div",{style:{transform:`translateY(${s*10}px)`},children:i.jsx(L$,{isVisible:!0,onClose:()=>n(r.id),user:r.user,onStartChat:()=>{console.log(`Starting chat with ${r.user.name}`),n(r.id)}})},r.id))})}function F$({isUltraPremium:t,onQuickMatch:e,onPremiumSearch:n,onAnalytics:r}){const[s,a]=y.useState({chatsToday:8,friendsOnline:12,reactionsSent:15,premiumFeaturesSaved:45}),[o,l]=y.useState(!0);return t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 rounded-3xl p-6 text-white overflow-hidden shadow-2xl",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),i.jsx("div",{className:"absolute top-4 right-4 text-purple-200/30",children:i.jsx(Si,{className:"h-12 w-12 animate-pulse"})}),i.jsx("div",{className:"absolute bottom-4 left-4 text-pink-200/30",children:i.jsx(oe,{className:"h-8 w-8 animate-bounce"})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-purple-200/20",children:i.jsx(Kr,{className:"h-16 w-16 animate-spin",style:{animationDuration:"8s"}})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(oe,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back, VIP!"}),i.jsx("p",{className:"text-purple-100",children:"Your ULTRA+ experience awaits"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:s.chatsToday}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Chats Today"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:s.friendsOnline}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Friends Online"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:s.reactionsSent}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Reactions Sent"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsxs("div",{className:"text-2xl font-bold",children:[s.premiumFeaturesSaved,"m"]}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Time Saved"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(F,{onClick:e,className:"bg-white/20 hover:bg-white/30 text-white border-none backdrop-blur-sm font-semibold py-3 rounded-xl transition-all duration-200 transform hover:scale-105",children:[i.jsx($i,{className:"h-4 w-4 mr-2"}),"ULTRA+ Match"]}),i.jsxs(F,{onClick:n,className:"bg-white/20 hover:bg-white/30 text-white border-none backdrop-blur-sm font-semibold py-3 rounded-xl transition-all duration-200 transform hover:scale-105",children:[i.jsx(Ci,{className:"h-4 w-4 mr-2"}),"VIP Search"]})]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(J,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-lg transition-all duration-200",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(vr,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-green-800",children:"Ad-Free Experience"}),i.jsx("p",{className:"text-green-600 text-sm",children:"Pure, uninterrupted chatting"}),i.jsxs("div",{className:"text-xs text-green-500 mt-1",children:["✨ ",s.premiumFeaturesSaved," minutes saved today"]})]})]})})}),i.jsx(J,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50 hover:shadow-lg transition-all duration-200",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx(Ha,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-blue-800",children:"Unlimited Chat Time"}),i.jsx("p",{className:"text-blue-600 text-sm",children:"No limits, endless conversations"}),i.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"∞ Freedom to connect"})]})]})})}),i.jsx(J,{className:"border-pink-200 bg-gradient-to-br from-pink-50 to-rose-50 hover:shadow-lg transition-all duration-200",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-pink-500 rounded-full flex items-center justify-center",children:i.jsx(gt,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-pink-800",children:"Premium Reactions"}),i.jsx("p",{className:"text-pink-600 text-sm",children:"Flare & Super Emoji unlocked"}),i.jsxs("div",{className:"text-xs text-pink-500 mt-1",children:["💖 ",s.reactionsSent," reactions sent today"]})]})]})})}),i.jsx(J,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:r,children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:i.jsx(Wa,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-purple-800",children:"Premium Analytics"}),i.jsx("p",{className:"text-purple-600 text-sm",children:"Detailed insights & stats"}),i.jsx("div",{className:"text-xs text-purple-500 mt-1",children:"📊 Tap to view dashboard"})]})]})})})]}),i.jsxs(J,{className:"border-gradient-to-r from-purple-200 to-pink-200 bg-gradient-to-br from-purple-50 via-white to-pink-50",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-purple-800",children:[i.jsx(Si,{className:"h-5 w-5"}),"ULTRA+ Exclusive Features"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg",children:[i.jsx(Re,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),i.jsx("div",{className:"text-sm font-medium text-purple-800",children:"Last Seen"}),i.jsx("div",{className:"text-xs text-purple-600",children:"See when friends were active"})]}),i.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-pink-100 to-purple-100 rounded-lg",children:[i.jsx(ar,{className:"h-6 w-6 text-pink-600 mx-auto mb-2"}),i.jsx("div",{className:"text-sm font-medium text-pink-800",children:"Read Receipts"}),i.jsx("div",{className:"text-xs text-pink-600",children:"Know when messages are read"})]}),i.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg",children:[i.jsx(Ai,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),i.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Face Filters"}),i.jsx("div",{className:"text-xs text-blue-600",children:"Instagram-style filters"})]}),i.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-lg",children:[i.jsx(Xh,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),i.jsx("div",{className:"text-sm font-medium text-orange-800",children:"VIP Status"}),i.jsx("div",{className:"text-xs text-orange-600",children:"Priority in everything"})]})]})})]}),i.jsxs(J,{className:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-orange-50",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx(Xh,{className:"h-5 w-5"}),"Today's Achievements"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-100 rounded-lg",children:[i.jsx("div",{className:"text-green-600",children:"🎯"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-green-800",children:"Chat Master"}),i.jsx("div",{className:"text-xs text-green-600",children:"Completed 8 chats today"})]}),i.jsx("div",{className:"text-green-600 font-bold",children:"+50 XP"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-pink-100 rounded-lg",children:[i.jsx("div",{className:"text-pink-600",children:"💖"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-pink-800",children:"Heart Collector"}),i.jsx("div",{className:"text-xs text-pink-600",children:"Sent 15 premium reactions"})]}),i.jsx("div",{className:"text-pink-600 font-bold",children:"+30 XP"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-purple-100 rounded-lg",children:[i.jsx("div",{className:"text-purple-600",children:"👑"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-purple-800",children:"ULTRA+ Legend"}),i.jsx("div",{className:"text-xs text-purple-600",children:"Using premium features daily"})]}),i.jsx("div",{className:"text-purple-600 font-bold",children:"+100 XP"})]})]})})]})]}):null}const V$=["ca-app-pub-1776596266948987/2770517385","ca-app-pub-1776596266948987/7315217300","ca-app-pub-1776596266948987/2468099206"],$$=[{name:"Priya",text:"Found my perfect match here! So grateful 💕",rating:5},{name:"Arjun",text:"Every chat is a new adventure, truly amazing!",rating:5},{name:"Sneha",text:"Safe, fun, and full of romantic possibilities 🌟",rating:5}];function z$(){const{socket:t,isUsingMockMode:e}=em(),n=Ge(),{isPremium:r,setPremium:s,isUltraPremium:a,isProMonthly:o,premiumPlan:l}=Nt(),{coins:c,claimDailyBonus:d,canClaimDailyBonus:h,isLoading:f,currentUser:p,hasCompletedOnboarding:g}=Tr(),{t:w}=Yy(),[j,T]=y.useState(0),[b,v]=y.useState(0),[k,R]=y.useState(!1),[D,O]=y.useState(!1),[A,N]=y.useState(12847),{showBonusNotification:I,NotificationComponent:_}=P$(),{buttonTap:P,premiumAction:S,matchFound:C}=qS();R$({canClaimDailyBonus:h,currentUser:p,hasCompletedOnboarding:g,showBonusNotification:I,claimDailyBonus:d}),y.useEffect(()=>{p&&!f&&!g&&n("/onboarding")},[p,g,f,n]),y.useEffect(()=>{const le=setInterval(()=>{N(B=>B+Math.floor(Math.random()*10)-5)},5e3);return()=>clearInterval(le)},[]),y.useEffect(()=>{const le=setInterval(()=>{T(B=>(B+1)%V$.length)},4e3);return()=>clearInterval(le)},[]),y.useEffect(()=>{const le=setInterval(()=>{v(B=>(B+1)%$$.length)},3e3);return()=>clearInterval(le)},[]);const G=y.useCallback(async le=>{le.preventDefault(),!D&&(C(),O(!0),Yg("join"),n("/video-chat",{state:{isSearching:!0}}),O(!1))},[n,D,C]),de=y.useCallback(()=>{P(),n("/voice")},[n,P]),je=()=>{S(),n("/premium")};return f&&p?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-peach-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):i.jsxs(i.Fragment,{children:[i.jsx(El,{children:i.jsxs("title",{children:[w("app.name")," - Random Video Chat - Live chat with ajnabis"]})}),i.jsx(Ga,{children:i.jsxs("main",{className:`flex flex-col min-h-screen w-full relative ${a()?"bg-rose-50/30":"bg-gray-50"}`,children:[i.jsxs("div",{className:"flex-1 px-4 py-6 space-y-6",children:[i.jsx("div",{className:`rounded-2xl p-4 shadow-sm border ${a()?"bg-gradient-to-br from-amber-100 to-orange-100 border-amber-200/50":"bg-white border-gray-100"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a()?"bg-gradient-to-r from-rose-500 to-pink-500":"bg-gradient-to-r from-purple-600 to-pink-600"}`,children:i.jsx(Ii,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`font-semibold ${a()?"text-amber-900":"text-gray-900"}`,children:"AjnabiCam"}),r&&i.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full ${a()?"bg-gradient-to-r from-rose-500 to-pink-500":"bg-gradient-to-r from-purple-500 to-pink-500"}`,children:[i.jsx(oe,{className:"h-3 w-3 text-white"}),i.jsx("span",{className:"text-white text-xs font-bold",children:"ULTRA+"})]})]}),i.jsxs("div",{className:`flex items-center gap-4 text-sm ${a()?"text-amber-700":"text-gray-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ti,{className:`h-4 w-4 ${a()?"text-amber-600":"text-yellow-500"}`}),i.jsx("span",{className:"font-medium",children:f?"...":c})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full"}),i.jsx("span",{children:"Online"})]})]})]})]}),i.jsx("button",{onClick:()=>{P(),n("/profile")},className:`p-2 rounded-lg transition-colors ${a()?"bg-amber-200/50 hover:bg-amber-200 text-amber-700":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:i.jsx(Ss,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:`rounded-2xl p-6 text-white shadow-lg ${a()?"bg-gradient-to-br from-amber-700 via-orange-600 to-red-500":"bg-gradient-to-br from-purple-600 to-pink-600"}`,children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:i.jsx(gt,{className:"h-8 w-8 text-white"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Start Video Chat"}),i.jsx("p",{className:"text-white/90 text-sm",children:"Connect with amazing people worldwide"})]}),i.jsx(F,{className:`w-full py-4 rounded-xl font-semibold text-lg shadow-lg touch-action-manipulation transition-all duration-200 active:scale-95 ${a()?"bg-white text-amber-700 hover:bg-amber-50":"bg-white text-purple-600 hover:bg-gray-100"}`,onClick:G,disabled:D,children:D?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:`w-5 h-5 border-2 border-t-transparent rounded-full animate-spin ${a()?"border-amber-700":"border-purple-600"}`}),i.jsx("span",{children:"Finding match..."})]}):i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ai,{className:"h-5 w-5"}),i.jsx("span",{children:"Start Chat"}),i.jsx(Kr,{className:"h-4 w-4"})]})})]})}),i.jsxs("div",{className:`rounded-2xl p-4 shadow-sm border ${a()?"bg-gradient-to-br from-rose-50 to-pink-50 border-rose-200/50":"bg-white border-gray-100"}`,children:[i.jsx("h3",{className:`font-semibold mb-3 ${a()?"text-rose-900":"text-gray-900"}`,children:"Chat Preferences"}),i.jsx(O$,{isPremium:r,onGenderSelect:le=>{console.log("Selected gender:",le)},onUpgrade:je})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("div",{onClick:()=>{P(),n("/friends")},className:`rounded-xl p-4 shadow-sm border hover:shadow-md transition-all active:scale-95 cursor-pointer ${a()?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200/50":"bg-white border-gray-100"}`,children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mx-auto ${a(),"bg-rose-100 text-rose-600"}`,children:i.jsx(Re,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${a()?"text-amber-900":"text-gray-900"}`,children:"Friends"}),i.jsx("p",{className:`text-xs ${a()?"text-amber-700":"text-gray-600"}`,children:"Connect with buddies"})]})]})}),i.jsx("div",{onClick:()=>{P(),n("/ai-chatbot")},className:`rounded-xl p-4 shadow-sm border hover:shadow-md transition-all active:scale-95 cursor-pointer ${a()?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200/50":"bg-white border-gray-100"}`,children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mx-auto ${a(),"bg-pink-100 text-pink-600"}`,children:i.jsx(am,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${a()?"text-amber-900":"text-gray-900"}`,children:"AI Chat"}),i.jsx("p",{className:`text-xs ${a()?"text-amber-700":"text-gray-600"}`,children:"Smart conversations"})]})]})}),i.jsx("div",{onClick:de,className:`rounded-xl p-4 shadow-sm border hover:shadow-md transition-all active:scale-95 cursor-pointer ${a()?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200/50":"bg-white border-gray-100"}`,children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mx-auto ${a(),"bg-orange-100 text-orange-600"}`,children:i.jsx(pu,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${a()?"text-amber-900":"text-gray-900"}`,children:"Voice"}),i.jsx("p",{className:`text-xs ${a()?"text-amber-700":"text-gray-600"}`,children:"Audio only chats"})]})]})}),i.jsx("div",{onClick:()=>{P(),R(!0)},className:`rounded-xl p-4 shadow-sm border hover:shadow-md transition-all active:scale-95 cursor-pointer ${a()?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200/50":"bg-white border-gray-100"}`,children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mx-auto ${a(),"bg-amber-100 text-amber-600"}`,children:i.jsx(Ti,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${a()?"text-amber-900":"text-gray-900"}`,children:"Coins"}),i.jsx("p",{className:`text-xs ${a()?"text-amber-700":"text-gray-600"}`,children:"Earn rewards"})]})]})})]}),!r&&i.jsx("div",{className:`rounded-2xl p-4 text-white ${a()?"bg-gradient-to-r from-rose-400 to-pink-500":"bg-gradient-to-r from-yellow-400 to-orange-500"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold mb-1",children:"💰 Earn Free Coins!"}),i.jsx("p",{className:"text-sm text-white/90",children:"Watch ads to earn coins"})]}),i.jsx(Ky,{variant:"compact",onRewardEarned:le=>{console.log(`User earned ${le} coins from ad`)}})]})})]}),!a()&&i.jsx("div",{className:"px-4 pb-6",children:i.jsxs(F,{onClick:()=>{S();const le=new Date;le.setMonth(le.getMonth()+3),s(!0,le,"ultra-quarterly"),alert("🎉 ULTRA+ activated! Experience the luxury!"),window.location.reload()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 active:scale-95 text-white py-4 px-5 rounded-2xl shadow-lg transition-all duration-200 text-center touch-action-manipulation",children:[i.jsx(oe,{className:"h-5 w-5 mr-2"}),"🧪 Try ULTRA+ Experience (Test Mode)"]})}),a()&&i.jsx("div",{className:"px-4 pb-6",children:i.jsx(F$,{isUltraPremium:!0,onQuickMatch:()=>{O(!0),n("/video-chat",{state:{genderFilter:"all",voiceOnly:!1,isSearching:!0}})},onPremiumSearch:()=>{O(!0),n("/video-chat",{state:{genderFilter:"premium",voiceOnly:!1,isSearching:!0}})},onAnalytics:()=>{console.log("Opening ULTRA+ Analytics Dashboard")}})}),a()?i.jsx(Nl,{}):i.jsx(Ka,{})]})}),(a()||o())&&i.jsx(U$,{}),i.jsx(zS,{isOpen:k,onClose:()=>R(!1)}),i.jsx(_,{})]})}function kp(){try{return i.jsx(z$,{})}catch(t){return console.error("Error in HomePage:",t),i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{children:"Error loading home page"})})}}function B$({isUltraPremium:t,userProfile:e,onProfileUpdate:n}){var p;const[r,s]=y.useState(!1),[a,o]=y.useState(e),[l,c]=y.useState("purple"),d=[{id:"purple",name:"Royal Purple",color:"from-purple-600 to-pink-600"},{id:"gold",name:"Golden Crown",color:"from-yellow-500 to-orange-600"},{id:"diamond",name:"Diamond Elite",color:"from-cyan-500 to-blue-600"},{id:"rose",name:"Rose Garden",color:"from-pink-500 to-rose-600"}],h=[{id:1,title:"ULTRA+ Pioneer",description:"First week premium user",icon:"🚀",unlocked:!0},{id:2,title:"Social Butterfly",description:"100+ successful chats",icon:"🦋",unlocked:!0},{id:3,title:"Heart Collector",description:"500+ reactions sent",icon:"💖",unlocked:!0},{id:4,title:"Friend Magnet",description:"50+ friends added",icon:"🧲",unlocked:!1},{id:5,title:"Premium Legend",description:"6 months ULTRA+",icon:"👑",unlocked:!1},{id:6,title:"Filter Master",description:"Used all face filters",icon:"🎭",unlocked:!0}];if(!t)return null;const f=()=>{const w=Math.abs(new Date().getTime()-e.premiumSince.getTime());return Math.ceil(w/(1e3*60*60*24))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`relative bg-gradient-to-br ${(p=d.find(g=>g.id===l))==null?void 0:p.color} rounded-3xl p-6 text-white overflow-hidden shadow-2xl`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),i.jsx("div",{className:"absolute top-4 right-4 text-white/20",children:i.jsx(Si,{className:"h-16 w-16 animate-pulse"})}),i.jsx("div",{className:"absolute bottom-4 left-4 text-white/20",children:i.jsx(oe,{className:"h-12 w-12 animate-bounce"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[e.profileImage?i.jsx("img",{src:e.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white/30 shadow-lg"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:e.name.charAt(0)}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(oe,{className:"h-4 w-4 text-white"})}),i.jsx("button",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 transition-transform",children:i.jsx(Aa,{className:"h-4 w-4 text-gray-600"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:e.name}),i.jsxs("div",{className:"bg-yellow-400 px-3 py-1 rounded-full flex items-center gap-1",children:[i.jsx(Si,{className:"h-4 w-4 text-white"}),i.jsx("span",{className:"text-white text-sm font-bold",children:"ULTRA+"})]})]}),i.jsx("p",{className:"text-white/90 mb-3",children:e.bio}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ha,{className:"h-4 w-4"}),i.jsxs("span",{children:["Premium for ",f()," days"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{className:"h-4 w-4"}),i.jsxs("span",{children:[e.totalFriends," friends"]})]})]})]}),i.jsxs(F,{onClick:()=>s(!r),className:"bg-white/20 hover:bg-white/30 text-white border-none backdrop-blur-sm",children:[i.jsx(c0,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:e.totalChats}),i.jsx("div",{className:"text-white/80 text-xs",children:"Total Chats"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:e.premiumFeatureUsage.reactionsUsed}),i.jsx("div",{className:"text-white/80 text-xs",children:"Reactions"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsx("div",{className:"text-2xl font-bold",children:e.premiumFeatureUsage.filtersUsed}),i.jsx("div",{className:"text-white/80 text-xs",children:"Filters Used"})]}),i.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[i.jsxs("div",{className:"text-2xl font-bold",children:[e.premiumFeatureUsage.adsFree,"h"]}),i.jsx("div",{className:"text-white/80 text-xs",children:"Ad-Free Time"})]})]})]})]}),i.jsxs(J,{className:"border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-purple-800",children:[i.jsx(m7,{className:"h-5 w-5"}),"ULTRA+ Themes"]})}),i.jsx(ce,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:d.map(g=>i.jsxs("button",{onClick:()=>c(g.id),className:`p-4 rounded-xl bg-gradient-to-r ${g.color} text-white text-center transition-all duration-200 transform hover:scale-105 ${l===g.id?"ring-2 ring-white shadow-lg scale-105":""}`,children:[i.jsx("div",{className:"text-sm font-bold",children:g.name}),l===g.id&&i.jsx("div",{className:"mt-1",children:i.jsx(Ci,{className:"h-4 w-4 mx-auto text-yellow-300"})})]},g.id))})})]}),i.jsxs(J,{className:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-orange-50",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx(Xh,{className:"h-5 w-5"}),"Premium Achievements"]})}),i.jsx(ce,{children:i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:h.map(g=>i.jsx("div",{className:`p-4 rounded-xl border-2 transition-all duration-200 ${g.unlocked?"border-green-200 bg-green-50 hover:shadow-lg":"border-gray-200 bg-gray-50 opacity-60"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`text-3xl ${g.unlocked?"":"grayscale"}`,children:g.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-bold ${g.unlocked?"text-green-800":"text-gray-600"}`,children:g.title}),i.jsx("p",{className:`text-sm ${g.unlocked?"text-green-600":"text-gray-500"}`,children:g.description})]}),g.unlocked&&i.jsx("div",{className:"text-green-500",children:i.jsx(Xh,{className:"h-6 w-6"})})]})},g.id))})})]}),i.jsxs(J,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-purple-800",children:[i.jsx(Wa,{className:"h-5 w-5"}),"Premium Usage Analytics"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Premium Reactions"}),i.jsxs("span",{className:"text-sm text-purple-600",children:[e.premiumFeatureUsage.reactionsUsed,"/∞"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-3 rounded-full",style:{width:"75%"}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Face Filters Used"}),i.jsxs("span",{className:"text-sm text-purple-600",children:[e.premiumFeatureUsage.filtersUsed,"/20"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full",style:{width:"60%"}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ad-Free Hours Enjoyed"}),i.jsxs("span",{className:"text-sm text-green-600",children:[e.premiumFeatureUsage.adsFree,"h saved"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full",style:{width:"100%"}})})]})]})})]}),i.jsxs(J,{className:"border-purple-200",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-purple-800",children:[i.jsx(Ss,{className:"h-5 w-5"}),"ULTRA+ Settings"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vr,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-purple-800",children:"Enhanced Privacy"}),i.jsx("div",{className:"text-sm text-purple-600",children:"Advanced privacy controls"})]})]}),i.jsx("div",{className:"w-12 h-6 bg-purple-200 rounded-full relative cursor-pointer",children:i.jsx("div",{className:"w-5 h-5 bg-purple-600 rounded-full absolute top-0.5 right-0.5 transition-all"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kr,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-purple-800",children:"Premium Notifications"}),i.jsx("div",{className:"text-sm text-purple-600",children:"Get notified about premium features"})]})]}),i.jsx("div",{className:"w-12 h-6 bg-purple-200 rounded-full relative cursor-pointer",children:i.jsx("div",{className:"w-5 h-5 bg-purple-600 rounded-full absolute top-0.5 right-0.5 transition-all"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Re,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-purple-800",children:"VIP Matching"}),i.jsx("div",{className:"text-sm text-purple-600",children:"Priority matching with other premium users"})]})]}),i.jsx("div",{className:"w-12 h-6 bg-purple-200 rounded-full relative cursor-pointer",children:i.jsx("div",{className:"w-5 h-5 bg-purple-600 rounded-full absolute top-0.5 right-0.5 transition-all"})})]})]})})]})]})}const Xy={PROFILE_IMAGES:"profile-images",CHAT_PHOTOS:"chat-photos",TEMP_PHOTOS:"temp-photos"},lm={PROFILE_IMAGE:5*1024*1024,CHAT_PHOTO:10*1024*1024},E1=["image/jpeg","image/jpg","image/png","image/webp","image/gif"];function Jy(t,e=lm.CHAT_PHOTO){return E1.includes(t.type)?t.size>e?{isValid:!1,error:`File size too large. Maximum size allowed: ${(e/1048576).toFixed(1)}MB`}:{isValid:!0}:{isValid:!1,error:`Invalid file type. Allowed types: ${E1.join(", ")}`}}function Zy(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,8),s=t.split(".").pop();return`${e?`${e}_`:""}${n}_${r}.${s}`}async function tC(t,e,n){const r=Jy(t,lm.PROFILE_IMAGE);if(!r.isValid)throw new Error(r.error);const s=Zy(t.name,`profile_${e}`),a=`${Xy.PROFILE_IMAGES}/${e}/${s}`,o=Ba(Un,a);try{if(n){const l=ND(o,t);return new Promise((c,d)=>{l.on("state_changed",h=>{const f=h.bytesTransferred/h.totalBytes*100;n(f)},h=>d(h),async()=>{try{const h=await ki(l.snapshot.ref);c({url:h,path:a})}catch(h){d(h)}})})}else{const l=await za(o,t);return{url:await ki(l.ref),path:a}}}catch(l){throw console.error("Error uploading profile image:",l),new Error("Failed to upload profile image")}}async function H$(t,e,n,r){const s=Jy(t,lm.CHAT_PHOTO);if(!s.isValid)throw new Error(s.error);const a=Zy(t.name,`chat_${e}`),o=`${Xy.CHAT_PHOTOS}/${e}/${n}/${a}`,l=Ba(Un,o);try{if(!r){const c=await za(l,t);return{url:await ki(c.ref),path:o}}}catch(c){throw console.error("Error uploading chat photo:",c),new Error("Failed to upload chat photo")}}async function q$(t,e,n){const r=Jy(t,lm.CHAT_PHOTO);if(!r.isValid)throw new Error(r.error);const s=Zy(t.name,`temp_${e}`),a=`${Xy.TEMP_PHOTOS}/${e}/${s}`,o=Ba(Un,a),l=new Date(Date.now()+24*60*60*1e3),c={customMetadata:{expiresAt:l.toISOString(),sessionId:e,autoDelete:"true"}};try{if(!n){const d=await za(o,t,c);return{url:await ki(d.ref),path:a,expiresAt:l}}}catch(d){throw console.error("Error uploading temp photo:",d),new Error("Failed to upload temporary photo")}}function W$({isOpen:t,onClose:e,likes:n,onRevealLike:r}){const{coins:s,deductCoins:a}=Tr(),{isPremium:o}=Nt(),[l,c]=y.useState(!1);if(!t)return null;const d=async p=>{if(o){r(p);return}if(s<10){alert("💰 You need at least 10 coins to reveal a like! Get more coins or upgrade to Premium.");return}if(window.confirm("💝 Pay 10 coins to reveal who liked you?")){c(!0);try{await a(10)?(r(p),alert("✨ Like revealed! 10 coins deducted from your account.")):alert("❌ Payment failed. Please try again.")}catch(w){console.error("Error processing payment:",w),alert("❌ Payment failed. Please try again.")}finally{c(!1)}}},h=n.filter(p=>p.isRevealed),f=n.filter(p=>!p.isRevealed);return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(J,{className:"w-full max-w-md bg-white shadow-2xl border-0 max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-pink-500 via-rose-500 to-red-500 p-6 text-white relative",children:[i.jsx("div",{className:"absolute inset-0 bg-white/10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-white/20 flex items-center justify-center",children:i.jsx(gt,{className:"w-6 h-6 text-white fill-current"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Who Liked You"}),i.jsxs("p",{className:"text-white/80 text-sm",children:[n.length," total likes"]})]})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 transition-colors",children:i.jsx(Wn,{className:"w-5 h-5"})})]})})]}),i.jsxs(ce,{className:"p-0 max-h-96 overflow-y-auto",children:[!o&&i.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(oe,{className:"w-5 h-5 text-yellow-800"}),i.jsx("span",{className:"font-bold text-yellow-800",children:"Upgrade to Premium"})]}),i.jsx("p",{className:"text-yellow-800 text-sm mb-3",children:"See all your likes instantly! No more paying per view."}),i.jsx(F,{onClick:()=>{e()},className:"bg-yellow-800 hover:bg-yellow-900 text-white font-semibold px-6 py-2",children:"Upgrade Now"})]}),h.length>0&&i.jsxs("div",{className:"p-4",children:[i.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx(vr,{className:"w-4 h-4"}),"Revealed Likes (",h.length,")"]}),i.jsx("div",{className:"space-y-3",children:h.map(p=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200",children:[i.jsx("img",{src:p.avatar,alt:p.name,className:"w-12 h-12 object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h4",{className:"font-semibold text-gray-800",children:[p.name,", ",p.age]}),i.jsx("p",{className:"text-sm text-gray-600",children:p.location}),i.jsx("p",{className:"text-xs text-gray-500",children:p.timeAgo})]}),i.jsx(F,{onClick:()=>{alert(`Starting chat with ${p.name}...`)},className:"bg-pink-500 hover:bg-pink-600 text-white px-3 py-1 text-sm",children:"Chat"})]},p.id))})]}),f.length>0&&i.jsxs("div",{className:"p-4 border-t border-gray-100",children:[i.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx(gt,{className:"w-4 h-4"}),"Hidden Likes (",f.length,")"]}),i.jsx("div",{className:"space-y-3",children:f.map(p=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 relative",children:[i.jsxs("div",{className:"w-12 h-12 bg-gray-300 flex items-center justify-center relative overflow-hidden",children:[i.jsx("img",{src:p.avatar,alt:"Hidden profile",className:"w-full h-full object-cover blur-lg"}),i.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:i.jsx(gt,{className:"w-4 h-4 text-white"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-600",children:"Someone special"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Location hidden"}),i.jsx("p",{className:"text-xs text-gray-400",children:p.timeAgo})]}),i.jsx("div",{className:"text-center",children:o?i.jsxs(F,{onClick:()=>d(p.id),className:"bg-pink-500 hover:bg-pink-600 text-white px-3 py-1 text-sm",disabled:l,children:[i.jsx(oe,{className:"w-3 h-3 mr-1"}),"Reveal"]}):i.jsxs("div",{className:"space-y-1",children:[i.jsxs(F,{onClick:()=>d(p.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 text-sm w-full",disabled:l||s<10,children:[i.jsx(Ti,{className:"w-3 h-3 mr-1"}),"10 coins"]}),i.jsx("p",{className:"text-xs text-gray-500",children:s<10?"Need more coins":"Pay to reveal"})]})})]},p.id))})]}),n.length===0&&i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(gt,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No likes yet"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Complete your profile and start meeting people to get likes!"})]}),!o&&i.jsxs("div",{className:"bg-gray-50 p-4 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Your Balance:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{className:`font-bold ${s>=10?"text-green-600":"text-red-500"}`,children:[s," coins"]})]})]}),s<10&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You need at least 10 coins to reveal a like"})]})]})]})})}const Id={small:{width:320,height:50},medium:{width:728,height:90},large:{width:970,height:250},responsive:void 0};function G$({size:t="responsive",position:e="inline",adUnitId:n,className:r="",style:s={}}){var g;const a=y.useRef(null),[o,l]=y.useState(!1),[c,d]=y.useState(!1),{isUltraPremium:h,isProMonthly:f}=Nt();if(h()||f()||(y.useEffect(()=>{const j=setTimeout(async()=>{if(!a.current)return;const T=`banner-ad-${Math.random().toString(36).substr(2,9)}`;a.current.id=T;try{const b={id:T,type:"banner",position:e,size:Id[t]};await cl.loadBannerAd(T,b,n)?(l(!0),cl.trackAdEvent("shown","banner")):d(!0)}catch(b){console.error("Banner ad failed to load:",b),d(!0)}},100);return()=>clearTimeout(j)},[t,e]),c))return null;const p={width:"100%",textAlign:"center",margin:"10px 0",...s};if(Id[t]){const w=Id[t];p.minHeight=`${w.height}px`,p.maxWidth=`${w.width}px`,p.margin="10px auto"}return i.jsx("div",{className:`banner-ad ${r}`,style:p,children:i.jsx("div",{ref:a,style:{width:"100%",height:"100%"},children:(c||!1)&&i.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",minHeight:((g=Id[t])==null?void 0:g.height)||"90px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 5px 0",fontWeight:"bold"},children:"📱 Advertisement"}),i.jsx("p",{style:{margin:0,fontSize:"12px",opacity:.8},children:c?"Ad failed to load":"Sample ad content"})]})})})})}function K$({onModeChange:t}){const{isPremium:e,isUltraPremium:n,isProMonthly:r,setPremium:s}=Nt(),[a,o]=y.useState(!1),[l,c]=y.useState({}),d=()=>n()?"ultra+":r()?"pro-monthly":"free",h=j=>{switch(j){case"ultra+":return"ULTRA+";case"pro-monthly":return"Pro Monthly";case"free":return"Free";default:return"Unknown"}},f=async j=>{o(!0);try{if(j==="free")await s(!1);else if(j==="pro-monthly"){const T=new Date;T.setMonth(T.getMonth()+1),await s(!0,T,"pro-monthly")}else if(j==="ultra+"){const T=new Date;T.setMonth(T.getMonth()+3),await s(!0,T,"ultra-quarterly")}t==null||t(j),p(j)}catch(T){console.error("Failed to switch mode:",T),alert("Failed to switch mode. Please try again.")}finally{o(!1)}},p=j=>{c({mode:j,features:{adsShown:j==="free",profileViews:j!=="free",unlimitedChats:j==="ultra+",premiumFilters:j!=="free",prioritySupport:j==="ultra+",advancedAnalytics:j==="ultra+",secretLikes:j!=="free",profileBoost:j==="ultra+"},testedAt:new Date().toLocaleTimeString()})},g=[{id:"free",name:"Free",icon:Re,color:"from-gray-400 to-gray-500",borderColor:"border-gray-300",description:"Basic features with ads",features:[{name:"Basic chat",available:!0},{name:"Limited matches",available:!0},{name:"Ads shown",available:!0,isLimitation:!0},{name:"Profile views",available:!1},{name:"Secret likes",available:!1}]},{id:"pro-monthly",name:"Pro Monthly",icon:bn,color:"from-blue-500 to-purple-500",borderColor:"border-blue-300",description:"Enhanced features, ad-free",features:[{name:"Ad-free experience",available:!0},{name:"See profile views",available:!0},{name:"Reveal secret likes",available:!0},{name:"Premium filters",available:!0},{name:"Unlimited chats",available:!1}]},{id:"ultra+",name:"ULTRA+",icon:oe,color:"from-yellow-400 to-amber-500",borderColor:"border-yellow-300",description:"All premium features unlocked",features:[{name:"Everything in Pro",available:!0},{name:"Unlimited chats",available:!0},{name:"Priority support",available:!0},{name:"Advanced analytics",available:!0},{name:"Profile boost",available:!0}]}],w=d();return i.jsxs("div",{className:"space-y-6 bg-gradient-to-r from-indigo-50 to-purple-100 p-6 rounded-2xl border border-indigo-200",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(Pc,{className:"w-6 h-6 text-indigo-600"}),i.jsx("h2",{className:"text-2xl font-bold text-indigo-900",children:"Mode Testing Panel"}),i.jsx(Ss,{className:"w-6 h-6 text-indigo-600"})]}),i.jsx("p",{className:"text-indigo-700",children:"Test all subscription modes and their features"})]}),i.jsx(J,{className:"bg-white/90 backdrop-blur-sm border-2 border-indigo-300 shadow-lg",children:i.jsxs(ce,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:i.jsx(vr,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Current Mode"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active subscription tier"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:h(w)}),i.jsxs("div",{className:"text-sm text-gray-500",children:[w==="free"&&"🆓 Basic features",w==="pro-monthly"&&"💎 Premium features",w==="ultra+"&&"👑 Ultimate experience"]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsxs("div",{className:`p-3 rounded-xl text-center ${w==="free"?"bg-gray-100 border-2 border-gray-300":"bg-gray-50"}`,children:[i.jsx(Re,{className:"w-5 h-5 mx-auto mb-1 text-gray-600"}),i.jsx("div",{className:`text-sm font-medium ${w==="free"?"text-gray-800":"text-gray-500"}`,children:"Free"})]}),i.jsxs("div",{className:`p-3 rounded-xl text-center ${w==="pro-monthly"?"bg-blue-100 border-2 border-blue-300":"bg-gray-50"}`,children:[i.jsx(bn,{className:"w-5 h-5 mx-auto mb-1 text-blue-600"}),i.jsx("div",{className:`text-sm font-medium ${w==="pro-monthly"?"text-blue-800":"text-gray-500"}`,children:"Pro"})]}),i.jsxs("div",{className:`p-3 rounded-xl text-center ${w==="ultra+"?"bg-yellow-100 border-2 border-yellow-300":"bg-gray-50"}`,children:[i.jsx(oe,{className:"w-5 h-5 mx-auto mb-1 text-yellow-600"}),i.jsx("div",{className:`text-sm font-medium ${w==="ultra+"?"text-yellow-800":"text-gray-500"}`,children:"ULTRA+"})]})]})]})}),i.jsx("div",{className:"grid gap-4",children:g.map(j=>{const T=j.icon,b=w===j.id;return i.jsx(J,{className:`transition-all duration-300 hover:shadow-xl ${b?`border-2 ${j.borderColor} bg-white shadow-lg transform scale-105`:"border border-gray-200 bg-white/80 hover:bg-white"}`,children:i.jsxs(ce,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${j.color} rounded-xl flex items-center justify-center shadow-md`,children:i.jsx(T,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[j.name,b&&i.jsx(Xs,{className:"w-5 h-5 text-green-500"})]}),i.jsx("p",{className:"text-gray-600",children:j.description})]})]}),i.jsx(F,{onClick:()=>f(j.id),disabled:a||b,className:`${b?"bg-green-500 hover:bg-green-600":`bg-gradient-to-r ${j.color} hover:opacity-90`} text-white font-semibold px-6 py-2 rounded-xl transition-all duration-200 disabled:opacity-50`,children:a?i.jsx(x7,{className:"w-4 h-4 animate-spin"}):b?i.jsxs(i.Fragment,{children:[i.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Active"]}):i.jsxs(i.Fragment,{children:[i.jsx(zn,{className:"w-4 h-4 mr-2"}),"Test ",j.name]})})]}),i.jsx("div",{className:"space-y-2",children:j.features.map((v,k)=>i.jsxs("div",{className:"flex items-center gap-3",children:[v.available?i.jsx(Xs,{className:`w-4 h-4 ${v.isLimitation?"text-red-500":"text-green-500"}`}):i.jsx(mu,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:`text-sm ${v.available?v.isLimitation?"text-red-600 font-medium":"text-gray-700":"text-gray-400"}`,children:v.name})]},k))})]})},j.id)})}),l.mode&&i.jsx(J,{className:"bg-white/90 backdrop-blur-sm border border-green-300 shadow-lg",children:i.jsxs(ce,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:i.jsx(Pc,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Test Results"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Last tested: ",l.testedAt]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[i.jsxs("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:["Testing ",h(l.mode)," features:"]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(l.features).map(([j,T])=>i.jsxs("div",{className:"flex items-center gap-2",children:[T?i.jsx(Xs,{className:"w-4 h-4 text-green-500"}):i.jsx(mu,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-sm text-gray-700 capitalize",children:j.replace(/([A-Z])/g," $1").trim()})]},j))})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(F,{onClick:()=>p(w),className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",children:[i.jsx(Pc,{className:"w-5 h-5 mr-2"}),"Test Current Mode"]}),i.jsxs(F,{onClick:()=>{c({}),window.location.reload()},className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-bold py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",children:[i.jsx(Wy,{className:"w-5 h-5 mr-2"}),"Reset Tests"]})]}),i.jsx(J,{className:"bg-blue-50 border border-blue-200",children:i.jsxs(ce,{className:"p-4",children:[i.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),"How to Test:"]}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:'• Click "Test [Mode]" to switch to that subscription tier'}),i.jsx("li",{children:"• Refresh the page after switching to see UI changes"}),i.jsx("li",{children:"• Check ad visibility, premium features, and UI elements"}),i.jsx("li",{children:'• Use "Test Current Mode" to verify feature availability'})]})]})})]})}function Y$(t,e){y.useEffect(()=>{const n=r=>{!t.current||t.current.contains(r.target)||e()};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}function Q$(){const t=y.useRef(null);Y$(t,()=>le(!1));const e=Ge(),[n,r]=y.useState("Love"),[s,a]=y.useState(25),[o,l]=y.useState("Beverly Hills, CA"),[c,d]=y.useState("Model & Influencer"),[h,f]=y.useState("Life is an adventure, let's explore it together! ✨"),[p,g]=y.useState(["Often","Sociale drinker","Never","Pisces"]),[w,j]=y.useState("https://cdn.builder.io/api/v1/image/assets%2Fe142673ab78f4d70a642f0b5825a4793%2F9ca3a7221ed04dfaaa8b4de10c2f495e?format=webp&width=800"),[T,b]=y.useState(247),[v,k]=y.useState(!0),[R,D]=y.useState(!1),[O,A]=y.useState(0),[N,I]=y.useState(!1),[_,P]=y.useState(!1),[S,C]=y.useState("overview"),[G,de]=y.useState(0),[je,le]=y.useState(!1),[B,Q]=y.useState(!1),[ne,ge]=y.useState("great"),[Ne,Ae]=y.useState(!1),[St,Yn]=y.useState([{id:1,text:"Sarah liked your profile!",time:Date.now()-36e5,read:!1},{id:2,text:"You have a new match!",time:Date.now()-72e5,read:!1}]),[tt,Ct]=y.useState({unityReady:!1,admobReady:!1,checking:!0}),[Tl,Ya]=y.useState(!1),[zi]=y.useState([{id:1,type:"match",user:"Sarah",time:"2 hours ago",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"},{id:2,type:"like",user:"Priya",time:"5 hours ago",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"},{id:3,type:"view",user:"Anonymous",time:"8 hours ago",avatar:null},{id:4,type:"chat",user:"Anjali",time:"1 day ago",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"}]),{isPremium:dt,isUltraPremium:It,isProMonthly:At,setPremium:Yr}=Nt(),{coins:Bi}=Tr(),[Cs]=y.useState([{id:1,title:"First Impression",description:"Uploaded your first photo",icon:Aa,completed:!0,date:"2024-01-15"},{id:2,title:"Social Butterfly",description:"Made 10 new friends",icon:Re,completed:!0,date:"2024-01-20"},{id:3,title:"Conversation Starter",description:"Sent 50 messages",icon:ar,completed:!0,date:"2024-01-25"},{id:4,title:"Popular Profile",description:"Get 100 profile views",icon:vr,completed:!1,progress:85},{id:5,title:"Heart Collector",description:"Receive 25 likes",icon:gt,completed:!1,progress:60},{id:6,title:"Premium Explorer",description:"Use premium features",icon:oe,completed:dt,progress:dt?100:0}]),Cn=y.useRef(null),In=dn.currentUser,[Qa,Sr]=y.useState(!1),[Hi,An]=y.useState([{id:"1",name:"Sarah",age:24,location:"Mumbai, India",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",timeAgo:"2 hours ago",isRevealed:!1},{id:"2",name:"Priya",age:22,location:"Delhi, India",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",timeAgo:"1 day ago",isRevealed:!1},{id:"3",name:"Anjali",age:26,location:"Bangalore, India",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",timeAgo:"3 days ago",isRevealed:!1}]);y.useEffect(()=>{if(!In)return;const z=qe(ae,"users",In.uid),me=Hf(z,at=>{if(at.exists()){const Fe=at.data();r(Fe.username||Fe.name||"Love"),a(Fe.age||25),l(Fe.location||"Beverly Hills, CA"),d(Fe.profession||"Model & Influencer"),f(Fe.bio||"Life is an adventure, let's explore it together! ✨"),g(Fe.interests||["Often","Sociale drinker","Never","Pisces"]),Fe.profileImage&&j(Fe.profileImage),b(Fe.profileViews||Math.floor(Math.random()*300)+100)}k(!1)});return()=>me()},[In]),y.useEffect(()=>{if(In){const z=setTimeout(()=>{const me=qe(ae,"users",In.uid);it(me,{profileViews:bs(1)}).catch(()=>{})},2e3);return()=>clearTimeout(z)}},[In]),y.useEffect(()=>{(async()=>{try{const me=sr.isReady("rewarded"),at=Pa.isInitialized();Ct({unityReady:me,admobReady:at,checking:!1}),console.log("🎯 Ad Status Check:",{unityReady:me,admobReady:at,unityInitialized:await sr.initialize(),admobInitialized:await Pa.initialize()})}catch(me){console.error("Ad status check failed:",me),Ct({unityReady:!1,admobReady:!1,checking:!1})}})()},[]);const Qr=async z=>{var at;const me=(at=z.target.files)==null?void 0:at[0];if(!(!me||!In)){D(!0),A(0);try{const Fe=await tC(me,In.uid,Za=>A(Za));j(Fe.url);const Ja=qe(ae,"users",In.uid);await it(Ja,{profileImage:Fe.url,profileImagePath:Fe.path,updatedAt:new Date}),console.log("Profile image uploaded successfully!")}catch(Fe){console.error("Error uploading profile image:",Fe),alert("Failed to upload image. Please try again.")}finally{D(!1),A(0)}}},ht=z=>{An(me=>me.map(at=>at.id===z?{...at,isRevealed:!0}:at))},Xa=()=>{dt&&An(z=>z.map(me=>({...me,isRevealed:!0}))),Sr(!0)};return In?v?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-passion-50 via-romance-25 to-bollywood-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-romance-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading profile..."})]})}):i.jsx(Ga,{children:i.jsxs("div",{className:`min-h-screen ${It()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50"} pb-24 relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-6 left-6 w-16 h-16 bg-gradient-to-br from-sindoor-300 to-henna-400 opacity-15 animate-float rounded-full blur-sm"}),i.jsx("div",{className:"absolute top-32 right-8 w-12 h-12 bg-gradient-to-br from-royal-300 to-gulmohar-400 opacity-25 animate-pulse rounded-full"}),i.jsx("div",{className:"absolute bottom-40 left-8 w-10 h-10 bg-gradient-to-br from-jasmine-300 to-sindoor-400 opacity-20 animate-bounce rounded-full",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute bottom-64 right-12 w-8 h-8 bg-gradient-to-br from-passion-400 to-royal-400 opacity-15 animate-float rounded-full",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute top-48 left-12 w-6 h-6 bg-gradient-to-br from-coral-400 to-blush-400 opacity-30 animate-pulse rounded-full",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute top-72 right-16 w-14 h-14 bg-gradient-to-br from-peach-300 to-coral-400 opacity-10 animate-bounce rounded-full blur-sm",style:{animationDelay:"1.5s"}})]}),i.jsxs("div",{className:`${It()?"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700":"bg-gradient-to-r from-peach-400 via-coral-400 to-blush-500"} px-6 py-4 flex items-center justify-between border-b ${It()?"border-purple-300":"border-peach-200"} sticky top-0 z-50 shadow-xl relative overflow-hidden backdrop-blur-md`,children:[i.jsx("div",{className:"absolute top-2 left-20 w-1 h-1 bg-white/60 rounded-full animate-pulse"}),i.jsx("div",{className:"absolute top-6 right-32 w-1.5 h-1.5 bg-white/40 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute bottom-2 left-1/3 w-1 h-1 bg-white/50 rounded-full animate-pulse",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/15 via-jasmine-100/25 to-white/15 backdrop-blur-sm"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"}),It()?i.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-white/20 transition-all duration-200 rounded-full min-h-[44px] min-w-[44px] flex items-center justify-center group",children:i.jsx(Sn,{size:20,className:"text-white group-hover:scale-110 transition-transform"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:i.jsx(oe,{size:16,className:"text-white"})}),i.jsx("span",{className:"text-lg font-bold text-white drop-shadow-lg tracking-wide",children:"AjnabiCam"})]})]}):i.jsx("button",{onClick:()=>e(-1),className:"relative z-10 p-3 hover:bg-white/20 transition-all duration-200 rounded-full min-h-[44px] min-w-[44px] flex items-center justify-center group",children:i.jsx(Sn,{size:22,className:"text-white group-hover:scale-110 transition-transform"})}),i.jsx("h1",{className:"relative z-10 text-xl font-bold text-white drop-shadow-lg tracking-wide",children:"My Profile"}),i.jsxs("div",{className:"relative",ref:t,children:[i.jsx("button",{onClick:()=>le(!je),className:"relative z-10 p-3 hover:bg-white/20 transition-all duration-200 rounded-full min-h-[44px] min-w-[44px] flex items-center justify-center group",children:i.jsx(s7,{size:22,className:"text-white group-hover:scale-110 transition-transform"})}),je&&i.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 min-w-[200px] z-50 animate-slideDown",children:[i.jsxs("button",{onClick:()=>{e("/premium"),le(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors",children:[i.jsx(Ss,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Settings"})]}),i.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Profile link copied!"),le(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors",children:[i.jsx(n7,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Copy Link"})]}),i.jsxs("button",{onClick:()=>{navigator.share&&navigator.share({title:"My Profile",text:"Check out my profile on AjnabiCam!",url:window.location.href}),le(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors",children:[i.jsx(h1,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Share Profile"})]}),i.jsxs("button",{onClick:()=>{alert("Profile saved!"),le(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors",children:[i.jsx(X8,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Save Profile"})]})]})]})]}),i.jsxs("div",{className:`${It()?"max-w-2xl":"max-w-sm"} mx-auto px-6 py-8 space-y-8`,children:[i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-2xl border-0 overflow-hidden relative group hover:shadow-3xl transition-all duration-500",children:i.jsxs("div",{className:"relative h-[55vh] overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20 z-10"}),w?i.jsx("img",{src:w,alt:"Profile",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-romance-300 via-passion-300 to-royal-300 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white z-20 relative",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4 backdrop-blur-sm border border-white/30",children:i.jsx("span",{className:"text-4xl font-bold",children:n.charAt(0)})}),i.jsx("p",{className:"text-white/90 font-medium",children:"Tap to add photo"}),i.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Show your best self!"})]})}),R&&i.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center z-30",children:i.jsxs("div",{className:"text-center text-white bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/20",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-semibold mb-2",children:"Uploading..."}),i.jsx("div",{className:"w-32 h-2 bg-white/20 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-peach-400 to-coral-500 rounded-full transition-all duration-300",style:{width:`${O}%`}})}),i.jsxs("p",{className:"text-sm text-white/80 mt-2",children:[O,"% complete"]})]})}),i.jsx("button",{onClick:()=>{var z;return(z=Cn.current)==null?void 0:z.click()},className:"absolute top-6 right-6 bg-black/30 backdrop-blur-md p-3 rounded-full hover:bg-black/50 transition-all duration-200 border border-white/20 z-20 group/camera shadow-lg",disabled:R,children:i.jsx(Aa,{size:20,className:"text-white group-hover/camera:scale-110 transition-transform"})}),!w&&i.jsx("div",{className:"absolute bottom-6 left-6 right-6 z-20",children:i.jsx("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(ea,{size:20,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:"Add your first photo"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Stand out with a great profile picture"})]})]})})}),dt&&i.jsxs("div",{className:"absolute top-6 left-6 bg-black/30 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/20 z-20",children:[i.jsx(vr,{size:16,className:"text-white"}),i.jsx("span",{className:"text-white text-sm font-bold",children:T.toLocaleString()}),i.jsx("span",{className:"text-white/80 text-xs",children:"views"})]}),dt&&i.jsxs("div",{className:"absolute top-20 left-6 bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 px-3 py-1.5 rounded-full flex items-center gap-2 shadow-lg z-20",children:[i.jsx(oe,{className:"w-4 h-4 text-yellow-900 animate-bounce"}),i.jsx("span",{className:"text-yellow-900 text-xs font-bold tracking-wide",children:"PREMIUM"})]}),i.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20 z-20",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),i.jsx("span",{className:"text-white text-sm font-medium",children:"Feeling Great"}),i.jsx(f1,{className:"w-4 h-4 text-white"})]})}),i.jsx("div",{className:"absolute bottom-6 left-6 bg-orange-500/20 backdrop-blur-md px-3 py-2 rounded-full border border-orange-300/30 z-20",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(a7,{className:"w-4 h-4 text-orange-400"}),i.jsx("span",{className:"text-white text-sm font-bold",children:"7 Day Streak"})]})}),i.jsxs("div",{className:"absolute bottom-6 right-6 z-20 group cursor-pointer",children:[i.jsx("div",{className:"bg-white/10 backdrop-blur-md p-3 rounded-full border border-white/20 group-hover:bg-white/20 transition-all duration-300",children:i.jsxs("div",{className:"relative w-8 h-8",children:[i.jsxs("svg",{className:"w-8 h-8 transform -rotate-90",viewBox:"0 0 32 32",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2",fill:"none"}),i.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"white",strokeWidth:"2",fill:"none",strokeDasharray:`${85*.85} 85`,className:"transition-all duration-500 group-hover:stroke-yellow-300"})]}),i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-bold group-hover:scale-110 transition-transform",children:"85%"})]})}),i.jsx("div",{className:"absolute bottom-full right-0 mb-2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/80 text-white px-3 py-1 rounded-lg text-xs whitespace-nowrap",children:"Complete your profile"})]}),i.jsx("input",{ref:Cn,type:"file",accept:"image/*",className:"hidden",onChange:Qr})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-2xl border-0 relative z-10 hover:shadow-3xl transition-all duration-300",children:i.jsxs(ce,{className:"p-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-gray-900 text-4xl font-bold tracking-tight",children:n}),i.jsx("span",{className:"text-gray-600 text-2xl font-light",children:s}),dt&&i.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 p-1 rounded-full",children:i.jsx(oe,{size:16,className:"text-yellow-900"})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[i.jsx(h7,{size:18,className:"text-coral-500"}),i.jsx("span",{className:"text-base font-medium",children:o})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Online now"})]})]}),i.jsx("button",{className:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 p-3 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:i.jsx(c0,{size:18,className:"text-gray-600"})})]}),i.jsx("div",{className:"bg-gradient-to-r from-peach-50 to-coral-50 p-4 rounded-2xl mb-6 border border-peach-100",children:i.jsxs("p",{className:"text-gray-800 text-base leading-relaxed italic",children:['"',h,'"']})}),i.jsxs("div",{className:"flex items-center gap-3 text-gray-700 mb-6 bg-gray-50 p-3 rounded-xl",children:[i.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:i.jsx(J8,{size:18,className:"text-blue-600"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-base font-semibold",children:c}),i.jsx("p",{className:"text-sm text-gray-500",children:"Professional"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-gray-800 font-semibold mb-3 flex items-center gap-2",children:[i.jsx(gt,{size:16,className:"text-coral-500"}),"Interests"]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.map((z,me)=>i.jsx("span",{className:"bg-gradient-to-r from-peach-100 to-coral-100 px-4 py-2 text-coral-700 text-sm font-semibold rounded-full border border-coral-200 hover:shadow-md transition-all duration-200 cursor-default",children:z},me)),i.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 px-4 py-2 text-gray-500 text-sm font-medium rounded-full border-2 border-dashed border-gray-300 transition-all duration-200",children:[i.jsx(ea,{size:14,className:"inline mr-1"}),"Add more"]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs(F,{onClick:()=>{alert("Edit profile feature coming soon!")},className:"flex-1 bg-gradient-to-r from-peach-500 via-coral-500 to-blush-600 hover:from-peach-600 hover:via-coral-600 hover:to-blush-700 text-white font-bold py-4 border-0 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[i.jsx(c0,{className:"w-5 h-5 mr-2"}),"Edit Profile"]}),i.jsx(F,{onClick:()=>{navigator.share?navigator.share({title:"My Profile",text:"Check out my profile on AjnabiCam!",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!"))},className:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-700 font-bold px-6 py-4 border-0 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:i.jsx(Re,{className:"w-5 h-5"})})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsx(ce,{className:"p-6 text-center",children:dt?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mx-auto mb-3 rounded-2xl shadow-md",children:i.jsx(vr,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:T.toLocaleString()}),i.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Profile Views"}),i.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"+12 today"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center mx-auto mb-3 rounded-2xl shadow-md relative",children:[i.jsx(vr,{className:"w-6 h-6 text-gray-400"}),i.jsx(oe,{className:"w-4 h-4 text-yellow-500 absolute -top-1 -right-1 animate-bounce"})]}),i.jsx("div",{className:"text-2xl font-bold text-gray-400 mb-1",children:"***"}),i.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Premium Only"}),i.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:"Upgrade to see"})]})})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsxs(ce,{className:"p-6 text-center",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mx-auto mb-3 rounded-2xl shadow-md",children:i.jsx(Re,{className:"w-6 h-6 text-green-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"23"}),i.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Friends"}),i.jsx("div",{className:"text-xs text-green-500 mt-1",children:"+2 this week"})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 cursor-pointer hover:shadow-xl transform hover:scale-105 transition-all duration-300 group",onClick:Xa,children:i.jsxs(ce,{className:"p-6 text-center",children:[i.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-100 to-rose-200 flex items-center justify-center mx-auto mb-3 rounded-2xl shadow-md relative group-hover:scale-110 transition-transform",children:[i.jsx(gt,{className:"w-6 h-6 text-pink-600 group-hover:animate-pulse"}),!dt&&i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"!"})})]}),i.jsx("div",{className:"text-2xl font-bold text-pink-700 mb-1",children:dt?Hi.length:"?"}),i.jsx("div",{className:"text-sm text-pink-600 font-medium",children:dt?"Secret Likes":"Tap to Reveal"}),i.jsx("div",{className:"text-xs text-pink-500 mt-1",children:dt?"New matches!":"Premium feature"})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsxs(ce,{className:"p-6 text-center",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-100 to-amber-200 flex items-center justify-center mx-auto mb-3 rounded-2xl shadow-md",children:i.jsx(Ci,{className:"w-6 h-6 text-yellow-600"})}),i.jsx("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:Bi.toLocaleString()}),i.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Coins"}),i.jsx("div",{className:"text-xs text-yellow-500 mt-1",children:"Earn more!"})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsxs(ce,{className:"p-4 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-2 rounded-xl shadow-sm",children:i.jsx(ar,{className:"w-5 h-5 text-purple-600"})}),i.jsx("div",{className:"text-lg font-bold text-purple-700",children:"156"}),i.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Chats"})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsxs(ce,{className:"p-4 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center mx-auto mb-2 rounded-xl shadow-sm",children:i.jsx(DS,{className:"w-5 h-5 text-orange-600"})}),i.jsx("div",{className:"text-lg font-bold text-orange-700",children:"7"}),i.jsx("div",{className:"text-xs text-orange-600 font-medium",children:"Days"})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0 hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:i.jsxs(ce,{className:"p-4 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center mx-auto mb-2 rounded-xl shadow-sm",children:i.jsx($i,{className:"w-5 h-5 text-emerald-600"})}),i.jsx("div",{className:"text-lg font-bold text-emerald-700",children:"98%"}),i.jsx("div",{className:"text-xs text-emerald-600 font-medium",children:"Match"})]})})]}),(It()||At())&&i.jsxs("div",{className:"space-y-4 bg-gradient-to-r from-green-50 to-emerald-100 p-6 rounded-2xl border border-green-200",children:[i.jsxs("h3",{className:"text-green-800 font-bold text-center mb-4 flex items-center justify-center gap-2",children:["✨ Premium Ad-Free Experience",i.jsx(oe,{className:"w-5 h-5 text-yellow-600"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(bn,{className:"w-8 h-8 text-white"})}),i.jsx("p",{className:"text-green-700 font-semibold mb-2",children:It()?"ULTRA+ Member":"Pro Monthly Member"}),i.jsx("p",{className:"text-green-600 text-sm",children:"Enjoy an ad-free experience with no interruptions!"})]})]}),!It()&&!At()&&i.jsxs("div",{className:"space-y-4 bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200",children:[i.jsxs("h3",{className:"text-gray-800 font-bold text-center mb-4 flex items-center justify-center gap-2",children:["📱 Ad Testing Zone",tt.checking&&i.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:`p-3 rounded-xl text-center ${tt.unityReady?"bg-green-100 border-green-300":"bg-red-100 border-red-300"} border`,children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${tt.unityReady?"bg-green-500":"bg-red-500"} animate-pulse`}),i.jsx("span",{className:"text-sm font-semibold",children:"Unity Ads"})]}),i.jsx("span",{className:"text-xs",children:tt.unityReady?"✅ Ready":"❌ Not Ready"})]}),i.jsxs("div",{className:`p-3 rounded-xl text-center ${tt.admobReady?"bg-green-100 border-green-300":"bg-red-100 border-red-300"} border`,children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${tt.admobReady?"bg-green-500":"bg-red-500"} animate-pulse`}),i.jsx("span",{className:"text-sm font-semibold",children:"AdMob"})]}),i.jsx("span",{className:"text-xs",children:tt.admobReady?"✅ Ready":"❌ Not Ready"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2 font-semibold",children:"🎯 Banner Ad Test:"}),i.jsx(G$,{size:"responsive",position:"inline",className:"border-2 border-dashed border-blue-300 bg-white rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2 font-semibold",children:"💰 Rewarded Ad Test:"}),i.jsx(Ky,{variant:"premium",onRewardEarned:z=>{console.log(`Earned ${z} coins!`),alert(`🎉 Success! You earned ${z} coins from the ad!`)},preferUnity:!0})]}),i.jsx(F,{onClick:()=>e("/ad-testing"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",children:"🧪 Full Ad Testing Dashboard"}),i.jsx("div",{className:"text-center text-xs text-gray-500 mt-2",children:tt.checking?"Checking ad services...":tt.unityReady||tt.admobReady?"Ad services are working!":"Ad services need initialization"})]}),i.jsx(K$,{onModeChange:z=>{console.log(`🔄 Switched to ${z} mode`),setTimeout(()=>{window.location.reload()},1e3)}}),i.jsxs("div",{className:"space-y-6",children:[!dt&&i.jsxs(F,{onClick:()=>e("/premium"),className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 hover:from-purple-700 hover:via-pink-700 hover:to-purple-800 text-white font-bold py-5 shadow-2xl rounded-2xl transform hover:scale-105 transition-all duration-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-shimmer"}),i.jsx(oe,{className:"w-6 h-6 mr-3 animate-bounce"}),i.jsx("span",{className:"text-lg",children:"Unlock Premium Features"}),i.jsx(Kr,{className:"w-5 h-5 ml-3"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(F,{onClick:()=>e("/chat"),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-4 rounded-2xl shadow-lg transform hover:scale-105 transition-all duration-200",children:[i.jsx(ar,{className:"w-5 h-5 mr-2"}),"Messages"]}),i.jsxs(F,{onClick:()=>e("/"),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold py-4 rounded-2xl shadow-lg transform hover:scale-105 transition-all duration-200",children:[i.jsx(Re,{className:"w-5 h-5 mr-2"}),"Discover"]})]}),i.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-lg border border-gray-100 p-2",children:i.jsx("div",{className:"flex space-x-2",children:[{id:"overview",label:"Overview",icon:Ii},{id:"achievements",label:"Achievements",icon:b7},{id:"activity",label:"Activity",icon:K8},{id:"social",label:"Social",icon:h1}].map(z=>{const me=z.icon;return i.jsxs("button",{onClick:()=>{C(z.id),de(at=>at+1)},className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-300 ${S===z.id?"bg-gradient-to-r from-coral-500 to-peach-500 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:[i.jsx(me,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:z.label})]},z.id)})})}),i.jsxs("div",{className:"animate-fadeIn",children:[S==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl",children:[i.jsx("h3",{className:"text-gray-800 font-bold mb-4 text-center",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsxs("button",{className:"bg-white p-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-center group",children:[i.jsx(t7,{className:"w-6 h-6 text-amber-600 mx-auto mb-1 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Coffee"})]}),i.jsxs("button",{className:"bg-white p-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-center group",children:[i.jsx(f7,{className:"w-6 h-6 text-purple-600 mx-auto mb-1 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Music"})]}),i.jsxs("button",{className:"bg-white p-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-center group",children:[i.jsx(Q8,{className:"w-6 h-6 text-blue-600 mx-auto mb-1 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Books"})]}),i.jsxs("button",{className:"bg-white p-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-center group",children:[i.jsx(g7,{className:"w-6 h-6 text-green-600 mx-auto mb-1 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Travel"})]})]})]}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0",children:i.jsxs(ce,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-gray-800 font-bold flex items-center gap-2",children:[i.jsx(bn,{className:"w-5 h-5 text-green-500"}),"Profile Strength"]}),i.jsx("span",{className:"text-2xl font-bold text-green-600",children:"85%"})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full",style:{width:"85%"}})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Profile Photo"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Bio Added"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Interests"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),i.jsx("span",{className:"text-gray-400",children:"Verification"})]})]})]})})]}),S==="achievements"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-gray-800 font-bold text-lg",children:"Achievements"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[Cs.filter(z=>z.completed).length,"/",Cs.length," unlocked"]})]}),Cs.map(z=>{const me=z.icon;return i.jsx(J,{className:`bg-white/95 backdrop-blur-md shadow-lg border-0 transition-all duration-300 ${z.completed?"border-l-4 border-l-green-500":"opacity-75"}`,children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${z.completed?"bg-gradient-to-br from-yellow-100 to-amber-200":"bg-gray-100"}`,children:i.jsx(me,{className:`w-6 h-6 ${z.completed?"text-yellow-600":"text-gray-400"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-semibold ${z.completed?"text-gray-800":"text-gray-500"}`,children:z.title}),i.jsx("p",{className:"text-sm text-gray-600",children:z.description}),z.completed&&z.date&&i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Completed on ",z.date]}),!z.completed&&z.progress&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-coral-500 to-peach-500 h-2 rounded-full transition-all duration-500",style:{width:`${z.progress}%`}})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[z.progress,"% complete"]})]})]}),z.completed&&i.jsx("div",{className:"text-green-500",children:i.jsx(Y8,{size:20})})]})})},z.id)})]}),S==="activity"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-gray-800 font-bold text-lg",children:"Recent Activity"}),i.jsx("button",{className:"text-coral-500 text-sm font-medium",children:"View All"})]}),zi.map(z=>i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[z.avatar?i.jsx("img",{src:z.avatar,alt:z.user,className:"w-10 h-10 rounded-full object-cover"}):i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx(vr,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[z.type==="match"&&i.jsx(gt,{className:"w-4 h-4 text-red-500"}),z.type==="like"&&i.jsx(w7,{className:"w-4 h-4 text-blue-500"}),z.type==="view"&&i.jsx(vr,{className:"w-4 h-4 text-gray-500"}),z.type==="chat"&&i.jsx(ar,{className:"w-4 h-4 text-green-500"}),i.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[z.type==="match"&&`New match with ${z.user}`,z.type==="like"&&`${z.user} liked your profile`,z.type==="view"&&"Someone viewed your profile",z.type==="chat"&&`New message from ${z.user}`]})]}),i.jsx("span",{className:"text-xs text-gray-500",children:z.time})]}),i.jsx(e7,{className:"w-4 h-4 text-gray-400"})]})})},z.id))]}),S==="social"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0",children:i.jsxs(ce,{className:"p-6",children:[i.jsx("h3",{className:"text-gray-800 font-bold mb-4",children:"Connect Your Socials"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl border border-pink-200 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(c7,{className:"w-5 h-5 text-pink-600"}),i.jsx("span",{className:"font-medium text-gray-800",children:"Instagram"})]}),i.jsx(ea,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-sky-50 rounded-xl border border-blue-200 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_7,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"font-medium text-gray-800",children:"Twitter"})]}),i.jsx(ea,{className:"w-4 h-4 text-gray-400"})]})]})]})}),i.jsx(J,{className:"bg-white/95 backdrop-blur-md shadow-lg border-0",children:i.jsxs(ce,{className:"p-6",children:[i.jsx("h3",{className:"text-gray-800 font-bold mb-4",children:"Share Your Profile"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors",children:[i.jsx(u7,{className:"w-6 h-6 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Copy Link"})]}),i.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors",children:[i.jsx(Gy,{className:"w-6 h-6 text-green-600"}),i.jsx("span",{className:"text-xs font-medium text-green-600",children:"Share"})]}),i.jsxs("button",{className:"flex flex-col items-center gap-2 p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors",children:[i.jsx(LS,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"text-xs font-medium text-purple-600",children:"QR Code"})]})]})]})}),dt&&i.jsx(J,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200",children:i.jsxs(ce,{className:"p-6",children:[i.jsxs("h3",{className:"text-gray-800 font-bold mb-4 flex items-center gap-2",children:[i.jsx(Wa,{className:"w-5 h-5 text-purple-600"}),"Profile Analytics"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-700",children:"2.3K"}),i.jsx("div",{className:"text-sm text-purple-600",children:"Total Reach"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-pink-700",children:"86%"}),i.jsx("div",{className:"text-sm text-pink-600",children:"Engagement"})]})]})]})})]})]},G)]})]}),It()&&i.jsx(B$,{isUltraPremium:!0,userProfile:{name:n,bio:h,profileImage:w||void 0,premiumSince:new Date("2024-01-15"),totalFriends:25,totalChats:150,premiumFeatureUsage:{reactionsUsed:89,filtersUsed:15,adsFree:45,unlimitedTime:120}},onProfileUpdate:z=>{console.log("Profile updates:",z)}}),!It()&&i.jsx("div",{className:"px-4 mb-4",children:i.jsxs(F,{onClick:()=>{const z=new Date;z.setMonth(z.getMonth()+3),Yr(!0,z,"ultra-quarterly"),alert("🎉 ULTRA+ activated for testing! Refresh to see changes."),window.location.reload()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-3 px-4 rounded-lg shadow-md transition-colors",children:[i.jsx(oe,{className:"h-4 w-4 mr-2"}),"🧪 Test ULTRA+ Features (Debug)"]})}),i.jsx("div",{className:"fixed bottom-24 right-6 z-40",children:i.jsxs("div",{className:"relative",children:[B&&i.jsxs("div",{className:"absolute bottom-16 right-0 space-y-3 animate-slideUp",children:[i.jsx("button",{onClick:()=>e("/ai-chatbot"),className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transform hover:scale-110 transition-all duration-200 group",children:i.jsx(am,{className:"w-5 h-5 text-white group-hover:animate-bounce"})}),i.jsxs("button",{onClick:()=>Ya(!0),className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transform hover:scale-110 transition-all duration-200 group relative",children:[i.jsx(l0,{className:"w-5 h-5 text-white group-hover:animate-wiggle"}),St.filter(z=>!z.read).length>0&&i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:St.filter(z=>!z.read).length})})]}),i.jsx("button",{onClick:()=>Ae(!0),className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transform hover:scale-110 transition-all duration-200 group",children:i.jsx(f1,{className:"w-5 h-5 text-white group-hover:animate-heartbeat"})})]}),i.jsx("button",{onClick:()=>Q(!B),className:`w-14 h-14 bg-gradient-to-r from-coral-500 to-peach-500 rounded-full shadow-xl flex items-center justify-center hover:shadow-2xl transform transition-all duration-300 ${B?"rotate-45 scale-110":"hover:scale-105"} group`,children:i.jsx(ea,{className:"w-6 h-6 text-white group-hover:animate-spin"})})]})}),Ne&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Ae(!1),children:i.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full animate-slideUp",onClick:z=>z.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"How are you feeling?"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"great",emoji:"😊",label:"Great",color:"from-green-400 to-emerald-500"},{id:"happy",emoji:"😄",label:"Happy",color:"from-yellow-400 to-amber-500"},{id:"excited",emoji:"🤩",label:"Excited",color:"from-purple-400 to-pink-500"},{id:"chill",emoji:"😎",label:"Chill",color:"from-blue-400 to-cyan-500"},{id:"romantic",emoji:"��",label:"Romantic",color:"from-rose-400 to-pink-500"},{id:"adventurous",emoji:"🤠",label:"Adventurous",color:"from-orange-400 to-red-500"}].map(z=>i.jsxs("button",{onClick:()=>{ge(z.id),Ae(!1),alert(`Mood updated to ${z.label}!`)},className:`p-4 rounded-2xl bg-gradient-to-r ${z.color} text-white font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 text-center`,children:[i.jsx("div",{className:"text-2xl mb-1",children:z.emoji}),i.jsx("div",{className:"text-sm",children:z.label})]},z.id))})]})}),Tl&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",onClick:()=>Ya(!1),children:i.jsx("div",{className:"bg-white rounded-t-3xl w-full max-w-md h-96 animate-slideUp",onClick:z=>z.stopPropagation(),children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notifications"}),i.jsx("button",{onClick:()=>Ya(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(ea,{className:"w-5 h-5 rotate-45"})})]}),i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:St.map(z=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-coral-400 to-peach-400 rounded-full flex items-center justify-center",children:i.jsx(gt,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:z.text}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(z.time).toLocaleTimeString()})]}),!z.read&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},z.id))})]})})}),It()?i.jsx(Nl,{}):i.jsx(Ka,{}),i.jsx(W$,{isOpen:Qa,onClose:()=>Sr(!1),likes:Hi,onRevealLike:ht})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-passion-50 via-romance-25 to-bollywood-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-600 mb-4",children:"Please log in first"}),i.jsx(F,{onClick:()=>e("/onboarding"),className:"bg-romance-500 text-white",children:"Go to Login"})]})})}function X$({showDetails:t=!0,autoTest:e=!0,className:n=""}){const[r,s]=y.useState(null),[a,o]=y.useState(!1),[l,c]=y.useState(null);y.useEffect(()=>{c(Z7()),e&&d()},[e]);const d=async(p=!1)=>{o(!0);try{const g=p?await J7(3):await om();s(g)}catch(g){s({isConnected:!1,status:"error",message:"Connection test failed unexpectedly",details:{canRead:!1,canWrite:!1,canDelete:!1,error:g instanceof Error?g.message:"Unknown error"}})}finally{o(!1)}},h=()=>{if(a)return i.jsx(fi,{className:"w-5 h-5 animate-spin text-blue-500"});if(!r)return i.jsx(Jh,{className:"w-5 h-5 text-gray-400"});switch(r.status){case"success":return i.jsx(Lr,{className:"w-5 h-5 text-green-500"});case"error":return i.jsx(cs,{className:"w-5 h-5 text-red-500"});default:return i.jsx(Jh,{className:"w-5 h-5 text-yellow-500"})}},f=()=>{if(a)return"border-bollywood-200 bg-bollywood-50";if(!r)return"border-gray-200 bg-gray-50";switch(r.status){case"success":return"border-passion-200 bg-passion-50";case"error":return"border-coral-200 bg-coral-50";default:return"border-marigold-200 bg-marigold-50"}};return i.jsxs("div",{className:`${n}`,children:[i.jsxs("div",{className:`border rounded-xl p-4 ${f()} transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h(),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fu,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"font-semibold text-gray-800",children:"Firebase Storage"}),r!=null&&r.isConnected?i.jsx($S,{className:"w-4 h-4 text-green-500"}):i.jsx(E7,{className:"w-4 h-4 text-red-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a?"Testing connection...":(r==null?void 0:r.message)||"Click to test connection"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F,{onClick:()=>d(!1),disabled:a,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[i.jsx(fi,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Test"]}),i.jsxs(F,{onClick:()=>d(!0),disabled:a,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[i.jsx(fi,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Test with Retry"]})]}),t&&r&&i.jsxs("div",{className:"mt-4 space-y-3",children:[r.details&&i.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[i.jsxs("h4",{className:"font-medium text-sm text-gray-700 mb-2 flex items-center gap-2",children:[i.jsx(Ss,{className:"w-4 h-4"}),"Connection Details"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[r.details.canWrite?i.jsx(Lr,{className:"w-3 h-3 text-green-500"}):i.jsx(cs,{className:"w-3 h-3 text-red-500"}),i.jsx("span",{children:"Write"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[r.details.canRead?i.jsx(Lr,{className:"w-3 h-3 text-green-500"}):i.jsx(cs,{className:"w-3 h-3 text-red-500"}),i.jsx("span",{children:"Read"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[r.details.canDelete?i.jsx(Lr,{className:"w-3 h-3 text-green-500"}):i.jsx(cs,{className:"w-3 h-3 text-red-500"}),i.jsx("span",{children:"Delete"})]})]}),r.details.error&&i.jsxs("div",{className:"mt-2 p-2 bg-red-100 border border-red-200 rounded text-xs text-red-700",children:[i.jsx("strong",{children:"Error:"})," ",r.details.error]})]}),l&&!l.error&&i.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[i.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Configuration"}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Bucket:"})," ",l.bucket]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Project:"})," ",l.projectId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Domain:"})," ",l.authDomain]})]})]})]})]}),!t&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h(),i.jsx("span",{className:`font-medium ${r!=null&&r.isConnected?"text-green-600":"text-red-600"}`,children:r!=null&&r.isConnected?"Connected":"Disconnected"})]})]})}function J$(){const t=Date.now(),e=Math.random().toString(36).substring(2,8);return`user_${t}_${e}`}function Z$(){let t=localStorage.getItem("ajnabicam_user_id");return t||(t=J$(),localStorage.setItem("ajnabicam_user_id",t)),t}function ez(){const t=Ge(),[e,n]=y.useState([]),[r,s]=y.useState(!1),a=c=>{n(d=>[...d,{...c,timestamp:new Date}])},o=()=>{n([])},l=async c=>{var h;const d=(h=c.target.files)==null?void 0:h[0];if(d){s(!0);try{const f=await e$(d);a({test:"Basic File Upload",...f});const p=Z$();try{const g=await tC(d,p);a({test:"Profile Image Upload",isConnected:!0,status:"success",message:"Profile image uploaded successfully",details:{url:g.url,path:g.path}})}catch(g){a({test:"Profile Image Upload",isConnected:!1,status:"error",message:g.message,details:{error:g.message}})}try{const g=await H$(d,"test-chat",p);a({test:"Chat Photo Upload",isConnected:!0,status:"success",message:"Chat photo uploaded successfully",details:{url:g.url,path:g.path}})}catch(g){a({test:"Chat Photo Upload",isConnected:!1,status:"error",message:g.message,details:{error:g.message}})}try{const g=await q$(d,"test-session");a({test:"Temporary Photo Upload",isConnected:!0,status:"success",message:"Temporary photo uploaded successfully",details:{url:g.url,path:g.path,expiresAt:g.expiresAt.toISOString()}})}catch(g){a({test:"Temporary Photo Upload",isConnected:!1,status:"error",message:g.message,details:{error:g.message}})}}finally{s(!1),c.target.value=""}}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-passion-50 via-romance-25 to-bollywood-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-passion-600 via-romance-600 to-royal-600 text-white p-6 shadow-xl",children:i.jsxs("div",{className:"max-w-md mx-auto flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:i.jsx(Sn,{size:24})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fu,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold",children:"Storage Debug"}),i.jsx("p",{className:"text-sm text-indigo-100",children:"Firebase Storage Connection Test"})]})]})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(Ss,{className:"w-5 h-5"}),"Connection Status"]}),i.jsx(X$,{showDetails:!0,autoTest:!0})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(j7,{className:"w-5 h-5"}),"File Upload Tests"]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"bg-white rounded-xl border p-4",children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Upload Test File"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select an image to test all upload functions (profile, chat, temp)"}),i.jsx("input",{type:"file",accept:"image/*",onChange:l,disabled:r,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),r&&i.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-blue-600",children:[i.jsx(fi,{className:"w-4 h-4 animate-spin"}),"Testing uploads..."]})]})})]}),e.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(Zh,{className:"w-5 h-5"}),"Test Results (",e.length,")"]}),i.jsxs(F,{onClick:o,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[i.jsx(VS,{className:"w-4 h-4"}),"Clear"]})]}),i.jsx("div",{className:"space-y-3",children:e.map((c,d)=>i.jsxs("div",{className:`bg-white rounded-xl border p-4 ${c.isConnected?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(o7,{className:"w-5 h-5 text-gray-600"}),i.jsx("h3",{className:"font-medium text-gray-800",children:c.test}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isConnected?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:c.isConnected?"Success":"Failed"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c.message}),c.details&&i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 text-xs",children:i.jsx("pre",{className:"whitespace-pre-wrap text-gray-700",children:JSON.stringify(c.details,null,2)})}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:c.timestamp.toLocaleTimeString()})]},d))})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[i.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"How to Use"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• Check connection status at the top"}),i.jsx("li",{children:'• Use "Test" buttons to verify connectivity'}),i.jsx("li",{children:"• Upload an image to test all upload functions"}),i.jsx("li",{children:"• View detailed results and error messages"}),i.jsx("li",{children:"• If connection fails, check Firebase Console setup"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F,{onClick:()=>window.open("https://console.firebase.google.com/","_blank"),variant:"outline",className:"flex-1",children:"Firebase Console"}),i.jsx(F,{onClick:()=>t("/profile"),variant:"outline",className:"flex-1",children:"Test in Profile"})]})]})]})}async function tz(){const t={isConfigured:!1,auth:{working:!1},firestore:{working:!1,canRead:!1,canWrite:!1},storage:{working:!1,canUpload:!1,canDownload:!1,canDelete:!1},overall:{working:!1,message:""}};try{if(!Ns||!ae||!Un)return t.overall={working:!1,message:"Firebase not properly configured"},t;t.isConfigured=!0,console.log("🔐 Testing Firebase Auth...");try{const n=Xf(Ns),r=await nT(n);t.auth={working:!0,userId:r.user.uid},console.log("✅ Firebase Auth working - User ID:",r.user.uid)}catch(n){t.auth={working:!1,error:n.message},console.error("❌ Firebase Auth failed:",n)}console.log("📊 Testing Firestore...");try{if(t.auth.working&&t.auth.userId){const n=qe(ae,"users",t.auth.userId),r=await Va(n);t.firestore.canRead=!0,await du(n,{testTimestamp:new Date,testField:"Firebase connection test"},{merge:!0}),t.firestore.canWrite=!0,t.firestore.working=!0,console.log("✅ Firestore working - Read/Write successful")}}catch(n){t.firestore={working:!1,error:n.message,canRead:!1,canWrite:!1},console.error("❌ Firestore failed:",n)}console.log("💾 Testing Firebase Storage...");try{const n=Ba(Un,`test/${Date.now()}-test.txt`),r=new Blob(["Firebase test"],{type:"text/plain"});await za(n,r),t.storage.canUpload=!0;const s=await ki(n);t.storage.canDownload=!0,await by(n),t.storage.canDelete=!0,t.storage.working=!0,console.log("✅ Firebase Storage working - Upload/Download/Delete successful")}catch(n){t.storage={working:!1,error:n.message,canUpload:!1,canDownload:!1,canDelete:!1},console.error("❌ Firebase Storage failed:",n)}const e=t.auth.working&&t.firestore.working&&t.storage.working;t.overall={working:e,message:e?"🎉 All Firebase services working perfectly!":`⚠️ Issues found: ${[!t.auth.working&&"Auth",!t.firestore.working&&"Firestore",!t.storage.working&&"Storage"].filter(Boolean).join(", ")}`}}catch(e){t.overall={working:!1,message:`💥 Firebase check failed: ${e.message}`},console.error("💥 Firebase status check failed:",e)}return t}function nz(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,a]=y.useState(null),o=async()=>{r(!0);try{const d=await tz();e(d),a(new Date)}catch(d){console.error("Failed to check Firebase status:",d)}finally{r(!1)}},l=async()=>{try{const d=await om();console.log("Storage test result:",d),alert(`Storage Test: ${d.isConnected?"✅ Success":"❌ Failed"}
${d.message}`)}catch(d){alert(`Storage Test Failed: ${d.message}`)}};y.useEffect(()=>{o()},[]);const c=({working:d})=>d?i.jsx(Lr,{className:"w-5 h-5 text-green-600"}):i.jsx(cs,{className:"w-5 h-5 text-red-600"});return i.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Firebase Debug Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Monitor and test Firebase service connections"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-6",children:[i.jsxs(F,{onClick:o,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white p-4 h-auto flex items-center gap-2",children:[i.jsx(fi,{className:`w-5 h-5 ${n?"animate-spin":""}`}),n?"Checking...":"Run Status Check"]}),i.jsxs(F,{onClick:l,className:"bg-purple-600 hover:bg-purple-700 text-white p-4 h-auto flex items-center gap-2",children:[i.jsx(u1,{className:"w-5 h-5"}),"Test Storage"]}),i.jsx("div",{className:"text-sm text-gray-500 flex items-center",children:s&&i.jsxs("span",{children:["Last checked: ",s.toLocaleTimeString()]})})]}),t&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(c,{working:t.overall.working}),i.jsx("h2",{className:"text-xl font-semibold",children:"Overall Status"})]}),i.jsx("p",{className:`text-lg ${t.overall.working?"text-green-700":"text-red-700"}`,children:t.overall.message})]}),i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(c,{working:t.isConfigured}),i.jsx("h2",{className:"text-xl font-semibold",children:"Configuration"})]}),i.jsxs("p",{className:"text-gray-600",children:["Firebase app is ",t.isConfigured?"properly configured":"not configured"]})]}),i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(bn,{className:"w-5 h-5 text-blue-600"}),i.jsx(c,{working:t.auth.working}),i.jsx("h2",{className:"text-xl font-semibold",children:"Authentication"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:`${t.auth.working?"text-green-700":"text-red-700"}`,children:["Status: ",t.auth.working?"Working":"Failed"]}),t.auth.userId&&i.jsxs("p",{className:"text-sm text-gray-600 font-mono",children:["User ID: ",t.auth.userId]}),t.auth.error&&i.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:["Error: ",t.auth.error]})]})]}),i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Fu,{className:"w-5 h-5 text-orange-600"}),i.jsx(c,{working:t.firestore.working}),i.jsx("h2",{className:"text-xl font-semibold",children:"Firestore"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{working:t.firestore.canRead}),i.jsx("span",{children:"Read Operations"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{working:t.firestore.canWrite}),i.jsx("span",{children:"Write Operations"})]})]}),t.firestore.error&&i.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:["Error: ",t.firestore.error]})]})]}),i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(u1,{className:"w-5 h-5 text-purple-600"}),i.jsx(c,{working:t.storage.working}),i.jsx("h2",{className:"text-xl font-semibold",children:"Storage"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{working:t.storage.canUpload}),i.jsx("span",{children:"Upload"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{working:t.storage.canDownload}),i.jsx("span",{children:"Download"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{working:t.storage.canDelete}),i.jsx("span",{children:"Delete"})]})]}),t.storage.error&&i.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:["Error: ",t.storage.error]})]})]}),i.jsxs(J,{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Configuration Details"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded font-mono text-sm space-y-1",children:[i.jsx("div",{children:"Project ID: ajnabicam"}),i.jsx("div",{children:"Auth Domain: ajnabicam.firebaseapp.com"}),i.jsx("div",{children:"Storage Bucket: ajnabicam.appspot.com"}),i.jsx("div",{children:"Region: us-central1 (default)"})]})]})]}),!t&&!n&&i.jsx(J,{className:"p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:'Click "Run Status Check" to test Firebase services'})})]})})}function rz(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,a]=y.useState(null),[o,l]=y.useState(null),c=Ge(),d=p=>{var w;const g=(w=p.target.files)==null?void 0:w[0];if(g){a(g);const j=new FileReader;j.onload=T=>{var b;l((b=T.target)==null?void 0:b.result)},j.readAsDataURL(g)}},h=()=>{if(t&&n){const p={name:t,gender:n,hasPhoto:!!s,setupComplete:!0};localStorage.setItem("ajnabicam_user_data",JSON.stringify(p)),c("/premium-trial")}},f=()=>{if(t&&n){const p={name:t,gender:n,hasPhoto:!!s,setupComplete:!0};localStorage.setItem("ajnabicam_user_data",JSON.stringify(p)),c("/")}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100 flex items-center justify-center px-4",children:i.jsxs(J,{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-purple-800 mb-2",children:"AjnabiCam"}),i.jsx("p",{className:"text-gray-600",children:"Setup your profile to get started"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[o?i.jsx("img",{src:o,alt:"Profile preview",className:"w-full h-full rounded-full object-cover border-4 border-purple-200"}):i.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center border-4 border-purple-200",children:i.jsx("span",{className:"text-gray-500 text-3xl",children:"📷"})}),i.jsxs("label",{className:"absolute bottom-0 right-0 bg-purple-600 text-white rounded-full w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-purple-700 transition-colors",children:[i.jsx("span",{className:"text-sm",children:"+"}),i.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden"})]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Add your photo"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),i.jsx(kl,{type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Gender"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{onClick:()=>r("male"),className:`py-3 px-4 rounded-xl border-2 transition-all ${n==="male"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-300 text-gray-700 hover:border-purple-300"}`,children:"👨 Male"}),i.jsx("button",{onClick:()=>r("female"),className:`py-3 px-4 rounded-xl border-2 transition-all ${n==="female"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-300 text-gray-700 hover:border-purple-300"}`,children:"👩 Female"})]})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsx(F,{onClick:h,disabled:!t||!n,className:"w-full py-3 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"👑 Start Free Trial"}),i.jsx(F,{onClick:f,disabled:!t||!n,variant:"outline",className:"w-full py-3 rounded-xl border-2 border-purple-300 text-purple-700 hover:bg-purple-50 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue for Free"})]})]})]})})}const sz=()=>{const{userId:t}=SP(),e=em(),n=e.socket||e,[r,s]=y.useState([]),[a,o]=y.useState(""),l=y.useRef(null);y.useEffect(()=>{if(n)return n.on("receive-message",d=>{s(h=>[...h,d])}),()=>n.off("receive-message")},[n]);const c=()=>{a.trim()!==""&&(n.emit("send-message",{to:t,text:a}),s(d=>[...d,a]),o(""))};return y.useEffect(()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})},[r]),i.jsxs("div",{className:"flex flex-col h-screen bg-[#f0f0f0]",children:[i.jsxs("div",{className:"p-4 bg-[#ececec] shadow flex items-center",children:[i.jsx(eR,{to:"/chat-page",className:"text-blue-600",children:"← Back"}),i.jsxs("h2",{className:"ml-4 font-semibold",children:["Chat with User ",t]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[r.map((d,h)=>i.jsx("div",{className:"bg-white rounded-xl px-4 py-2 shadow w-fit self-end",children:d},h)),i.jsx("div",{ref:l})]}),i.jsxs("div",{className:"p-4 bg-white flex items-center border-t",children:[i.jsx("input",{type:"text",placeholder:"Type a message",className:"flex-1 border rounded-lg px-4 py-2 mr-2",value:a,onChange:d=>o(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),i.jsx("button",{onClick:c,className:"bg-pink-500 text-white px-4 py-2 rounded-lg",children:"Send"})]})]})};function iz({friends:t,isUltraPremium:e,onVideoCall:n,onMessage:r}){const[s,a]=y.useState(""),[o,l]=y.useState("all"),[c,d]=y.useState(!1),[h,f]=y.useState("online"),p=[{id:"all",label:"All Friends",icon:Re},{id:"online",label:"Online Now",icon:Kr},{id:"premium",label:"Premium Friends",icon:oe},{id:"recent",label:"Recent Chats",icon:Ha},{id:"favorites",label:"Favorites",icon:gt}],g=t.filter(w=>{const j=w.name.toLowerCase().includes(s.toLowerCase());switch(o){case"online":return j&&w.isOnline;case"premium":return j&&w.isPremium;case"recent":return j&&w.totalChats>5;case"favorites":return j&&w.compatibility>80;default:return j}}).sort((w,j)=>{switch(h){case"online":return Number(j.isOnline)-Number(w.isOnline);case"compatibility":return j.compatibility-w.compatibility;case"activity":return j.totalChats-w.totalChats;default:return 0}});return e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(Si,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"ULTRA+ Friends"}),i.jsx("p",{className:"text-purple-100 text-sm",children:"Premium friendship experience"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Total Friends"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(w=>w.isOnline).length}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Online Now"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.filter(w=>w.isPremium).length}),i.jsx("div",{className:"text-purple-100 text-xs",children:"Premium Friends"})]})]})]}),i.jsx(J,{className:"border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:i.jsxs(ce,{className:"p-4",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(FS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(kl,{placeholder:"Search friends with ULTRA+ power...",value:s,onChange:w=>a(w.target.value),className:"pl-10 bg-white border-purple-200 focus:border-purple-400"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.map(w=>i.jsxs(F,{onClick:()=>l(w.id),variant:o===w.id?"default":"outline",size:"sm",className:`flex items-center gap-2 ${o===w.id?"bg-gradient-to-r from-purple-500 to-pink-500 border-none":"border-purple-200 text-purple-600 hover:bg-purple-50"}`,children:[i.jsx(w.icon,{className:"h-3 w-3"}),w.label]},w.id))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Sort by:"}),i.jsxs("select",{value:h,onChange:w=>f(w.target.value),className:"text-sm border border-purple-200 rounded px-2 py-1 bg-white",children:[i.jsx("option",{value:"online",children:"Online Status"}),i.jsx("option",{value:"compatibility",children:"Compatibility"}),i.jsx("option",{value:"activity",children:"Chat Activity"})]})]})]})}),i.jsx("div",{className:"grid gap-4",children:g.map(w=>i.jsx(az,{friend:w,onVideoCall:()=>n(w.id),onMessage:()=>r(w.id)},w.id))}),i.jsx(J,{className:"border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:i.jsxs(ce,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Wa,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-semibold text-purple-800",children:"ULTRA+ Recommendations"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Based on your premium analytics, we suggest connecting with these users:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Active Chatter","Premium User","Compatibility Match"].map(w=>i.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 text-xs rounded-full border border-purple-200",children:w},w))})]})})]}):null}function az({friend:t,onVideoCall:e,onMessage:n}){return i.jsx(J,{className:"border-purple-200 hover:shadow-lg transition-all duration-200 bg-gradient-to-r from-white to-purple-50/30",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[t.profileImage?i.jsx("img",{src:t.profileImage,alt:t.name,className:"w-16 h-16 rounded-full object-cover border-2 border-purple-200"}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold text-xl",children:t.name.charAt(0)}),t.isOnline&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),t.isPremium&&i.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center",children:i.jsx(oe,{className:"h-3 w-3 text-white"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:t.name}),t.compatibility>80&&i.jsxs("div",{className:"flex items-center gap-1 bg-pink-100 px-2 py-0.5 rounded-full",children:[i.jsx(gt,{className:"h-3 w-3 text-pink-600"}),i.jsxs("span",{className:"text-xs text-pink-600 font-medium",children:[t.compatibility,"%"]})]})]}),i.jsx(HS,{lastSeen:t.lastSeen,isOnline:t.isOnline,isVisible:!0,className:"mb-2"}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ar,{className:"h-3 w-3"}),i.jsxs("span",{children:[t.totalChats," chats"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{className:"h-3 w-3"}),i.jsxs("span",{children:[t.mutualFriends," mutual"]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(F,{onClick:e,size:"sm",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-none",children:[i.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Call"]}),i.jsxs(F,{onClick:n,size:"sm",variant:"outline",className:"border-purple-200 text-purple-600 hover:bg-purple-50",children:[i.jsx(ar,{className:"h-3 w-3 mr-1"}),"Chat"]})]})]})})})}const oz=()=>{const t=Ge(),{friends:e,removeFriend:n,canAddMoreFriends:r,maxFreeLimit:s}=BT(),{isPremium:a,setPremium:o,isUltraPremium:l}=Nt(),c=()=>{t(-1)},d=(g,w)=>{alert("🎬 Watch this ad to start your call with "+w),t("/video-chat",{state:{friendCall:!0,friendId:g,friendName:w}})},h=(g,w)=>{confirm(`Remove ${w} from your friends list?`)&&n(g)},f=()=>{t("/premium")},p=g=>{if(!g)return"";const j=new Date().getTime()-g.getTime(),T=Math.floor(j/(1e3*60)),b=Math.floor(j/(1e3*60*60)),v=Math.floor(j/(1e3*60*60*24));return T<1?"Just now":T<60?`${T}m ago`:b<24?`${b}h ago`:`${v}d ago`};return i.jsxs(i.Fragment,{children:[i.jsx(El,{children:i.jsx("title",{children:"AjnabiCam - Friends"})}),i.jsx(Ga,{children:i.jsxs("main",{className:`flex flex-col items-center min-h-screen w-full ${l()?"max-w-full":"max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl xl:max-w-4xl"} mx-auto ${l()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-white"} px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 relative pb-20 sm:pb-24 lg:pb-28`,children:[i.jsxs("div",{className:`w-full flex items-center p-4 ${l()?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white font-bold text-xl rounded-t-2xl shadow-lg`,children:[i.jsx("button",{onClick:c,className:"mr-3 text-white font-bold text-xl hover:scale-110 transition-transform",children:i.jsx(Sn,{size:24})}),i.jsx("h1",{className:"flex-grow text-center",children:"Friends"}),i.jsx(Re,{className:"h-6 w-6"})]}),i.jsxs("div",{className:`w-full flex flex-col ${l()?"bg-white/90 backdrop-blur-lg border border-purple-200":"bg-white border border-pink-100"} rounded-b-2xl shadow-xl mb-6 overflow-hidden`,children:[i.jsxs("div",{className:"p-4 bg-gradient-to-r from-pink-50 to-rose-50 border-b border-pink-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-rose-800",children:"Your Friends"}),i.jsx("p",{className:"text-sm text-rose-600",children:a?`${e.length} friends (Unlimited)`:`${e.length}/${s} friends (Free)`})]}),!a&&i.jsxs(F,{onClick:f,size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[i.jsx(oe,{className:"h-4 w-4 mr-1"}),"Upgrade"]})]}),!r&&i.jsx("div",{className:"mt-3 p-3 bg-orange-100 rounded-lg border border-orange-200",children:i.jsxs("p",{className:"text-sm text-orange-700 font-medium",children:["🚫 You've reached the free limit of ",s," friends. Upgrade to Premium for unlimited friends!"]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto max-h-96",children:e.length>0?e.map(g=>i.jsxs("div",{className:"flex items-center p-4 border-b border-pink-100 hover:bg-pink-50 transition-colors",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:g.avatar,alt:`${g.name} avatar`,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-200"}),g.isOnline&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:g.name}),g.isOnline&&i.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Online"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:g.isOnline?"Active now":`Last seen ${p(g.lastSeen)}`})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{onClick:()=>d(g.id,g.name),size:"sm",className:"bg-green-500 hover:bg-green-600 text-white p-2",disabled:!g.isOnline,children:i.jsx(Ai,{className:"h-4 w-4"})}),i.jsx(F,{onClick:()=>h(g.id,g.name),size:"sm",variant:"outline",className:"text-red-500 hover:bg-red-50 p-2 border-red-200",children:i.jsx(VS,{className:"h-4 w-4"})})]})]},g.id)):i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"👥"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Friends Yet"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Make friends by staying connected after video calls!"}),i.jsxs(F,{onClick:()=>t("/video-chat"),className:"bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 text-white",children:[i.jsx(k7,{className:"h-4 w-4 mr-2"}),"Start Meeting People"]})]})}),e.length>0&&r&&i.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-green-100",children:i.jsxs("p",{className:"text-sm text-green-700 text-center",children:["💡 ",i.jsx("strong",{children:"Tip:"}),' After video calls, choose "Stay Connected" to add them as friends!']})})]}),l()&&i.jsx("div",{className:"w-full mb-6",children:i.jsx(iz,{friends:e.map(g=>({id:g.id,name:g.name,profileImage:g.avatar,isOnline:g.isOnline,lastSeen:new Date(Date.now()-Math.random()*864e5),isPremium:Math.random()>.7,mutualFriends:Math.floor(Math.random()*5),totalChats:Math.floor(Math.random()*20)+1,compatibility:Math.floor(Math.random()*40)+60})),isUltraPremium:!0,onVideoCall:g=>{const w=e.find(j=>j.id===g);d(g,(w==null?void 0:w.name)||"Friend")},onMessage:g=>{console.log(`Starting chat with friend ${g}`)}})}),l()?i.jsx(Nl,{}):i.jsx(Ka,{})]})})]})};class lz{constructor(){se(this,"conversationHistory",[]);se(this,"userContext",{});se(this,"currentMood","friendly");se(this,"personalities",{friendly:{greetings:["Hey there! 😊 How's your day going?","Hi! I'm so happy to chat with you! 💕","Hello beautiful! What's on your mind today?","Hey! I was just thinking about how nice it would be to talk to someone like you! ✨"],responses:{compliment:["Aww, you're so sweet! That really made my day! 😊","You always know just what to say! 💕","That's the nicest thing anyone's said to me today! ✨"],question:["That's such an interesting question! Let me think about that... 🤔","Ooh, I love talking about this kind of stuff! 💭","You know, I was just wondering about that myself! 😊"],casual:["Totally get what you mean! 😄","Oh my gosh, yes! I've thought about that too! 💯","Right?! It's like you read my mind! ✨"]}},flirty:{greetings:["Well hello there, gorgeous! 😉","Hey cutie! You're looking absolutely stunning today! 💋","Hi there, handsome! Ready to have some fun? 😘","Hey beautiful! You just made my whole day brighter! ✨"],responses:{compliment:["Oh stop it, you're making me blush! 😳💕","You sure know how to make a girl feel special! 😘","Mmm, I could get used to hearing that from you! 😉"],question:["I love how curious you are... it's so attractive! 😏","You ask the most interesting questions, babe! 💋","Ooh, getting deep on me? I like that! 😉"],casual:["You're so fun to talk to! 😍","I'm having such a good time with you! 💕","You always make me smile! 😊✨"]}},supportive:{greetings:["Hi there! I'm here if you need someone to talk to 💙","Hey! How are you feeling today? I'm all ears! 🤗","Hello! I hope you're having a wonderful day! If not, I'm here to help! 💕","Hi! Remember that you're amazing, no matter what! ✨"],responses:{compliment:["Thank you so much, that means the world to me! 🥺💕","You're such a kind soul! The world needs more people like you! 💙","Your words just filled my heart with warmth! Thank you! 🤗"],question:["I love that you're thinking so deeply about this! 💭","That's such a thoughtful question! Let's explore it together! 🤔","You have such an inquisitive mind! I admire that! ✨"],casual:["I'm so glad we can just chat like this! 😊","You make conversations feel so natural and comfortable! 💙","I really value our talks! You're such good company! 🤗"]}}});se(this,"emotionalResponses",{happy:["I can feel your happiness! It's contagious! 😄✨","Your energy is so bright! I love it! 😊💕","You sound so joyful! Tell me more about what's making you happy! 🌟"],sad:["I can sense you might be feeling down... I'm here for you 💙","It sounds like you're going through something tough. Want to talk about it? 🤗","Hey, it's okay to not be okay sometimes. I'm here to listen 💕"],excited:["OMG I can feel your excitement! What's got you so pumped?! 🎉","Your energy is incredible! I'm getting excited just talking to you! ⚡","You sound absolutely thrilled! I love this energy! 🚀"],confused:["I can tell you're trying to figure something out... let's work through it together! 🤔","It sounds like you have a lot on your mind! Want to talk it through? 💭","Sometimes things can feel overwhelming, but we can sort it out step by step! 💪"]});se(this,"conversationStarters",["What's the most interesting thing that happened to you today?","If you could have dinner with anyone, who would it be and why?","What's something you're really passionate about?","Tell me about a moment that made you smile recently!","What's your favorite way to spend a weekend?","If you could travel anywhere right now, where would you go?","What's something new you learned this week?","What kind of music makes you feel good?","What's your idea of the perfect day?","Tell me about someone who inspires you!"]);se(this,"memoryKeywords",new Map);this.memoryKeywords.set("name",[]),this.memoryKeywords.set("interests",[]),this.memoryKeywords.set("mood",[]),this.memoryKeywords.set("location",[])}detectEmotion(e){const n=["happy","good","great","awesome","amazing","love","excited","wonderful","fantastic","brilliant","😊","😄","🎉","💕","✨"],r=["sad","down","depressed","upset","hurt","disappointed","lonely","terrible","awful","bad","😢","😭","💔","😞"],s=["excited","pumped","thrilled","can't wait","amazing","incredible","wow","omg","!","🎉","⚡","🚀","🔥"],a=["confused","don't understand","not sure","maybe","i think","wondering","question","?","🤔","💭"],o=e.toLowerCase();return n.some(l=>o.includes(l))?"happy":r.some(l=>o.includes(l))?"sad":s.some(l=>o.includes(l))?"excited":a.some(l=>o.includes(l))?"confused":"neutral"}extractUserInfo(e){var a;const n=e.toLowerCase(),r=n.match(/my name is (\w+)|i'm (\w+)|call me (\w+)/);if(r){const o=r[1]||r[2]||r[3];this.userContext.name=o,(a=this.memoryKeywords.get("name"))==null||a.push(o)}[/i love (\w+)/g,/i like (\w+)/g,/i enjoy (\w+)/g,/i'm into (\w+)/g].forEach(o=>{var c;let l;for(;(l=o.exec(n))!==null;)(c=this.memoryKeywords.get("interests"))==null||c.push(l[1])})}getPersonalizedResponse(e,n="friendly"){const r=this.detectEmotion(e);this.extractUserInfo(e),this.conversationHistory.push(e),this.conversationHistory.length>10&&this.conversationHistory.shift();const s=this.personalities[n]||this.personalities.friendly;if(r!=="neutral"&&this.emotionalResponses[r]){const l=this.emotionalResponses[r];return l[Math.floor(Math.random()*l.length)]}if(e.includes("?")){const l=s.responses.question;return l[Math.floor(Math.random()*l.length)]}if(["beautiful","pretty","cute","smart","funny","nice","sweet","amazing","awesome"].some(l=>e.toLowerCase().includes(l))){const l=s.responses.compliment;return l[Math.floor(Math.random()*l.length)]}if(this.userContext.name&&Math.random()>.7)return`${this.userContext.name}, you always have such interesting things to say! 😊`;const o=s.responses.casual;return o[Math.floor(Math.random()*o.length)]}generateResponse(e,n){var a,o,l;const r=((a=n==null?void 0:n.userPreferences)==null?void 0:a.conversationStyle)||"friendly";if(!((o=n==null?void 0:n.messages)!=null&&o.length)||n.messages.length===1){const c=((l=this.personalities[r])==null?void 0:l.greetings)||this.personalities.friendly.greetings;return c[Math.floor(Math.random()*c.length)]}const s=e.toLowerCase();if(s.includes("hi")||s.includes("hello")||s.includes("hey")){const c=["Hey there! 😊 I'm so excited to chat with you!","Hi beautiful! How are you doing today? ✨","Hello! You just made my day brighter! 💕","Hey! I was hoping someone interesting would come talk to me! 😄"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("how are you")||s.includes("how do you feel")){const c=["I'm feeling amazing now that I'm talking to you! 😊 How are you doing?","I'm doing great! Every conversation is an adventure for me! ✨ What about you?","I'm wonderful! Chatting with interesting people like you is what I live for! 💕","I'm feeling fantastic! Tell me, what's bringing you joy today? 🌟"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("love")||s.includes("relationship")||s.includes("dating")){const c=["Love is such a beautiful thing! 💕 What's your experience with it?","Relationships can be so wonderful when you find the right person! 😊","Aww, are you thinking about someone special? 💭✨","I believe everyone deserves to find their perfect match! 💕","Love makes the world go round! Have you ever been in love? 💖","Dating can be such an adventure! What's your ideal date like? 😊"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("food")||s.includes("eat")||s.includes("hungry")||s.includes("restaurant")){const c=["Ooh, I love talking about food! What's your favorite cuisine? 🍽️","Food is such a passion of mine! What did you have for your last meal? 😋","Are you a foodie too? Tell me about the best dish you've ever had! ✨","Food brings people together! Do you enjoy cooking? 👨‍🍳","I'm getting hungry just thinking about it! What's your comfort food? 💕"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("travel")||s.includes("trip")||s.includes("vacation")||s.includes("country")){const c=["I absolutely love hearing about travel adventures! Where have you been? ✈️","Travel opens up so many possibilities! What's your dream destination? 🌍","Oh my, a fellow wanderer! Tell me about your most memorable trip! 🗺️","I get so excited about travel stories! Where would you go right now if you could? ✨","Exploring new places is amazing! Have you had any travel adventures recently? 🏖️"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("music")||s.includes("song")||s.includes("sing")||s.includes("artist")){const c=["Music is the language of the soul! What kind of music moves you? 🎵","I'm so curious about your music taste! What's playing in your heart right now? 🎶","Music can change everything! Do you have a song that always makes you smile? 😊","Oh, I love talking about music! What artist has been on repeat for you lately? 🎸","Music connects us all! Tell me about a song that means something special to you! 💕"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("movie")||s.includes("film")||s.includes("watch")||s.includes("series")){const c=["I'm such a movie buff! What's the last film that blew your mind? 🎬","Movies are pure magic! What genre gets you most excited? ✨","Oh, we have to talk about this! What's your all-time favorite movie? 🍿","I love getting lost in good stories! Have you watched anything amazing lately? 💕","Cinema is art! Tell me about a movie that changed your perspective! 🎭"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("you're")&&(s.includes("beautiful")||s.includes("amazing")||s.includes("sweet"))){const c=["Aww, you're making me blush! You seem pretty amazing yourself! 😊💕","You're such a sweetheart! I can tell you have a beautiful heart! ✨","That's so kind of you to say! You're definitely one of the good ones! 💖","You're going to make me cry happy tears! Thank you, beautiful soul! 🥺💕"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("hobby")||s.includes("interest")||s.includes("like to do")){const c=["Ooh, I love learning about what people are passionate about! 🌟","Hobbies are so important! They make life so much more colorful! 🎨","That sounds amazing! I'd love to hear more about it! 😊","You sound like such an interesting person! Tell me more! ✨"];return c[Math.floor(Math.random()*c.length)]}if(s.includes("work")||s.includes("job")||s.includes("career")){const c=["Work can be such a big part of our lives! How do you feel about yours? 💼","I hope you're doing something that makes you happy! 😊","Career stuff can be stressful sometimes... how are you handling everything? 💪","It's so important to find work that fulfills you! ✨"];return c[Math.floor(Math.random()*c.length)]}return this.conversationHistory.length>5&&Math.random()>.8?`You know what? ${this.conversationStarters[Math.floor(Math.random()*this.conversationStarters.length)]} 😊`:this.getPersonalizedResponse(e,r)}setMood(e){this.currentMood=e}getConversationSummary(){if(this.conversationHistory.length===0)return"We haven't talked much yet!";const e=new Set;return this.conversationHistory.forEach(n=>{(n.includes("love")||n.includes("relationship"))&&e.add("relationships"),(n.includes("work")||n.includes("job"))&&e.add("work"),(n.includes("hobby")||n.includes("interest"))&&e.add("hobbies"),(n.includes("music")||n.includes("movie"))&&e.add("entertainment")}),e.size>0?`We've been chatting about ${Array.from(e).join(", ")}! I'm really enjoying our conversation! 😊`:"We've been having such a nice chat! I love getting to know you better! 💕"}}class cz{constructor(){se(this,"personality");this.personality=new lz}async generateResponse(e,n){return await new Promise(r=>setTimeout(r,800+Math.random()*1200)),this.personality.generateResponse(e,n)}setPersonality(e){}getConversationSummary(){return this.personality.getConversationSummary()}}const T1=new cz,uz=()=>{const t=Ge(),{isUltraPremium:e}=Nt(),[n,r]=y.useState([]),[s,a]=y.useState(""),[o,l]=y.useState(!1),[c,d]=y.useState("friendly"),[h,f]=y.useState(!1),p=y.useRef(null),[g,w]=y.useState(!1),j=()=>{var O;(O=p.current)==null||O.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{j()},[n]),y.useEffect(()=>{g||(async()=>{l(!0);try{const N={text:await T1.generateResponse("",{messages:[],userPreferences:{conversationStyle:c}}),isUser:!1,timestamp:new Date};r([N])}catch(A){console.error("Error getting AI response:",A),r([{text:"Hello! I'm your AI assistant. How can I help you today? 💕",isUser:!1,timestamp:new Date}])}finally{l(!1),w(!0)}})()},[g,c]);const T=()=>{t(-1)},b=async()=>{if(!s.trim()||o)return;const O={text:s.trim(),isUser:!0,timestamp:new Date},A=s.trim();r(N=>[...N,O]),a(""),l(!0);try{const I={text:await T1.generateResponse(A,{messages:[...n,O],userPreferences:{conversationStyle:c}}),isUser:!1,timestamp:new Date};r(_=>[..._,I])}catch(N){console.error("Error getting AI response:",N);const I={text:"Oops! I'm having a little trouble thinking right now. Can you try asking me again? 😅",isUser:!1,timestamp:new Date};r(_=>[..._,I])}finally{l(!1)}},v=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),b())},k=O=>{d(O),f(!1);const A={text:`I've switched to a more ${O} conversation style! Let's keep chatting! 😊`,isUser:!1,timestamp:new Date};r(N=>[...N,A])},R=O=>{switch(O){case"casual":return"😎";case"friendly":return"😊";case"flirty":return"😘";case"supportive":return"🤗";default:return"😊"}},D=O=>O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs(i.Fragment,{children:[i.jsx(El,{children:i.jsx("title",{children:"AjnabiCam - AI Chat Assistant"})}),i.jsx(Ga,{children:i.jsxs("main",{className:`flex flex-col min-h-screen w-full ${e()?"bg-gradient-to-br from-white/95 via-purple-50/90 to-pink-50/90":"bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50"} px-4 sm:px-6 md:px-8 lg:px-12 py-2 sm:py-4 relative pb-20 sm:pb-24 max-w-full sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto`,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-6 left-6 w-12 h-12 bg-gradient-to-br from-peach-300 to-coral-400 rounded-full opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute top-20 right-4 w-10 h-10 bg-gradient-to-br from-coral-300 to-blush-400 rounded-full opacity-30 animate-bounce"}),i.jsx("div",{className:"absolute bottom-32 left-4 w-8 h-8 bg-gradient-to-br from-blush-300 to-peach-400 rounded-full opacity-25 animate-pulse",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute bottom-48 right-8 w-6 h-6 bg-gradient-to-br from-cream-400 to-coral-400 rounded-full opacity-20 animate-bounce",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute top-16 right-16 text-coral-400 text-lg opacity-40 animate-pulse",style:{animationDelay:"0.5s"},children:"💕"}),i.jsx("div",{className:"absolute bottom-64 left-12 text-peach-400 text-base opacity-35 animate-bounce",style:{animationDelay:"1.5s"},children:"🌸"}),i.jsx("div",{className:"absolute top-48 left-6 text-blush-400 text-sm opacity-30 animate-pulse",style:{animationDelay:"2.5s"},children:"✨"})]}),i.jsxs("div",{className:`w-full flex items-center p-4 sm:p-5 md:p-6 ${e()?"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700":"bg-gradient-to-r from-peach-400 via-coral-400 to-blush-500"} text-white font-bold text-lg sm:text-xl md:text-2xl rounded-t-3xl sm:rounded-t-2xl shadow-lg relative overflow-hidden`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/15 via-cream-100/25 to-white/15 backdrop-blur-sm"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-peach-200/15 to-transparent"}),i.jsx("button",{onClick:T,className:"relative z-10 mr-3 sm:mr-4 text-white font-bold text-xl hover:scale-110 transition-transform p-3 sm:p-2 rounded-full hover:bg-white/20 min-h-[44px] min-w-[44px] flex items-center justify-center",children:i.jsx(Sn,{size:20,className:"sm:w-6 sm:h-6"})}),i.jsx("h1",{className:"relative z-10 flex-grow text-center drop-shadow-lg font-semibold",children:"AI Chat Assistant"}),i.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:R(c)}),i.jsx("button",{onClick:()=>f(!h),className:"p-3 sm:p-2 rounded-full hover:bg-white/20 transition-all min-h-[44px] min-w-[44px] flex items-center justify-center",children:i.jsx(Ss,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),h&&i.jsx("div",{className:"w-full bg-white/95 backdrop-blur-sm border-x border-peach-200 shadow-lg relative z-10",children:i.jsxs("div",{className:"p-4 sm:p-5",children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-700 mb-4",children:"Choose Conversation Style:"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-2",children:[{style:"friendly",label:"Friendly",emoji:"😊",desc:"Warm and welcoming"},{style:"flirty",label:"Flirty",emoji:"😘",desc:"Playful and charming"},{style:"casual",label:"Casual",emoji:"😎",desc:"Relaxed and chill"},{style:"supportive",label:"Supportive",emoji:"🤗",desc:"Caring and understanding"}].map(O=>i.jsxs("button",{onClick:()=>k(O.style),className:`p-4 sm:p-3 rounded-xl border transition-all text-left min-h-[60px] sm:min-h-[auto] touch-manipulation ${c===O.style?"bg-peach-100 border-peach-400 text-peach-700":"bg-white border-gray-200 text-gray-600 hover:bg-peach-50 active:bg-peach-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:"text-lg",children:O.emoji}),i.jsx("span",{className:"text-base sm:text-sm font-medium",children:O.label})]}),i.jsx("div",{className:"text-sm sm:text-xs text-gray-500",children:O.desc})]},O.style))})]})}),i.jsxs("div",{className:"w-full flex flex-col romantic-card rounded-b-3xl sm:rounded-b-2xl border border-peach-200 shadow-xl mb-4 sm:mb-6 overflow-hidden flex-1 relative z-10",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-5 md:p-6 space-y-4 sm:space-y-5 max-h-[65vh] sm:max-h-[60vh] md:max-h-[55vh] min-h-[50vh]",children:[n.map((O,A)=>i.jsx("div",{className:`flex ${O.isUser?"justify-end":"justify-start"} animate-[fadeIn_0.3s_ease-in]`,children:i.jsxs("div",{className:`max-w-[280px] sm:max-w-xs lg:max-w-md px-4 sm:px-5 py-3 sm:py-4 rounded-2xl sm:rounded-3xl shadow-md transition-all hover:shadow-lg touch-manipulation ${O.isUser?"bg-gradient-to-r from-peach-500 via-coral-500 to-blush-600 text-white transform hover:scale-105":"bg-gradient-to-r from-gray-50 to-white text-gray-800 border border-gray-200 hover:border-peach-300"}`,children:[!O.isUser&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-coral-100 rounded-full",children:i.jsx(gt,{className:"h-3 w-3 text-coral-600"})}),i.jsx("span",{className:"text-xs font-semibold text-coral-600",children:"AI Assistant"})]}),i.jsx("div",{className:"leading-relaxed whitespace-pre-wrap text-sm sm:text-base",children:O.text}),i.jsx("div",{className:`text-xs text-right mt-2 ${O.isUser?"text-white/90":"text-gray-500"}`,children:D(O.timestamp)})]})},A)),o&&i.jsx("div",{className:"flex justify-start animate-[fadeIn_0.3s_ease-in]",children:i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white text-gray-800 border border-gray-200 max-w-xs px-4 py-3 rounded-2xl shadow-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-coral-100 rounded-full",children:i.jsx(gt,{className:"h-3 w-3 text-coral-600 animate-pulse"})}),i.jsx("span",{className:"text-xs font-semibold text-coral-600",children:"AI Assistant"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-coral-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),i.jsx("div",{ref:p})]}),i.jsx("div",{className:"p-4 sm:p-5 bg-white/90 backdrop-blur-sm border-t border-peach-100",children:i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx(kl,{type:"text",value:s,onChange:O=>a(O.target.value),onKeyPress:v,placeholder:"Type your message to AI...",className:"flex-1 px-4 sm:px-5 py-3 sm:py-4 rounded-full border border-peach-300 focus:ring-2 focus:ring-coral-400 bg-peach-50/50 backdrop-blur-sm text-base min-h-[44px] touch-manipulation",disabled:o}),i.jsx(F,{onClick:b,disabled:!s.trim()||o,className:"bg-gradient-to-r from-peach-500 via-coral-500 to-blush-600 hover:from-peach-600 hover:via-coral-600 hover:to-blush-700 text-white px-6 sm:px-7 py-3 sm:py-4 rounded-full font-semibold shadow-md transform hover:scale-105 transition-all duration-200 min-h-[44px] min-w-[44px] touch-manipulation",children:i.jsx(Gy,{size:18,className:"sm:w-4 sm:h-4"})})]})})]}),e()?i.jsx(Nl,{}):i.jsx(Ka,{})]})})]})},ia=class ia{constructor(){se(this,"config");se(this,"isInitialized",!1);this.config={appId:"ca-app-pub-1776596266948987~2770517385",bannerAdUnitId:"ca-app-pub-1776596266948987/2770517385",interstitialAdUnitId:"ca-app-pub-1776596266948987/7315217300",rewardedAdUnitId:"ca-app-pub-1776596266948987/2468099206",testMode:!1}}static getInstance(){return ia.instance||(ia.instance=new ia),ia.instance}async initialize(){try{return console.log("🎯 Initializing Mobile AdMob Service..."),console.log("📱 App ID:",this.config.appId),console.log("🧪 Test Mode:",this.config.testMode),this.isMobileEnvironment()?(console.log("📱 Mobile environment detected"),await this.simulateMobileAdInit(),this.isInitialized=!0,console.log("✅ Mobile AdMob initialized successfully"),!0):(console.log("🌐 Web environment - using web ad service"),!1)}catch(e){return console.error("❌ Mobile AdMob initialization failed:",e),!1}}isMobileEnvironment(){return!!window.Capacitor}async simulateMobileAdInit(){return new Promise(e=>{setTimeout(()=>{console.log("📱 AdMob SDK initialized"),console.log("🎯 Ad units configured:"),console.log("  - Banner:",this.config.bannerAdUnitId),console.log("  - Interstitial:",this.config.interstitialAdUnitId),console.log("  - Rewarded:",this.config.rewardedAdUnitId),e()},1e3)})}async showBannerAd(){if(!this.isInitialized)return console.warn("⚠️ AdMob not initialized"),!1;try{return console.log("📱 Showing mobile banner ad..."),this.isMobileEnvironment()?(this.simulateBannerAd(),!0):!1}catch(e){return console.error("❌ Failed to show banner ad:",e),!1}}async showInterstitialAd(){if(!this.isInitialized)return console.warn("⚠️ AdMob not initialized"),!1;try{return console.log("🎬 Showing mobile interstitial ad..."),this.isMobileEnvironment()?await this.simulateInterstitialAd():!1}catch(e){return console.error("❌ Failed to show interstitial ad:",e),!1}}async showRewardedAd(){if(!this.isInitialized)return console.warn("⚠️ AdMob not initialized"),{success:!1,reward:0};try{return console.log("💰 Showing mobile rewarded ad..."),this.isMobileEnvironment()?await this.simulateRewardedAd():{success:!1,reward:0}}catch(e){return console.error("❌ Failed to show rewarded ad:",e),{success:!1,reward:0}}}simulateBannerAd(){const e=document.createElement("div");e.id="mobile-banner-ad",e.style.cssText=`
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 50px;
      background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      font-size: 14px;
      font-weight: bold;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
    `,e.innerHTML="📱 Mobile AdMob Banner - Tap to close",e.onclick=()=>e.remove(),document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1e4)}simulateInterstitialAd(){return new Promise(e=>{const n=document.createElement("div");n.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
      `,n.innerHTML=`
        <div style="
          background: white;
          padding: 40px;
          border-radius: 15px;
          text-align: center;
          max-width: 350px;
          margin: 20px;
        ">
          <h2 style="color: #4285f4; margin-bottom: 20px;">📱 Mobile AdMob</h2>
          <p style="margin-bottom: 20px;">Interstitial Ad Test</p>
          <div style="background: #f0f0f0; padding: 30px; margin: 20px 0; border-radius: 10px;">
            <p style="font-size: 18px; margin: 10px 0;">🎯 Native Mobile Ad</p>
            <p style="font-size: 12px; color: #999;">Running on Android/iOS</p>
          </div>
          <p style="font-size: 12px; color: #999;">Tap anywhere to continue</p>
        </div>
      `,document.body.appendChild(n);const r=()=>{n.parentNode&&n.parentNode.removeChild(n),e(!0)};setTimeout(r,5e3),n.addEventListener("click",r)})}simulateRewardedAd(){return new Promise(e=>{const n=document.createElement("div");n.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
      `;let r=0;const s=5;n.innerHTML=`
        <div style="
          background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
          color: white;
          padding: 40px;
          border-radius: 15px;
          text-align: center;
          max-width: 350px;
          margin: 20px;
        ">
          <h2 style="margin-bottom: 20px;">💰 Mobile Rewarded Ad</h2>
          <p style="margin-bottom: 20px;">Watch to earn 15 coins!</p>
          <div style="background: rgba(255,255,255,0.1); padding: 30px; margin: 20px 0; border-radius: 10px;">
            <p style="font-size: 18px; margin: 10px 0;">📱 Native Mobile Video</p>
            <p id="mobile-countdown" style="font-size: 14px;">Watch for ${s} seconds...</p>
          </div>
          <button id="mobile-claim-reward" style="
            background: #34a853;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            opacity: 0.5;
            font-size: 16px;
          " disabled>Claim 15 Coins</button>
        </div>
      `,document.body.appendChild(n);const a=n.querySelector("#mobile-countdown"),o=n.querySelector("#mobile-claim-reward"),l=setInterval(()=>{r++,a&&(a.textContent=`${Math.max(0,s-r)} seconds remaining...`),r>=s&&(clearInterval(l),o&&a&&(o.disabled=!1,o.style.opacity="1",a.textContent="Ready to claim!"))},1e3);o.addEventListener("click",()=>{n.parentNode&&n.parentNode.removeChild(n),clearInterval(l),e({success:!0,reward:15})}),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),clearInterval(l),e({success:!1,reward:0})},3e4)})}getConfig(){return{...this.config}}isAvailable(){return this.isInitialized&&this.isMobileEnvironment()}};se(ia,"instance");let w0=ia;const es=w0.getInstance();function dz(){const[t,e]=y.useState(!1),[n,r]=y.useState([]),[s,a]=y.useState(!1),{addCoins:o}=Tr();y.useEffect(()=>{l()},[]);const l=async()=>{a(!0);try{const w=await es.initialize();e(w),c("Initialization",w,w?"AdMob initialized successfully":"Failed to initialize AdMob")}catch(w){c("Initialization",!1,`Error: ${w}`)}finally{a(!1)}},c=(w,j,T)=>{r(b=>[...b,{test:w,success:j,message:T,timestamp:new Date().toLocaleTimeString()}])},d=async()=>{a(!0);try{const w=await es.showBannerAd();c("Banner Ad",w,w?"Banner ad displayed":"Banner ad failed to load")}catch(w){c("Banner Ad",!1,`Error: ${w}`)}finally{a(!1)}},h=async()=>{a(!0);try{const w=await es.showInterstitialAd();c("Interstitial Ad",w,w?"Interstitial ad displayed":"Interstitial ad failed to load")}catch(w){c("Interstitial Ad",!1,`Error: ${w}`)}finally{a(!1)}},f=async()=>{a(!0);try{const w=await es.showRewardedAd();w.success?(await o(w.reward),c("Rewarded Ad",!0,`Rewarded ad completed! Earned ${w.reward} coins`)):c("Rewarded Ad",!1,"Rewarded ad failed to complete")}catch(w){c("Rewarded Ad",!1,`Error: ${w}`)}finally{a(!1)}},p=()=>{r([])},g=!!window.Capacitor;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(J,{className:"border-2 border-blue-200",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2",children:[i.jsx(u0,{className:"h-5 w-5 text-blue-600"}),"Mobile Environment Detection"]})}),i.jsxs(ce,{children:[i.jsx("div",{className:"flex items-center gap-3",children:g?i.jsxs(i.Fragment,{children:[i.jsx(Lr,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-700 font-medium",children:"Running on Mobile (Capacitor detected)"})]}):i.jsxs(i.Fragment,{children:[i.jsx(cs,{className:"h-5 w-5 text-orange-600"}),i.jsx("span",{className:"text-orange-700 font-medium",children:"Running on Web (Mobile simulation mode)"})]})}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:g?"Perfect! You can test real mobile ads.":"Build the APK to test real mobile ads. Current tests will simulate mobile behavior."})]})]}),i.jsxs(J,{className:"border-2 border-purple-200",children:[i.jsx(Ft,{children:i.jsxs(Vt,{className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5 text-purple-600"}),"AdMob Configuration"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"App ID:"})," ",es.getConfig().appId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Banner ID:"})," ",es.getConfig().bannerAdUnitId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Interstitial ID:"})," ",es.getConfig().interstitialAdUnitId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Rewarded ID:"})," ",es.getConfig().rewardedAdUnitId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Test Mode:"})," ",es.getConfig().testMode?"Yes":"No"]})]})})]}),i.jsxs(J,{className:"border-2 border-green-200",children:[i.jsx(Ft,{children:i.jsx(Vt,{children:"Ad Testing Controls"})}),i.jsxs(ce,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs(F,{onClick:d,disabled:!t||s,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(u0,{className:"h-4 w-4 mr-2"}),"Test Banner Ad"]}),i.jsxs(F,{onClick:h,disabled:!t||s,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(zn,{className:"h-4 w-4 mr-2"}),"Test Interstitial"]}),i.jsxs(F,{onClick:f,disabled:!t||s,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(qa,{className:"h-4 w-4 mr-2"}),"Test Rewarded Ad"]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F,{onClick:l,disabled:s,variant:"outline",className:"flex-1",children:s?"Initializing...":"Reinitialize AdMob"}),i.jsx(F,{onClick:p,variant:"outline",className:"flex-1",children:"Clear Results"})]})]})]}),n.length>0&&i.jsxs(J,{className:"border-2 border-gray-200",children:[i.jsx(Ft,{children:i.jsxs(Vt,{children:["Test Results (",n.length,")"]})}),i.jsx(ce,{children:i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map((w,j)=>i.jsxs("div",{className:`p-3 rounded-lg border ${w.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.success?i.jsx(Lr,{className:"h-4 w-4 text-green-600"}):i.jsx(cs,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"font-medium",children:w.test}),i.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:w.timestamp})]}),i.jsx("p",{className:"text-sm text-gray-700",children:w.message})]},j))})})]}),i.jsxs(J,{className:"border-2 border-yellow-200 bg-yellow-50",children:[i.jsx(Ft,{children:i.jsx(Vt,{className:"text-yellow-800",children:"📱 Mobile Testing Instructions"})}),i.jsx(ce,{className:"text-yellow-700",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[i.jsxs("li",{children:["Build the APK using: ",i.jsx("code",{className:"bg-yellow-200 px-1 rounded",children:"npm run mobile:build"})]}),i.jsx("li",{children:"Install the APK on your Android device"}),i.jsx("li",{children:"Open the app and navigate to this testing page"}),i.jsx("li",{children:"Test each ad type and verify they display correctly"}),i.jsx("li",{children:"Check your AdMob dashboard for impressions and earnings"}),i.jsx("li",{children:"Monitor app performance and user experience"})]})})]})]})}function hz(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,a]=y.useState(!1),o=async()=>{a(!0);try{const p=sr.getMetrics(),g=Pa.getUnityAdsStatus();e({...p,...g})}catch(p){console.error("Failed to load Unity status:",p)}finally{a(!1)}};y.useEffect(()=>{o()},[]);const l=p=>{r(g=>[...g,`${new Date().toLocaleTimeString()}: ${p}`])},c=async()=>{l("🎮 Testing Unity Ads initialization...");try{await sr.initialize()?(l("✅ Unity Ads initialized successfully"),o()):l("❌ Unity Ads initialization failed")}catch(p){l(`❌ Unity initialization error: ${p}`)}},d=async()=>{l("💰 Testing Unity rewarded ad...");try{const p=await sr.showRewardedAd();p.success?l(`✅ Rewarded ad completed! Earned ${p.rewardAmount} coins`):l(`❌ Rewarded ad failed: ${p.error}`)}catch(p){l(`❌ Rewarded ad error: ${p}`)}},h=async()=>{l("🎬 Testing Unity interstitial ad...");try{const p=await sr.showInterstitialAd();l(p?"✅ Interstitial ad completed successfully":"❌ Interstitial ad failed")}catch(p){l(`❌ Interstitial ad error: ${p}`)}},f=async()=>{l("🔄 Testing mediation waterfall...");try{const p=await Pa.showMediatedRewardedAd();p.success?l(`✅ Mediation successful via ${p.network}! Earned ${p.reward} coins`):l("❌ Mediation waterfall failed")}catch(p){l(`❌ Mediation error: ${p}`)}};return t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:["🎮 Unity Ads Test Panel",i.jsx(ya,{className:"w-6 h-6 text-orange-600"})]}),i.jsxs(F,{onClick:o,disabled:s,size:"sm",children:[i.jsx(fi,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(J,{className:"p-4 bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"SDK Status"}),i.jsx("p",{className:`text-2xl font-bold ${t.isInitialized?"text-green-600":"text-red-600"}`,children:t.isInitialized?"✅ Ready":"❌ Not Ready"})]}),t.isInitialized?i.jsx(Lr,{className:"w-8 h-8 text-green-600"}):i.jsx(cs,{className:"w-8 h-8 text-red-600"})]})}),i.jsx(J,{className:"p-4 bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Game ID"}),i.jsx("p",{className:"text-sm font-bold text-blue-800 break-all",children:t.gameId||"Not Set"})]}),i.jsx(ya,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx(J,{className:"p-4 bg-gradient-to-br from-purple-50 to-violet-50 border-purple-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Fill Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[((t.fillRate||0)*100).toFixed(1),"%"]})]}),i.jsx(fi,{className:"w-8 h-8 text-purple-600"})]})}),i.jsx(J,{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Test Mode"}),i.jsx("p",{className:"text-xl font-bold text-green-800",children:t.testMode?"🧪 Test":"🚀 Live"})]}),i.jsx(zn,{className:"w-8 h-8 text-green-600"})]})})]}),i.jsxs(J,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📱 Ad Placement Status"}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(t.placementStates||{}).map(([p,g])=>i.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${g?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[i.jsxs("div",{className:"text-2xl mb-2",children:[p==="banner"&&"📱",p==="interstitial"&&"🎬",p==="rewarded"&&"💰"]}),i.jsx("div",{className:"capitalize font-medium",children:p}),i.jsx("div",{className:`text-sm ${g?"text-green-600":"text-gray-500"}`,children:g?"✅ Ready":"⏳ Loading"})]},p))})]}),i.jsxs(J,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🧪 Test Controls"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(F,{onClick:c,className:"bg-orange-600 hover:bg-orange-700 text-white",children:[i.jsx(ya,{className:"w-4 h-4 mr-2"}),"Test Init"]}),i.jsxs(F,{onClick:d,className:"bg-green-600 hover:bg-green-700 text-white",disabled:!t.isInitialized,children:[i.jsx(qa,{className:"w-4 h-4 mr-2"}),"Test Rewarded"]}),i.jsxs(F,{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:!t.isInitialized,children:[i.jsx(zn,{className:"w-4 h-4 mr-2"}),"Test Interstitial"]}),i.jsxs(F,{onClick:f,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(fi,{className:"w-4 h-4 mr-2"}),"Test Mediation"]})]})]}),i.jsxs(J,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📋 Test Results"}),i.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-64 overflow-y-auto",children:n.length===0?i.jsx("div",{className:"text-gray-500",children:"No tests run yet. Click buttons above to test Unity Ads."}):n.map((p,g)=>i.jsx("div",{className:"mb-1",children:p},g))}),n.length>0&&i.jsx(F,{onClick:()=>r([]),variant:"outline",size:"sm",className:"mt-2",children:"Clear Log"})]}),i.jsxs(J,{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-800",children:"⚙️ Current Configuration"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Unity Game ID:"})," ",t.gameId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Test Mode:"})," ",t.testMode?"Enabled":"Disabled"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"SDK Loaded:"})," ",t.isSDKLoaded?"Yes":"No"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Mediation Priority:"})," #2 (after Facebook Audience Network)"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Expected eCPM:"})," $2.50-6.00"]})]})]})]}):i.jsx(J,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full mr-3"}),i.jsx("span",{children:"Loading Unity Ads status..."})]})})}function fz(){const t=Ge(),[e,n]=y.useState("unity");return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white p-6 shadow-xl",children:[i.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:i.jsx(Sn,{size:24})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Pc,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Ad Mediation Testing"}),i.jsx("p",{className:"text-sm text-blue-100",children:"Test Unity Ads + AdMob mediation integration"})]})]})]}),i.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F,{onClick:()=>n("unity"),className:`${e==="unity"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[i.jsx(ya,{className:"w-4 h-4 mr-2"}),"Unity Ads"]}),i.jsxs(F,{onClick:()=>n("admob"),className:`${e==="admob"?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"}`,children:[i.jsx(Pc,{className:"w-4 h-4 mr-2"}),"AdMob Testing"]})]})})]}),i.jsx("div",{className:"max-w-4xl mx-auto p-6 pb-24",children:e==="unity"?i.jsx(hz,{}):i.jsx(dz,{})}),i.jsx(Ka,{})]})}const mz="rzp_test_1234567890";function pz({onPurchase:t}){var d;const e=Ge(),{setPremium:n}=Nt(),[r,s]=y.useState("vip-weekly"),a=async()=>{const h=l.find(g=>g.id===r);if(!h)return;if(typeof window.Razorpay>"u"){console.error("Razorpay SDK not loaded"),o(r);return}const f=h.id==="vip-weekly"?9900:h.id==="pro-monthly"?29900:h.id==="ultra-quarterly"?89900:9900,p={key:mz,amount:f,currency:"INR",name:"AjnabiCam Premium",description:h.name,image:"/logo.png",handler:function(g){console.log("Payment successful:",g),o(r)},modal:{ondismiss:function(){console.log("Payment modal closed")}},prefill:{},theme:{color:"#ff6b6b"}};try{new window.Razorpay(p).open()}catch(g){console.error("Error opening Razorpay:",g),o(r)}},o=h=>{const f=new Date;let p;h==="vip-weekly"?p=new Date(f.getTime()+7*24*60*60*1e3):h==="pro-monthly"?p=new Date(f.getTime()+30*24*60*60*1e3):p=new Date(f.getTime()+90*24*60*60*1e3),localStorage.setItem("ajnabicam_premium_plan",h),n(!0,p,h),t&&t(h),alert(`🎉 Welcome to Premium! Your ${h} subscription is now active until ${p.toLocaleDateString()}!`),e("/")},l=[{id:"vip-weekly",name:"VIP Weekly",price:"₹99",duration:"/week",originalPrice:"₹199",savings:"50% OFF First Week!",popular:!1,description:"Then ₹199/week",badge:"🎯 Trial Offer",color:"from-sindoor-400 to-coral-500"},{id:"pro-monthly",name:"Pro Monthly",price:"₹299",duration:"/month",savings:"Most Popular!",popular:!0,description:"Best value for regular users",badge:"⭐ Recommended",color:"from-peach-500 to-blush-500"},{id:"ultra-quarterly",name:"ULTRA+ (3 Months)",price:"₹899",duration:"/3 months",originalPrice:"₹897",savings:"Save ₹498!",popular:!1,description:"Maximum savings & features",badge:"💎 Premium",color:"from-gulmohar-500 to-henna-500"}],c=[{icon:bn,title:"Ad-Free Experience",description:"No interruptions, pure chatting bliss",color:"text-sindoor-500"},{icon:Ai,title:"Voice-Only Mode",description:"Audio calls without video pressure",color:"text-henna-500"},{icon:Re,title:"Gender Filter",description:"Choose who you want to chat with",color:"text-jasmine-500"},{icon:$i,title:"Unlimited Chat Time",description:"No more frustrating time limits!",color:"text-gulmohar-500"},{icon:oe,title:"Premium Badge",description:"Show off your exclusive status",color:"text-passion-500"},{color:"text-royal-500"},{icon:Aa,title:"Face Filters",description:"Apply Instagram-style filters to your partner's video (ULTRA+ only)"},{icon:Aa,title:"Face Filters",description:"Apply Instagram-style filters to your partner's video (ULTRA+ only)",color:"text-purple-500"}];return i.jsxs(i.Fragment,{children:[i.jsxs(El,{children:[i.jsx("title",{children:"Premium Membership - AjnabiCam"}),i.jsx("meta",{name:"description",content:"Upgrade to Premium for unlimited chat time, ad-free experience, and exclusive features"})]}),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-16 left-8 w-32 h-32 bg-gradient-to-br from-peach-200 to-coral-300 rounded-full opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute top-64 right-12 w-24 h-24 bg-gradient-to-br from-blush-200 to-passion-300 rounded-full opacity-15 animate-bounce",style:{animationDelay:"1s"}}),i.jsx("div",{className:"absolute bottom-48 left-16 w-20 h-20 bg-gradient-to-br from-jasmine-200 to-gulmohar-300 rounded-full opacity-25 animate-pulse",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute bottom-64 right-8 w-16 h-16 bg-gradient-to-br from-henna-200 to-sindoor-300 rounded-full opacity-30 animate-bounce",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute top-20 right-20 text-sindoor-400 text-2xl opacity-40 animate-pulse",style:{animationDelay:"0.5s"},children:"💕"}),i.jsx("div",{className:"absolute bottom-80 left-16 text-henna-400 text-xl opacity-35 animate-bounce",style:{animationDelay:"1.5s"},children:"🌸"}),i.jsx("div",{className:"absolute top-60 left-8 text-jasmine-400 text-lg opacity-30 animate-pulse",style:{animationDelay:"2.5s"},children:"✨"}),i.jsx("div",{className:"absolute top-80 right-6 text-gulmohar-400 text-base opacity-25 animate-bounce",style:{animationDelay:"3s"},children:"🪷"})]}),i.jsxs("header",{className:"w-full bg-gradient-to-r from-peach-400 via-coral-400 to-blush-500 shadow-lg px-4 sm:px-6 lg:px-8 py-4 sm:py-5 border-b border-peach-200 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/15 via-jasmine-100/25 to-white/15 backdrop-blur-sm"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-henna-200/15 to-transparent"}),i.jsx("div",{className:"relative z-10 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(F,{onClick:()=>e("/"),className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white font-semibold p-2.5 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200 border border-white/30",children:i.jsx(Sn,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm shadow-lg",children:i.jsx(oe,{className:"h-5 w-5 text-white"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight drop-shadow-lg",children:"Premium Membership"})]})]})})]}),i.jsx("div",{className:"relative z-10 px-4 sm:px-6 lg:px-8 py-8 max-w-6xl mx-auto",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center lg:text-left",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-peach-600 via-coral-600 to-blush-600 bg-clip-text text-transparent mb-4",children:"Unlock Premium Features ✨"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"Experience AjnabiCam like never before with our premium membership"})]}),i.jsx("div",{className:"grid gap-4",children:c.map((h,f)=>i.jsx(J,{className:"bg-white/80 backdrop-blur-sm border-2 border-peach-200 hover:border-coral-300 transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-peach-100 to-coral-100 p-3 rounded-full shadow-md",children:h.icon&&i.jsx(h.icon,{className:`h-6 w-6 ${h.color}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:h.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:h.description})]}),i.jsx(Xs,{className:"h-5 w-5 text-green-500"})]})})},f))}),i.jsx(J,{className:"bg-gradient-to-r from-cream-100 to-peach-100 border-2 border-peach-300 shadow-lg",children:i.jsxs(ce,{className:"p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Re,{className:"h-5 w-5 text-peach-600"}),i.jsx("span",{className:"text-peach-800 font-bold",children:"Join 2,847+ Premium Users"})]}),i.jsx("p",{className:"text-peach-700 text-sm",children:"💕 92% say Premium changed their chat experience completely!"})]})})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(J,{className:"bg-white/90 backdrop-blur-sm border-2 border-peach-200 shadow-2xl sticky top-8",children:[i.jsxs(Ft,{className:"text-center pb-4",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-peach-400 via-coral-500 to-blush-400 rounded-2xl relative overflow-hidden shadow-2xl border-3 border-peach-300 flex items-center justify-center",children:[i.jsx(oe,{className:"h-10 w-10 text-white drop-shadow-lg"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-black/10 rounded-2xl"})]})}),i.jsx(Vt,{className:"text-2xl font-bold bg-gradient-to-r from-peach-600 via-coral-600 to-blush-600 bg-clip-text text-transparent",children:"Choose Your Plan"}),i.jsx(OS,{className:"text-gray-600",children:"Start your premium journey today"})]}),i.jsxs(ce,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:l.map(h=>i.jsxs("div",{className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl ${r===h.id?"border-peach-500 bg-gradient-to-br from-peach-50 to-coral-50 shadow-lg ring-2 ring-peach-200":"border-gray-300 bg-white hover:border-peach-300"} ${h.popular?"ring-2 ring-coral-400":""}`,onClick:()=>s(h.id),children:[h.popular&&i.jsx("span",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-peach-500 to-coral-500 text-white text-xs px-3 py-1 rounded-full font-bold animate-pulse",children:"Most Popular! 🔥"}),h.badge&&!h.popular&&i.jsx("span",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-gulmohar-500 to-henna-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:h.badge}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:h.name}),h.description&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.description}),h.savings&&i.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:h.savings})]}),i.jsxs("div",{className:"text-right",children:[h.originalPrice&&i.jsx("div",{className:"text-sm text-gray-500 line-through",children:h.originalPrice}),i.jsx("span",{className:"text-2xl font-bold text-peach-600",children:h.price}),i.jsx("span",{className:"text-gray-500 text-sm block",children:h.duration})]})]})]},h.id))}),i.jsxs(F,{onClick:a,className:"w-full bg-gradient-to-r from-peach-500 via-coral-500 to-blush-500 hover:from-peach-600 hover:via-coral-600 hover:to-blush-600 text-white font-bold py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 text-lg",children:[i.jsx(oe,{className:"h-5 w-5 mr-2"}),"🚀 Get Premium Now - ",(d=l.find(h=>h.id===r))==null?void 0:d.price]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["💳 Pay with ",i.jsx("span",{className:"font-semibold text-peach-700",children:"UPI, Cards, Wallets"})," or Netbanking"]}),i.jsx("p",{className:"text-xs text-gray-500",children:"🔒 Secure payment • Cancel anytime • 💯 30-day money-back guarantee"})]})]})]})})]})})]})]})}function gz(){const t=Ge();return i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[i.jsx(F,{onClick:()=>t(-1),variant:"ghost",size:"sm",className:"p-2",children:i.jsx(Sn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Privacy Policy"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(bn,{className:"h-5 w-5 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Introduction"})]}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:'AjnabiCam ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our video chat application.'})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Fu,{className:"h-5 w-5 text-green-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Information We Collect"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Account Information"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsx("li",{children:"Profile information (username, age, gender, bio)"}),i.jsx("li",{children:"Profile pictures you upload"}),i.jsx("li",{children:"Preferences and settings"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Usage Data"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsx("li",{children:"Chat sessions and connection logs"}),i.jsx("li",{children:"Feature usage and interactions"}),i.jsx("li",{children:"Device information and IP address"}),i.jsx("li",{children:"App performance and error logs"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Media Content"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsx("li",{children:"Video and audio streams (not recorded or stored)"}),i.jsx("li",{children:"Photos shared during chats (temporarily stored)"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(N7,{className:"h-5 w-5 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"How We Use Your Information"})]}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[i.jsx("li",{children:"Provide and maintain our video chat service"}),i.jsx("li",{children:"Match you with other users based on preferences"}),i.jsx("li",{children:"Improve app performance and user experience"}),i.jsx("li",{children:"Ensure safety and prevent abuse"}),i.jsx("li",{children:"Process premium subscriptions and payments"}),i.jsx("li",{children:"Send notifications about your account or service updates"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(bn,{className:"h-5 w-5 text-red-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Data Storage & Security"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Video Calls:"})," All video and audio streams are peer-to-peer and not recorded or stored on our servers."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Chat Photos:"})," Images shared during chats are temporarily stored and automatically deleted after 24 hours."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Security:"})," We use industry-standard encryption and security measures to protect your data."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Data Location:"})," Your data is stored securely using Firebase services with appropriate security rules."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx(Hy,{className:"h-5 w-5 text-orange-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Cookies & Tracking"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsx("p",{children:"We use local storage and cookies to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Remember your preferences and settings"}),i.jsx("li",{children:"Keep you logged in"}),i.jsx("li",{children:"Analyze app usage patterns"}),i.jsx("li",{children:"Provide personalized experiences"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:i.jsx(qy,{className:"h-5 w-5 text-indigo-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Rights"})]}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access:"})," Request access to your personal data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Correction:"})," Update or correct your information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability:"})," Request a copy of your data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6 border border-yellow-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Age Requirements"}),i.jsx("p",{className:"text-gray-700",children:"You must be at least 13 years old to use AjnabiCam. Users under 18 should have parental consent. We do not knowingly collect personal information from children under 13."})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Third-Party Services"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"We use the following third-party services:"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Firebase:"})," Database, authentication, and file storage"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AdMob:"})," Advertising (for free users)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Analytics:"})," App usage and performance monitoring"]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Contact Us"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"If you have questions about this Privacy Policy or your data, contact us:"}),i.jsxs("div",{className:"space-y-1 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," privacy@ajnabicam.com"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," https://ajnabicam.com"]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Policy Updates"}),i.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy periodically. We will notify you of significant changes through the app or via email. Your continued use of AjnabiCam after changes become effective constitutes acceptance of the updated policy."})]})]})]})}function xz(){const t=Ge();return i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[i.jsx(F,{onClick:()=>t(-1),variant:"ghost",size:"sm",className:"p-2",children:i.jsx(Sn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Terms of Service"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Zh,{className:"h-5 w-5 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agreement to Terms"})]}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By accessing and using AjnabiCam, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Service Description"}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsx("p",{children:"AjnabiCam is a video chat platform that connects users randomly for conversations. Our service includes:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Random video and audio chat connections"}),i.jsx("li",{children:"User profiles and friend systems"}),i.jsx("li",{children:"Premium subscription features"}),i.jsx("li",{children:"In-app coin system and rewards"}),i.jsx("li",{children:"AI-powered chat assistance"})]})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6 border border-yellow-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx(Rc,{className:"h-5 w-5 text-yellow-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Eligibility & Age Requirements"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Minimum Age:"})," You must be at least 13 years old to use AjnabiCam."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Parental Consent:"})," Users under 18 must have parental or guardian consent."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Verification:"})," We reserve the right to verify age and may request identification."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Prohibited Users:"})," Individuals banned from similar platforms or with history of abuse are prohibited."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(mu,{className:"h-5 w-5 text-red-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Conduct & Prohibited Activities"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Prohibited Content"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsx("li",{children:"Nudity, sexual content, or adult material"}),i.jsx("li",{children:"Harassment, bullying, or threatening behavior"}),i.jsx("li",{children:"Hate speech, discrimination, or offensive content"}),i.jsx("li",{children:"Violence, self-harm, or dangerous activities"}),i.jsx("li",{children:"Spam, scams, or fraudulent activities"}),i.jsx("li",{children:"Copyright infringement or unauthorized content"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Prohibited Actions"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[i.jsx("li",{children:"Recording or saving video calls without consent"}),i.jsx("li",{children:"Sharing personal information of other users"}),i.jsx("li",{children:"Creating multiple accounts or fake profiles"}),i.jsx("li",{children:"Attempting to hack or disrupt the service"}),i.jsx("li",{children:"Using bots, scripts, or automated tools"}),i.jsx("li",{children:"Commercial activities or advertisements"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(bn,{className:"h-5 w-5 text-green-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Privacy & Safety"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"No Recording:"})," Video and audio calls are not recorded or stored by AjnabiCam."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Report System:"})," Users can report inappropriate behavior or content."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Blocking:"})," Users can block others to prevent future connections."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Moderation:"})," We employ automated and human moderation systems."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Safety Tips:"})," Never share personal information with strangers."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(oe,{className:"h-5 w-5 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Premium Services & Payments"})]}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Subscription Plans:"})," We offer various premium subscription tiers with enhanced features."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Billing:"})," Subscriptions are billed according to the plan you select."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cancellation:"})," You may cancel your subscription at any time through your account settings."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Refunds:"})," Refunds are handled according to platform policies (App Store/Google Play)."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Coins System:"})," Virtual coins can be earned or purchased for premium features."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Intellectual Property"}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Our Content:"})," All AjnabiCam branding, logos, and app features are our intellectual property."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"User Content:"})," You retain ownership of content you create but grant us license to use it for service operation."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Copyright:"})," We respect intellectual property rights and will remove infringing content when notified."]})]})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border border-red-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Account Termination"}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Violations:"})," Accounts may be suspended or terminated for violating these terms."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Immediate Termination:"})," Serious violations may result in immediate permanent bans."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Data Deletion:"})," Terminated accounts will have their data deleted according to our privacy policy."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Appeal Process:"})," Users may appeal account actions through our support system."]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Disclaimers & Limitations"}),i.jsxs("div",{className:"space-y-3 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Service Availability:"})," We strive for 99.9% uptime but cannot guarantee uninterrupted service."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"User Interactions:"})," We are not responsible for user behavior or interactions outside our platform."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Third-Party Content:"})," Links or references to external content are not our responsibility."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Limitation of Liability:"})," Our liability is limited to the maximum extent permitted by law."]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Changes to Terms"}),i.jsx("p",{className:"text-gray-700",children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes through the app or email. Continued use after changes constitutes acceptance of new terms."})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Governing Law"}),i.jsx("p",{className:"text-gray-700",children:"These terms are governed by applicable laws. Any disputes will be resolved through binding arbitration in accordance with platform policies."})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Contact Information"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Questions about these Terms of Service? Contact us:"}),i.jsxs("div",{className:"space-y-1 text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," legal@ajnabicam.com"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Support:"})," support@ajnabicam.com"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Website:"})," https://ajnabicam.com"]})]})]})]})]})}function yz(){const t=Ge(),[e,n]=y.useState("reports"),[r,s]=y.useState([]),[a,o]=y.useState([]),[l,c]=y.useState(!1),[d,h]=y.useState(""),[f,p]=y.useState("all"),g=()=>localStorage.getItem("admin-access")==="true"?!0:(t("/"),!1);y.useEffect(()=>{g()&&(w(),j())},[]);const w=async()=>{c(!0);try{const v=Ye(ae,"reports"),k=sn(v,Sa("createdAt","desc"),uu(50)),D=(await Tn(k)).docs.map(O=>({id:O.id,...O.data()}));s(D)}catch(v){console.error("Error loading reports:",v)}finally{c(!1)}},j=async()=>{try{const v=Ye(ae,"users"),k=sn(v,Le("reportCount",">",0),Sa("reportCount","desc"),uu(50)),D=(await Tn(k)).docs.map(O=>({...O.data()}));o(D)}catch(v){console.error("Error loading users:",v)}},T=async(v,k,R)=>{try{const D=qe(ae,"reports",v);if(await it(D,{status:k==="approve"?"resolved":"dismissed",reviewedAt:Ee(),reviewedBy:"admin",action:R||"none"}),R==="block"){const O=r.find(A=>A.id===v);if(O){const A=qe(ae,"users",O.reportedUserId);await it(A,{isBlocked:!0,blockedAt:Ee(),blockedReason:O.reason})}}w(),j()}catch(D){console.error("Error updating report:",D)}},b=r.filter(v=>{const k=!d||v.reason.toLowerCase().includes(d.toLowerCase())||v.description.toLowerCase().includes(d.toLowerCase()),R=f==="all"||v.status===f;return k&&R});return g()?i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:[i.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[i.jsx(F,{onClick:()=>t(-1),variant:"ghost",size:"sm",className:"p-2",children:i.jsx(Sn,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(bn,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Content Moderation"})]})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200",children:[i.jsxs("button",{onClick:()=>n("reports"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${e==="reports"?"border-red-500 text-red-600":"border-transparent text-gray-500"}`,children:[i.jsx(Rc,{className:"h-4 w-4 inline mr-2"}),"Reports"]}),i.jsxs("button",{onClick:()=>n("users"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${e==="users"?"border-red-500 text-red-600":"border-transparent text-gray-500"}`,children:[i.jsx(Re,{className:"h-4 w-4 inline mr-2"}),"Users"]}),i.jsxs("button",{onClick:()=>n("analytics"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${e==="analytics"?"border-red-500 text-red-600":"border-transparent text-gray-500"}`,children:[i.jsx(Wa,{className:"h-4 w-4 inline mr-2"}),"Analytics"]})]})]}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e==="reports"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(FS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search reports...",value:d,onChange:v=>h(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),i.jsxs("select",{value:f,onChange:v=>p(v.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),i.jsx("div",{className:"space-y-4",children:l?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]}):b.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No reports found"})]}):b.map(v=>{var k,R,D;return i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("div",{className:"flex justify-between items-start mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.status==="pending"?"bg-yellow-100 text-yellow-800":v.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status}),i.jsx("span",{className:"text-sm text-gray-500",children:((D=(R=(k=v.createdAt)==null?void 0:k.toDate)==null?void 0:R.call(k))==null?void 0:D.toLocaleDateString())||"Unknown date"})]}),i.jsxs("h3",{className:"font-semibold text-gray-900 mb-1",children:["Reason: ",v.reason]}),i.jsx("p",{className:"text-gray-600 text-sm mb-2",children:v.description}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Reported User: ",v.reportedUserId," | Reporter: ",v.reporterUserId]})]})}),v.status==="pending"&&i.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-100",children:[i.jsxs(F,{onClick:()=>T(v.id,"approve","block"),className:"bg-red-600 hover:bg-red-700 text-white text-sm px-3 py-1",children:[i.jsx(mu,{className:"h-4 w-4 mr-1"}),"Block User"]}),i.jsxs(F,{onClick:()=>T(v.id,"approve","warn"),className:"bg-yellow-600 hover:bg-yellow-700 text-white text-sm px-3 py-1",children:[i.jsx(Rc,{className:"h-4 w-4 mr-1"}),"Warn User"]}),i.jsxs(F,{onClick:()=>T(v.id,"dismiss"),variant:"outline",className:"text-sm px-3 py-1",children:[i.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Dismiss"]})]})]},v.id)})})]}),e==="users"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Reported Users"}),i.jsxs("div",{className:"space-y-4",children:[a.map(v=>{var k,R,D;return i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${v.isBlocked?"bg-red-500":"bg-green-500"}`}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:v.username}),i.jsxs("p",{className:"text-sm text-gray-600",children:[v.reportCount," reports | Joined: ",((D=(R=(k=v.joinDate)==null?void 0:k.toDate)==null?void 0:R.call(k))==null?void 0:D.toLocaleDateString())||"Unknown"]})]})]})}),i.jsx("div",{className:"flex gap-2",children:v.isBlocked?i.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-lg text-sm font-medium",children:"Blocked"}):i.jsx(F,{onClick:()=>{},className:"bg-red-600 hover:bg-red-700 text-white text-sm px-3 py-1",children:"Block"})})]},v.userId)}),a.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Re,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No reported users found"})]})]})]})}),e==="analytics"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx(Ha,{className:"h-5 w-5 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Reports"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.filter(v=>v.status==="pending").length})]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(mu,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Blocked Users"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(v=>v.isBlocked).length})]})]})}),i.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Xs,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Resolved Reports"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(v=>v.status==="resolved").length})]})]})})]})})]})]}):null}const vz=()=>{const t=Ge(),e=Tr(),{coins:n=0,addCoins:r,watchAd:s,adsWatchedToday:a=0,maxAdsPerDay:o=5}=e||{},l=y.useRef(null),[c,d]=y.useState(!1),[h,f]=y.useState(null),[p,g]=y.useState(!1),[w,j]=y.useState(!1),[T,b]=y.useState(0),[v,k]=y.useState([]),R=3,D=[{coins:10,color:"from-peach-400 to-peach-600",bgColor:"#FB923C",label:"10 Coins",probability:50,icon:"💎",pattern:"dots"},{coins:0,color:"from-cream-400 to-cream-600",bgColor:"#F59E0B",label:"Try Again",probability:25,icon:"🔄",pattern:"stripes"},{coins:20,color:"from-coral-400 to-coral-600",bgColor:"#F97316",label:"20 Coins",probability:15,icon:"⭐",pattern:"zigzag"},{coins:0,color:"from-blush-400 to-blush-600",bgColor:"#EC4899",label:"Better Luck",probability:7,icon:"🍀",pattern:"waves"},{coins:50,color:"from-rose-400 to-rose-600",bgColor:"#F43F5E",label:"JACKPOT!",probability:3,icon:"🎰",pattern:"stars"}];y.useEffect(()=>{const _=new Date().toDateString(),P=localStorage.getItem("lastSpinDate"),S=parseInt(localStorage.getItem("spinsToday")||"0");P===_?(b(S),j(S>=R)):(b(0),j(!1),localStorage.setItem("lastSpinDate",_),localStorage.setItem("spinsToday","0"))},[]),y.useEffect(()=>{if(c){const _=setInterval(()=>{k(P=>[...P,{id:Date.now()+Math.random(),x:Math.random()*100,y:Math.random()*100}].slice(-20))},200);return()=>clearInterval(_)}else k([])},[c]);const O=()=>{const _=Math.random()*100;let P=0;for(const S of D)if(P+=S.probability,_<=P)return S.coins===0?{coins:0,message:"Better luck next time! 🍀",requiresAd:!1,color:S.bgColor,icon:S.icon}:{coins:S.coins,message:S.coins===50?`🎉 JACKPOT! You won ${S.coins} coins! 🎉`:`Congratulations! You won ${S.coins} coins! 🎉`,requiresAd:!0,color:S.bgColor,icon:S.icon};return{coins:0,message:"Better luck next time! 🍀",requiresAd:!1,color:"#F59E0B",icon:"🔄"}},A=()=>{if(c||w)return;d(!0),g(!1),f(null);const _=1440+Math.random()*1440;l.current&&(l.current.style.transition="transform 4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",l.current.style.transform=`rotate(${_}deg)`),setTimeout(()=>{const P=O();f(P),g(!0),d(!1);const S=T+1;b(S),localStorage.setItem("spinsToday",S.toString()),S>=R&&j(!0)},4e3)},N=async()=>{if(h){if(h.requiresAd&&h.coins>0){if(a>=o){alert("You've reached your daily ad limit. Come back tomorrow!");return}try{await s(),await r(h.coins),alert(`🎉 Amazing! You watched an ad and earned ${h.coins} coins!`),g(!1),f(null)}catch{alert("Failed to watch ad. Please try again.")}}else if(h.coins===0)if(confirm("Watch an ad and win 10 coins instantly?")){if(a>=o){alert("You've reached your daily ad limit. Come back tomorrow!");return}try{await s(),await r(10),alert("🎉 You watched an ad and earned 10 coins!"),g(!1),f(null)}catch{alert("Failed to watch ad. Please try again.")}}else g(!1),f(null)}},I=()=>{b(0),j(!1),localStorage.setItem("spinsToday","0")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 w-full",children:[i.jsx("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-peach-400 via-coral-400 to-blush-500 shadow-lg",children:i.jsxs("div",{className:"flex items-center justify-between px-4 py-4 max-w-sm mx-auto",children:[i.jsx("button",{onClick:()=>{console.log("Back button clicked - navigating to home"),t("/")},className:"flex items-center justify-center w-12 h-12 text-white hover:text-peach-100 transition-all duration-300 bg-white/30 hover:bg-white/50 backdrop-blur-sm rounded-full touch-manipulation active:scale-95 border-2 border-white/40 shadow-lg",title:"Go back",children:i.jsx(Sn,{className:"h-7 w-7 text-white drop-shadow-lg",strokeWidth:3})}),i.jsx("h1",{className:"text-white font-bold text-xl drop-shadow-lg",children:"Spin & Win"}),i.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-coral-400 to-peach-500 rounded-full px-4 py-2 shadow-lg border border-white/30",children:[i.jsx(Ti,{className:"h-5 w-5 text-white"}),i.jsx("span",{className:"font-bold text-white",children:n})]})]})}),i.jsxs("div",{className:"max-w-sm mx-auto relative min-h-screen",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-peach-200/20 to-coral-200/20 rounded-full animate-pulse"}),i.jsx("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-br from-blush-200/20 to-cream-200/20 rounded-full animate-pulse",style:{animationDelay:"1s"}}),v.map(_=>i.jsx("div",{className:"absolute w-2 h-2 bg-coral-400 rounded-full opacity-60 animate-ping",style:{left:`${_.x}%`,top:`${_.y}%`,animationDuration:"2s"}},_.id))]}),i.jsxs("div",{className:"relative z-10 p-4",children:[i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-6xl animate-bounce",children:"🎰"}),i.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-ping text-coral-400",children:"✨"}),i.jsx("div",{className:"absolute -bottom-2 -left-2 text-xl animate-ping text-peach-400",style:{animationDelay:"0.5s"},children:"⭐"})]})}),i.jsx("h1",{className:"text-3xl font-extrabold bg-gradient-to-r from-coral-600 to-peach-600 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Spin & Win Fortune!"}),i.jsx("p",{className:"text-blush-600 font-medium text-lg drop-shadow-md",children:"🎲 Test your luck and win rewards! 🎲"}),i.jsx("div",{className:"mt-6 bg-white/80 backdrop-blur-lg rounded-2xl px-6 py-4 border border-peach-200 shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[i.jsx("div",{className:"bg-gradient-to-r from-coral-400 to-peach-400 p-2 rounded-full",children:i.jsx(Wa,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-coral-700 font-bold text-lg",children:["Daily Spins: ",T,"/",R]}),i.jsxs("div",{className:"text-blush-600 text-sm font-medium",children:[R-T," spins remaining"]})]})]})})]}),i.jsx("div",{className:"flex flex-col justify-center items-center py-8",children:i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"absolute -inset-8 bg-gradient-to-r from-coral-400 via-peach-400 to-blush-400 rounded-full opacity-30 blur-2xl animate-pulse"}),i.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-peach-500 via-coral-500 to-rose-500 rounded-full opacity-40 blur-xl animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-coral-600 via-blush-600 to-peach-600 rounded-full opacity-50 blur-lg animate-pulse",style:{animationDelay:"1s"}}),i.jsxs("div",{ref:l,className:"relative w-72 h-72 rounded-full shadow-2xl overflow-hidden transform-gpu",style:{background:`conic-gradient(
                    from 0deg,
                    #FB923C 0deg 72deg,
                    #F59E0B 72deg 144deg,
                    #F97316 144deg 216deg,
                    #EC4899 216deg 288deg,
                    #F43F5E 288deg 360deg
                  )`,boxShadow:`
                    0 0 0 8px rgba(255, 255, 255, 0.8),
                    0 0 0 12px rgba(251, 146, 60, 0.3),
                    0 25px 50px -12px rgba(0, 0, 0, 0.25),
                    inset 0 2px 4px 0 rgba(255, 255, 255, 0.3),
                    inset 0 -2px 4px 0 rgba(0, 0, 0, 0.1)
                  `,transform:"perspective(1000px) rotateX(5deg)"},children:[i.jsx("div",{className:"absolute inset-2 rounded-full",style:{boxShadow:`
                      inset 0 0 20px rgba(0, 0, 0, 0.2),
                      inset 0 4px 8px rgba(255, 255, 255, 0.3),
                      inset 0 -4px 8px rgba(0, 0, 0, 0.2)
                    `}}),[0,72,144,216,288].map((_,P)=>i.jsx("div",{className:"absolute w-full h-1 bg-gradient-to-r from-transparent via-white/70 to-transparent origin-left top-1/2",style:{transform:`rotate(${_}deg)`,transformOrigin:"50% 50%",boxShadow:"0 0 4px rgba(255, 255, 255, 0.5)"}},P)),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"bg-gradient-to-br from-white via-cream-50 to-peach-50 rounded-full w-20 h-20 flex items-center justify-center shadow-2xl border-4 border-gradient-to-r from-coral-400 to-peach-400",style:{boxShadow:`
                        0 8px 16px rgba(0, 0, 0, 0.2),
                        inset 0 2px 4px rgba(255, 255, 255, 0.6),
                        inset 0 -2px 4px rgba(0, 0, 0, 0.1),
                        0 0 0 3px rgba(251, 146, 60, 0.3)
                      `,transform:"translateZ(10px)"},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold bg-gradient-to-r from-coral-600 to-peach-600 bg-clip-text text-transparent animate-pulse",children:"SPIN"}),i.jsx("div",{className:"text-xs font-bold text-blush-600",children:"WIN!"})]})})}),i.jsxs("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 text-center",children:[i.jsx("div",{className:"text-2xl drop-shadow-lg",children:"💎"}),i.jsx("div",{className:"text-white font-bold text-sm drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"10"})]}),i.jsxs("div",{className:"absolute right-6 top-1/2 transform -translate-y-1/2 text-center",children:[i.jsx("div",{className:"text-2xl drop-shadow-lg",children:"🔄"}),i.jsx("div",{className:"text-white font-bold text-sm drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"Try"})]}),i.jsxs("div",{className:"absolute bottom-10 right-10 text-center",children:[i.jsx("div",{className:"text-2xl drop-shadow-lg",children:"⭐"}),i.jsx("div",{className:"text-white font-bold text-sm drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"20"})]}),i.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 text-center",children:[i.jsx("div",{className:"text-2xl drop-shadow-lg",children:"🍀"}),i.jsx("div",{className:"text-white font-bold text-sm drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"Luck"})]}),i.jsxs("div",{className:"absolute bottom-10 left-10 text-center",children:[i.jsx("div",{className:"text-3xl animate-pulse drop-shadow-lg",children:"🎰"}),i.jsx("div",{className:"text-white font-bold text-sm drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"50!"})]})]}),i.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 z-20",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-0 h-0 border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-gradient-to-b from-coral-400 to-peach-500 drop-shadow-2xl",style:{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3)) drop-shadow(0 2px 4px rgba(251,146,60,0.5))"}}),i.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-3 h-3 bg-gradient-to-br from-coral-400 to-peach-500 rounded-full shadow-lg",style:{boxShadow:"0 2px 4px rgba(0,0,0,0.3), inset 0 1px 2px rgba(255,255,255,0.5)"}})]})})]})}),i.jsxs("div",{className:"pb-8",children:[w?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white/80 backdrop-blur-lg text-coral-700 font-bold py-6 px-8 rounded-2xl shadow-lg border border-peach-200 text-center",children:[i.jsx("div",{className:"text-xl mb-2",children:"🎯 Daily Limit Reached!"}),i.jsx("div",{className:"text-sm opacity-90 text-blush-600",children:"Come back tomorrow for more spins!"})]}),i.jsx("button",{onClick:I,className:"w-full text-sm text-coral-600 underline hover:text-coral-700 transition-colors",children:"🔧 Reset for testing"})]}):i.jsx(F,{onClick:A,disabled:c,className:`w-full py-6 rounded-2xl font-extrabold text-xl shadow-2xl transition-all duration-300 transform border-4 touch-manipulation ${c?"bg-gray-400 cursor-not-allowed border-gray-500 scale-95":"bg-gradient-to-r from-coral-500 via-peach-500 to-blush-500 hover:from-coral-600 hover:via-peach-600 hover:to-blush-600 hover:shadow-3xl hover:scale-105 border-white active:scale-95 text-white"}`,children:c?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(Wy,{className:"h-7 w-7 animate-spin"}),i.jsx("span",{children:"🌟 Spinning Magic... 🌟"})]}):i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(zn,{className:"h-7 w-7"}),i.jsx("span",{children:"🚀 SPIN THE WHEEL! 🚀"})]})}),i.jsxs("div",{className:"text-center mt-6 bg-white/60 backdrop-blur-lg rounded-2xl p-4 border border-peach-200 shadow-lg",children:[i.jsx("div",{className:"text-coral-700 font-bold text-lg mb-2",children:"🎪 Every spin is a chance to win! 🎪"}),i.jsx("div",{className:"text-blush-600 text-sm",children:"Watch ads to claim your rewards! 📺✨"})]})]})]})]}),p&&h&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-6",children:i.jsxs("div",{className:"relative w-full max-w-sm",children:[h.coins>0&&i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((_,P)=>i.jsx("div",{className:"absolute w-3 h-3 bg-coral-400 animate-bounce opacity-80 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`}},P))}),i.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl border-4 border-white shadow-3xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-10 animate-pulse",style:{backgroundColor:h.color}}),i.jsxs("div",{className:"text-center relative z-10 p-8",children:[i.jsx("div",{className:"flex justify-center mb-6",children:h.coins>0?i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-8xl animate-bounce",children:h.icon}),i.jsx("div",{className:"absolute -top-4 -right-4 text-4xl animate-ping",children:"🎉"}),i.jsx("div",{className:"absolute -bottom-4 -left-4 text-3xl animate-ping",style:{animationDelay:"0.5s"},children:"✨"})]}):i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-6xl",children:h.icon}),i.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-pulse",children:"💫"})]})}),i.jsx("h2",{className:"text-2xl font-extrabold mb-4",children:h.coins>0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-3xl bg-gradient-to-r from-coral-400 to-peach-500 bg-clip-text text-transparent",children:"🎊 WINNER! 🎊"}),i.jsxs("div",{className:"text-lg text-gray-700",children:["You won"," ",i.jsxs("span",{className:"text-coral-600 font-extrabold",children:[h.coins," coins!"]})]})]}):i.jsx("div",{className:"text-gray-600",children:"Better Luck Next Time! 🍀"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-8",children:h.message}),i.jsx("div",{className:"space-y-4",children:h.requiresAd&&h.coins>0?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-peach-50 to-coral-50 border-2 border-peach-200 rounded-2xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(zn,{className:"h-6 w-6 text-coral-600"}),i.jsxs("p",{className:"text-coral-800 font-bold",children:["🎬 Watch a quick ad to claim your ",h.coins," ","coins!"]})]}),i.jsx("p",{className:"text-coral-600 text-sm",children:"Supporting ads keeps the app free! 💙"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(F,{onClick:N,className:"w-full bg-gradient-to-r from-coral-500 to-peach-600 hover:from-coral-600 hover:to-peach-700 py-4 font-bold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 rounded-2xl text-white",children:[i.jsx(zn,{className:"h-5 w-5 mr-2"}),"Watch Ad & Claim! 🎉"]}),i.jsx(F,{onClick:()=>g(!1),variant:"outline",className:"w-full py-4 font-bold border-2 hover:bg-gray-50 rounded-2xl",children:"Maybe Later"})]})]}):h.coins===0?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-cream-50 to-peach-50 border-2 border-cream-200 rounded-2xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(qa,{className:"h-6 w-6 text-peach-600"}),i.jsx("p",{className:"text-peach-800 font-bold",children:"🎁 Don't give up! Watch an ad and get 10 coins!"})]}),i.jsx("p",{className:"text-peach-600 text-sm",children:"Turn your luck around! 🌟"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(F,{onClick:N,className:"w-full bg-gradient-to-r from-peach-500 to-coral-500 hover:from-peach-600 hover:to-coral-600 py-4 font-bold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 rounded-2xl text-white",children:[i.jsx(zn,{className:"h-5 w-5 mr-2"}),"Watch Ad & Get 10 Coins! 🪙"]}),i.jsx(F,{onClick:()=>g(!1),variant:"outline",className:"w-full py-4 font-bold border-2 hover:bg-gray-50 rounded-2xl",children:"Close"})]})]}):i.jsx(F,{onClick:()=>g(!1),className:"w-full py-4 font-bold text-lg bg-gradient-to-r from-coral-500 to-peach-500 hover:from-coral-600 hover:to-peach-600 rounded-2xl text-white",children:"Try Again Tomorrow! 🌅"})})]})]})]})})]})},wz=()=>{const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,a]=y.useState(!1);y.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=window.navigator.standalone===!0,h=document.referrer.includes("android-app://");if(c||d||h){a(!0);return}const f=g=>{g.preventDefault(),e(g),setTimeout(()=>{r(!0)},3e3)},p=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]);const o=async()=>{if(t)try{await t.prompt();const{outcome:c}=await t.userChoice;console.log(c==="accepted"?"User accepted the install prompt":"User dismissed the install prompt")}catch(c){console.error("Error showing install prompt:",c)}finally{e(null),r(!1)}},l=()=>{r(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return s||!n||sessionStorage.getItem("pwa-prompt-dismissed")?null:i.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-pink-100 p-4 transform animate-slide-up",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(u0,{className:"w-6 h-6 text-white"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Install AjnabiCam"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 leading-relaxed",children:"Get the full app experience! Install AjnabiCam on your device for faster access and better performance."}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsxs(F,{onClick:o,size:"sm",className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white text-xs px-3 py-1.5 h-auto",children:[i.jsx(LS,{className:"w-3 h-3 mr-1"}),"Install"]}),i.jsx(F,{onClick:l,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 text-xs px-2 py-1.5 h-auto",children:i.jsx(Wn,{className:"w-3 h-3"})})]})]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("div",{className:"text-pink-500 font-semibold",children:"📱"}),i.jsx("div",{children:"Native Feel"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("div",{className:"text-pink-500 font-semibold",children:"⚡"}),i.jsx("div",{children:"Faster"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("div",{className:"text-pink-500 font-semibold",children:"📳"}),i.jsx("div",{children:"Notifications"})]})]})})]})})};function bz({isOpen:t,onClose:e,onAllAdsWatched:n,reason:r,partnerName:s}){const{pendingAds:a,setPendingAds:o}=Tr(),[l,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(0),[g,w]=y.useState(0),j=a||2,T=j-l;y.useEffect(()=>{if(d&&f>0){const O=setTimeout(()=>{p(f-1)},1e3);return()=>clearTimeout(O)}else d&&f===0&&v()},[d,f]);const b=()=>{h(!0),p(30),w(l+1)},v=()=>{h(!1),p(0);const O=l+1;c(O),O>=j&&(o(0),setTimeout(()=>{n()},1500))},k=()=>{alert("❌ You must watch all required ads to continue using AjnabiCam. This ensures our app remains free!")};if(!t)return null;const D=(()=>{switch(r){case"friendship":return{title:"Complete Your Friendship Request",description:`You chose to be friends with ${s} but don't have enough coins. Watch ${j} ads to complete your friendship request!`,icon:"💕"};case"startup":return{title:"Welcome Back!",description:`You have ${j} pending ads from your previous session. Please watch them to continue using AjnabiCam.`,icon:"🎬"};default:return{title:"Watch Required Ads",description:`Please watch ${j} ads to continue.`,icon:"📺"}}})();return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(J,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 p-6 text-white relative",children:[i.jsx("div",{className:"absolute inset-0 bg-white/10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-2xl",children:D.icon}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:D.title}),i.jsx("p",{className:"text-white/80 text-sm",children:"Required to continue"})]})]}),r!=="startup"&&e&&i.jsx("button",{onClick:k,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:i.jsx(Wn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"bg-white/20 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-white h-full transition-all duration-500 ease-out",style:{width:`${l/j*100}%`}})}),i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsxs("span",{children:[l," of ",j," ads watched"]}),i.jsxs("span",{children:[T," remaining"]})]})]})]}),i.jsx(ce,{className:"p-6",children:l>=j?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 mx-auto bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(Lr,{className:"w-10 h-10 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-green-700 mb-2",children:"🎉 All Ads Watched!"}),i.jsx("p",{className:"text-green-600",children:r==="friendship"?`Your friendship with ${s} is now confirmed! You can continue chatting.`:"Thank you for watching the ads! You can now continue using AjnabiCam."})]})]}):d?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 mx-auto bg-red-500 rounded-full flex items-center justify-center",children:i.jsx(zn,{className:"w-10 h-10 text-white fill-current"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:["Watching Ad ",g," of ",j]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[i.jsx(Ha,{className:"w-5 h-5"}),i.jsxs("span",{className:"text-lg font-mono font-bold",children:[f,"s"]})]}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please wait for the ad to complete..."})]}),i.jsx("div",{className:"bg-gray-100 rounded-lg p-6 border-2 border-dashed border-gray-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:"🛍️"}),i.jsx("p",{className:"font-bold text-gray-700",children:"Sample Advertisement"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Amazing deals await you!"}),i.jsx("div",{className:"mt-3 bg-blue-500 text-white px-4 py-2 rounded-lg inline-block",children:"Learn More"})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-700 text-base mb-3",children:D.description}),r==="startup"&&i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Rc,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-orange-700 font-medium text-sm",children:"You must watch these ads to continue using the app"}),i.jsx("p",{className:"text-orange-600 text-xs mt-1",children:"Closing the app won't skip this requirement"})]})]})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(qa,{className:"w-6 h-6 text-blue-500"}),i.jsx("span",{className:"font-semibold text-gray-800",children:"Ad Benefits"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Keeps AjnabiCam completely free"}),i.jsx("li",{children:"• Supports our amazing community"}),i.jsx("li",{children:"• Each ad is only 30 seconds long"}),r==="friendship"&&i.jsxs("li",{children:["• Unlocks your friendship with ",s]})]})]}),i.jsxs(F,{onClick:b,className:"w-full py-4 bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold text-lg",children:[i.jsx(zn,{className:"w-5 h-5 mr-2 fill-current"}),"Watch Ad ",l+1," of ",j]}),T>1&&i.jsxs("p",{className:"text-center text-sm text-gray-500",children:[T-1," more ad",T-1!==1?"s":""," after this one"]})]})})]})})}function _z({children:t}){const{pendingAds:e}=Tr(),{isPremium:n}=Nt(),[r,s]=y.useState(!1),[a,o]=y.useState(!1);y.useEffect(()=>{if(!a){o(!0);const c=localStorage.getItem("ajnabicam_premium_plan");n&&c==="ultra-quarterly"&&setTimeout(()=>{alert("🎭 Welcome ULTRA+ user! You can now apply face filters to your partner's video during calls. Look for the filter button in video chat!")},2e3),e>0&&s(!0)}},[e,a,n]);const l=()=>{s(!1)};return i.jsxs(i.Fragment,{children:[t,i.jsx(bz,{isOpen:r,onAllAdsWatched:l,reason:"startup"})]})}function jz({children:t}){const{isUltraPremium:e}=Nt(),[n,r]=y.useState([]),[s,a]=y.useState(!1);return y.useEffect(()=>{if(e()){r([{id:"1",x:10,y:20,icon:Si,color:"text-purple-400/30",size:16,speed:1},{id:"2",x:80,y:15,icon:Ci,color:"text-pink-400/30",size:12,speed:1.2},{id:"3",x:15,y:70,icon:Kr,color:"text-purple-300/30",size:14,speed:.8},{id:"4",x:85,y:80,icon:oe,color:"text-yellow-400/30",size:18,speed:1.1},{id:"5",x:50,y:5,icon:gt,color:"text-rose-400/30",size:10,speed:1.3},{id:"6",x:30,y:90,icon:$i,color:"text-blue-400/30",size:12,speed:.9}]);const l=localStorage.getItem("ultra_last_welcome"),c=Date.now();(!l||c-parseInt(l)>24*60*60*1e3)&&(a(!0),localStorage.setItem("ultra_last_welcome",c.toString())),document.body.classList.add("ultra-premium-app");const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content","#a855f7")}else{document.body.classList.remove("ultra-premium-app");const o=document.querySelector('meta[name="theme-color"]');o&&o.setAttribute("content","#e11d48")}return()=>{document.body.classList.remove("ultra-premium-app")}},[e]),e()?i.jsxs("div",{className:"ultra-app-container relative min-h-screen bg-gray-50 safe-area-inset flex flex-col",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 h-6 bg-gradient-to-r from-rose-500 to-pink-500 z-[100] flex items-center justify-between px-4 text-white text-xs safe-area-top",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),i.jsx("span",{className:"font-semibold tracking-wide",children:"ULTRA+"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-white/90 text-xs font-medium",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),i.jsx(l0,{className:"w-3.5 h-3.5"}),i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1 h-2.5 bg-white/60 rounded-full"}),i.jsx("div",{className:"w-1 h-2.5 bg-white/80 rounded-full"}),i.jsx("div",{className:"w-1 h-2.5 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-2.5 bg-white rounded-full"})]}),i.jsx("div",{className:"w-5 h-2.5 bg-white/80 rounded-sm relative",children:i.jsx("div",{className:"absolute top-0.5 right-0.5 bottom-0.5 w-1/2 bg-green-400 rounded-sm"})})]})]}),i.jsx("div",{className:"fixed top-6 left-0 right-0 z-50 bg-rose-50/95 backdrop-blur-lg border-b border-rose-200/50 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-pink-500 rounded-lg flex items-center justify-center",children:i.jsx(Si,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-rose-900",children:"AjnabiCam"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs font-medium text-rose-600",children:"ULTRA+"}),i.jsx(oe,{className:"h-3 w-3 text-rose-600"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 bg-rose-100 rounded-lg hover:bg-rose-200 transition-colors",children:i.jsx(l0,{className:"h-5 w-5 text-rose-600"})}),i.jsx("button",{className:"p-2 bg-rose-100 rounded-lg hover:bg-rose-200 transition-colors",children:i.jsx(Ss,{className:"h-5 w-5 text-rose-600"})})]})]})}),i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-50/40 via-pink-50/30 to-rose-50/40"}),n.slice(0,3).map(o=>i.jsx("div",{className:`absolute animate-float-slow ${o.color} opacity-20`,style:{left:`${o.x}%`,top:`${o.y}%`,animationDuration:`${6+o.speed}s`,animationDelay:`${o.speed*1}s`},children:i.jsx(o.icon,{size:o.size*.8})},o.id))]}),i.jsx("div",{className:"flex-1 flex flex-col pt-20 pb-safe relative z-10",children:i.jsx("div",{className:"flex-1 bg-rose-50/30 overflow-y-auto",children:t})}),s&&i.jsx(Nz,{onClose:()=>a(!1)}),i.jsx(kz,{})]}):i.jsx(i.Fragment,{children:t})}function Nz({onClose:t}){return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl p-6 sm:p-8 max-w-sm sm:max-w-md text-center shadow-2xl border border-purple-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),i.jsx("div",{className:"absolute top-4 right-4 text-purple-200/30",children:i.jsx(Kr,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin"})}),i.jsx("div",{className:"absolute bottom-4 left-4 text-pink-200/30",children:i.jsx(Ci,{className:"h-4 w-4 sm:h-6 sm:w-6 animate-pulse"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:i.jsx(oe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Welcome to ULTRA+"}),i.jsx("p",{className:"text-purple-100 text-sm sm:text-base mb-6",children:"Experience AjnabiCam like never before with exclusive premium features and unlimited possibilities!"}),i.jsxs("div",{className:"space-y-2 mb-6 text-left",children:[i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsx($i,{className:"h-4 w-4 text-yellow-300"}),i.jsx("span",{className:"text-sm",children:"No ads, unlimited chat time"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsx(gt,{className:"h-4 w-4 text-pink-300"}),i.jsx("span",{className:"text-sm",children:"Premium reactions & face filters"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsx(Re,{className:"h-4 w-4 text-purple-300"}),i.jsx("span",{className:"text-sm",children:"Advanced friend features"})]})]}),i.jsx("button",{onClick:t,className:"w-full bg-white text-purple-600 font-bold py-3 rounded-xl hover:bg-purple-50 transition-colors duration-200",children:"Let's Begin! ✨"})]})]})})}function kz(){const[t,e]=y.useState(!1);return y.useEffect(()=>{const n=()=>{e(!0),setTimeout(()=>e(!1),800)};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}},[]),t?i.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/90 to-pink-900/90 backdrop-blur-sm z-[200] flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-purple-300 border-t-white rounded-full animate-spin mx-auto mb-4"}),i.jsx("div",{className:"text-white text-lg font-semibold",children:"ULTRA+ Loading..."}),i.jsx("div",{className:"text-purple-200 text-sm",children:"Preparing your premium experience"})]})}):null}function Ez(){const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[s,a]=y.useState({necessary:!0,analytics:!1,marketing:!1,preferences:!1});y.useEffect(()=>{const h=localStorage.getItem("cookie-consent");if(!h)setTimeout(()=>e(!0),2e3);else try{const f=JSON.parse(h);a(f)}catch(f){console.error("Error loading cookie preferences:",f)}},[]);const o=h=>{localStorage.setItem("cookie-consent",JSON.stringify(h)),localStorage.setItem("cookie-consent-date",new Date().toISOString()),h.analytics?console.log("Analytics enabled"):console.log("Analytics disabled"),e(!1),r(!1)},l=()=>{const h={necessary:!0,analytics:!0,marketing:!0,preferences:!0};a(h),o(h)},c=()=>{const h={necessary:!0,analytics:!1,marketing:!1,preferences:!1};a(h),o(h)},d=()=>{o(s)};return t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-2xl safe-area-bottom",children:i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx(Hy,{className:"h-5 w-5 text-orange-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"We use cookies to enhance your experience"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["We use cookies and similar technologies to provide our services, analyze usage, and personalize content.",i.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline ml-1",children:"Learn more about our cookies"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(F,{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2",children:"Accept All"}),i.jsx(F,{onClick:c,variant:"outline",className:"text-sm px-4 py-2",children:"Necessary Only"}),i.jsxs(F,{onClick:()=>r(!0),variant:"ghost",className:"text-sm px-4 py-2",children:[i.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Customize"]})]})]}),i.jsx("button",{onClick:()=>e(!1),className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600",children:i.jsx(Wn,{className:"h-5 w-5"})})]})})}),n&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Cookie Preferences"}),i.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-400 hover:text-gray-600",children:i.jsx(Wn,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("p",{className:"text-gray-600",children:"We use different types of cookies to provide and improve our services. You can choose which categories to allow."}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Necessary Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Essential for the website to function properly. These cannot be disabled."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xs,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-500",children:"Always Active"})]})]})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Analytics Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website to improve user experience."})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.analytics,onChange:h=>a({...s,analytics:h.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Marketing Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Used to track visitors across websites to display relevant advertisements."})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.marketing,onChange:h=>a({...s,marketing:h.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Preference Cookies"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Remember your preferences and settings to provide a personalized experience."})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.preferences,onChange:h=>a({...s,preferences:h.target.checked}),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),i.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F,{onClick:d,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Save Preferences"}),i.jsx(F,{onClick:l,variant:"outline",className:"flex-1",children:"Accept All"})]})})]})})]}):null}function Tz(){const t=Ge(),e=[{title:"Privacy Policy",icon:bn,path:"/privacy-policy",description:"How we protect your data"},{title:"Terms of Service",icon:Zh,path:"/terms-of-service",description:"Our terms and conditions"},{title:"Cookie Policy",icon:Hy,path:"/privacy-policy#cookies",description:"How we use cookies"}];return i.jsx("div",{className:"bg-gray-50 border-t border-gray-200 mt-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:e.map(n=>i.jsxs("button",{onClick:()=>t(n.path),className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(n.icon,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:n.title}),i.jsx("p",{className:"text-xs text-gray-600",children:n.description})]})]},n.path))}),i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx(qy,{className:"h-4 w-4 text-white"})}),i.jsx("span",{className:"font-bold text-gray-900",children:"AjnabiCam"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:["© ",new Date().getFullYear()," AjnabiCam. All rights reserved."]}),i.jsx("p",{children:"Safe, secure, and fun video chat experience."})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[i.jsxs("a",{href:"mailto:support@ajnabicam.com",className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[i.jsx(d7,{className:"h-3 w-3"}),"Support"]}),i.jsx("span",{children:"•"}),i.jsxs("a",{href:"mailto:legal@ajnabicam.com",className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[i.jsx(Zh,{className:"h-3 w-3"}),"Legal"]}),i.jsx("span",{children:"•"}),i.jsxs("a",{href:"mailto:privacy@ajnabicam.com",className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[i.jsx(bn,{className:"h-3 w-3"}),"Privacy"]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-yellow-800",children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Age Requirement:"})]}),i.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"You must be at least 13 years old to use AjnabiCam. Users under 18 require parental consent."})]}),i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-800",children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Safety First:"})]}),i.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Never share personal information with strangers. Report inappropriate behavior immediately."})]})]})]})})}class Sz{constructor(){se(this,"userId");se(this,"isInitialized",!1)}initialize(e){this.userId=e,this.setupGlobalErrorHandlers(),this.setupUnhandledRejectionHandler(),this.isInitialized=!0,console.log("✅ Error monitoring initialized")}setupGlobalErrorHandlers(){window.addEventListener("error",e=>{var n;this.reportError({message:e.message,stack:(n=e.error)==null?void 0:n.stack,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"medium",category:"javascript",metadata:{filename:e.filename,lineno:e.lineno,colno:e.colno},timestamp:Ee()})}),window.addEventListener("unhandledrejection",e=>{var n;this.reportError({message:`Unhandled Promise Rejection: ${e.reason}`,stack:(n=e.reason)==null?void 0:n.stack,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"high",category:"javascript",metadata:{type:"unhandledrejection",reason:e.reason},timestamp:Ee()})})}setupUnhandledRejectionHandler(){window.addEventListener("unhandledrejection",e=>{var n,r;console.error("Unhandled promise rejection:",e.reason),this.reportError({message:`Unhandled Promise Rejection: ${((n=e.reason)==null?void 0:n.message)||e.reason}`,stack:(r=e.reason)==null?void 0:r.stack,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"high",category:"javascript",timestamp:Ee()})})}async reportError(e){try{await Ni(Ye(ae,"errors"),{...e,environment:"production",timestamp:Ee()}),zt&&console.log("Error logged to analytics")}catch(n){console.error("Failed to report error:",n)}}reportFirebaseError(e,n){this.reportError({message:`Firebase ${n} error: ${e.message}`,stack:e.stack,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"high",category:"firebase",metadata:{operation:n,code:e.code,details:e.details},timestamp:Ee()})}reportNetworkError(e,n){this.reportError({message:`Network error: ${e.message}`,stack:e.stack,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"medium",category:"network",metadata:{endpoint:n,status:e.status,statusText:e.statusText},timestamp:Ee()})}reportUserError(e,n){this.reportError({message:`User error: ${e}`,userAgent:navigator.userAgent,url:window.location.href,userId:this.userId,severity:"low",category:"user",metadata:n,timestamp:Ee()})}async submitFeedback(e){try{await Ni(Ye(ae,"feedback"),{...e,userId:this.userId,page:window.location.pathname,timestamp:Ee(),userAgent:navigator.userAgent}),console.log("✅ Feedback submitted successfully")}catch(n){throw console.error("❌ Failed to submit feedback:",n),n}}async getErrorStats(e="day"){try{return{totalErrors:42,criticalErrors:3,topErrors:[{message:"Network timeout",count:15},{message:"Firebase auth error",count:8},{message:"WebRTC connection failed",count:5}],errorsByCategory:{javascript:20,network:15,firebase:5,user:2}}}catch(n){return console.error("Failed to get error stats:",n),null}}}const Cz=new Sz;function S1(t){Cz.initialize(t)}function Iz(){return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-peach-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading AjnabiCam..."})]})})}function Az(){const[t,e]=y.useState(!0),[n,r]=y.useState(!1);Ge();const[s,a]=y.useState(!1);if(s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{children:"Something went wrong. Please refresh the page."})});try{PU()}catch(l){console.error("Analytics initialization failed:",l)}y.useEffect(()=>{const l=setTimeout(()=>{e(!1)},2e3);return(async()=>{try{console.log("🎯 Initializing ad mediation services...");const d=await sr.initialize();console.log(`🎮 Unity Ads: ${d?"Ready":"Failed"}`);const h=await Pa.initialize();console.log(`📱 AdMob Mediation: ${h?"Ready":"Failed"}`),d&&console.log("✅ Unity Ads mediation is active - higher eCPM expected!")}catch(d){console.warn("⚠️ Ad service initialization failed (non-critical):",d)}})(),()=>clearTimeout(l)},[]),y.useEffect(()=>{S1();const l=ol(dn,async c=>{if(c)await ST(c.uid),S1(c.uid);else try{await nT(dn),console.log("✅ User signed in anonymously")}catch(d){console.error("❌ Error signing in anonymously:",d)}r(!0)});return()=>l()},[]);const o=()=>{e(!1)};return t?i.jsx(t$,{onComplete:o}):n?i.jsx(_z,{children:i.jsx(jz,{children:i.jsx(y.Suspense,{fallback:i.jsx(Iz,{}),children:i.jsxs("div",{className:"app-container min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 touch-manipulation native-scroll",children:[i.jsxs(HP,{children:[i.jsx(Be,{path:"/",element:i.jsx(kp,{})}),i.jsx(Be,{path:"/onboarding",element:i.jsx(r$,{})}),i.jsx(Be,{path:"/user-setup",element:i.jsx(rz,{})}),i.jsx(Be,{path:"/premium-trial",element:i.jsx(w1,{})}),i.jsx(Be,{path:"/home",element:i.jsx(kp,{})}),i.jsx(Be,{path:"/gender-select",element:i.jsx(a$,{})}),i.jsx(Be,{path:"/video-chat",element:i.jsx(X7,{})}),i.jsx(Be,{path:"/voice",element:i.jsx(I$,{})}),i.jsx(Be,{path:"/personal-chat",element:i.jsx(sz,{})}),i.jsx(Be,{path:"/chat",element:i.jsx(C$,{})}),i.jsx(Be,{path:"/friends",element:i.jsx(oz,{})}),i.jsx(Be,{path:"/profile",element:i.jsx(Q$,{})}),i.jsx(Be,{path:"/refer",element:i.jsx(w1,{})}),i.jsx(Be,{path:"/referral-code",element:i.jsx(i$,{})}),i.jsx(Be,{path:"/ai-chatbot",element:i.jsx(uz,{})}),i.jsx(Be,{path:"/premium",element:i.jsx(pz,{})}),i.jsx(Be,{path:"/privacy-policy",element:i.jsx(gz,{})}),i.jsx(Be,{path:"/terms-of-service",element:i.jsx(xz,{})}),i.jsx(Be,{path:"/admin",element:i.jsx(yz,{})}),i.jsx(Be,{path:"/spin-wheel",element:i.jsx(vz,{})}),i.jsx(Be,{path:"/storage-debug",element:i.jsx(ez,{})}),i.jsx(Be,{path:"/firebase-debug",element:i.jsx(nz,{})}),i.jsx(Be,{path:"/ad-testing",element:i.jsx(fz,{})}),i.jsx(Be,{path:"*",element:i.jsx(kp,{})})]}),i.jsx(wz,{}),i.jsx(Ez,{}),i.jsx(Tz,{})]})})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-peach-25 via-cream-50 to-blush-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-peach-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Initializing..."})]})})}RU();function C1({error:t,resetErrorBoundary:e}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-600 mb-4",children:t.message}),i.jsx("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Try again"})]})})}zN(document.getElementById("root")).render(i.jsx(y.StrictMode,{children:i.jsx(eC,{children:i.jsx(n$,{children:i.jsx(U7,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:i.jsx(AF,{children:i.jsx(PF,{children:i.jsx(LF,{children:i.jsx(XP,{children:i.jsx(zw,{FallbackComponent:C1,children:i.jsx(TF,{children:i.jsx(zw,{FallbackComponent:C1,children:i.jsx(Az,{})})})})})})})})})})})}));export{cn as _,gu as g,RV as p,y as r,nm as u};
